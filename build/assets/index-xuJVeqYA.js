function _5(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in r)){const o=Object.getOwnPropertyDescriptor(s,n);o&&Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();function P0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function M5(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var n=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return r[s]}})}),t}var lm={exports:{}},Pl={},cm={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function E5(){if(Hb)return tt;Hb=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function j(z,Z,q){this.props=z,this.context=Z,this.refs=w,this.updater=q||x}j.prototype.isReactComponent={},j.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=j.prototype;function N(z,Z,q){this.props=z,this.context=Z,this.refs=w,this.updater=q||x}var k=N.prototype=new C;k.constructor=N,v(k,j.prototype),k.isPureReactComponent=!0;var _=Array.isArray,P=Object.prototype.hasOwnProperty,D={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function E(z,Z,q){var oe,he={},fe=null,G=null;if(Z!=null)for(oe in Z.ref!==void 0&&(G=Z.ref),Z.key!==void 0&&(fe=""+Z.key),Z)P.call(Z,oe)&&!M.hasOwnProperty(oe)&&(he[oe]=Z[oe]);var Q=arguments.length-2;if(Q===1)he.children=q;else if(1<Q){for(var de=Array(Q),me=0;me<Q;me++)de[me]=arguments[me+2];he.children=de}if(z&&z.defaultProps)for(oe in Q=z.defaultProps,Q)he[oe]===void 0&&(he[oe]=Q[oe]);return{$$typeof:r,type:z,key:fe,ref:G,props:he,_owner:D.current}}function R(z,Z){return{$$typeof:r,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function B(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(q){return Z[q]})}var L=/\/+/g;function $(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):Z.toString(36)}function J(z,Z,q,oe,he){var fe=typeof z;(fe==="undefined"||fe==="boolean")&&(z=null);var G=!1;if(z===null)G=!0;else switch(fe){case"string":case"number":G=!0;break;case"object":switch(z.$$typeof){case r:case e:G=!0}}if(G)return G=z,he=he(G),z=oe===""?"."+$(G,0):oe,_(he)?(q="",z!=null&&(q=z.replace(L,"$&/")+"/"),J(he,Z,q,"",function(me){return me})):he!=null&&(O(he)&&(he=R(he,q+(!he.key||G&&G.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+z)),Z.push(he)),1;if(G=0,oe=oe===""?".":oe+":",_(z))for(var Q=0;Q<z.length;Q++){fe=z[Q];var de=oe+$(fe,Q);G+=J(fe,Z,q,de,he)}else if(de=y(z),typeof de=="function")for(z=de.call(z),Q=0;!(fe=z.next()).done;)fe=fe.value,de=oe+$(fe,Q++),G+=J(fe,Z,q,de,he);else if(fe==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return G}function ce(z,Z,q){if(z==null)return z;var oe=[],he=0;return J(z,oe,"","",function(fe){return Z.call(q,fe,he++)}),oe}function V(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(q){(z._status===0||z._status===-1)&&(z._status=1,z._result=q)},function(q){(z._status===0||z._status===-1)&&(z._status=2,z._result=q)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var X={current:null},F={transition:null},ee={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:F,ReactCurrentOwner:D};function H(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:ce,forEach:function(z,Z,q){ce(z,function(){Z.apply(this,arguments)},q)},count:function(z){var Z=0;return ce(z,function(){Z++}),Z},toArray:function(z){return ce(z,function(Z){return Z})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},tt.Component=j,tt.Fragment=t,tt.Profiler=n,tt.PureComponent=N,tt.StrictMode=s,tt.Suspense=u,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,tt.act=H,tt.cloneElement=function(z,Z,q){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var oe=v({},z.props),he=z.key,fe=z.ref,G=z._owner;if(Z!=null){if(Z.ref!==void 0&&(fe=Z.ref,G=D.current),Z.key!==void 0&&(he=""+Z.key),z.type&&z.type.defaultProps)var Q=z.type.defaultProps;for(de in Z)P.call(Z,de)&&!M.hasOwnProperty(de)&&(oe[de]=Z[de]===void 0&&Q!==void 0?Q[de]:Z[de])}var de=arguments.length-2;if(de===1)oe.children=q;else if(1<de){Q=Array(de);for(var me=0;me<de;me++)Q[me]=arguments[me+2];oe.children=Q}return{$$typeof:r,type:z.type,key:he,ref:fe,props:oe,_owner:G}},tt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},tt.createElement=E,tt.createFactory=function(z){var Z=E.bind(null,z);return Z.type=z,Z},tt.createRef=function(){return{current:null}},tt.forwardRef=function(z){return{$$typeof:d,render:z}},tt.isValidElement=O,tt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:V}},tt.memo=function(z,Z){return{$$typeof:h,type:z,compare:Z===void 0?null:Z}},tt.startTransition=function(z){var Z=F.transition;F.transition={};try{z()}finally{F.transition=Z}},tt.unstable_act=H,tt.useCallback=function(z,Z){return X.current.useCallback(z,Z)},tt.useContext=function(z){return X.current.useContext(z)},tt.useDebugValue=function(){},tt.useDeferredValue=function(z){return X.current.useDeferredValue(z)},tt.useEffect=function(z,Z){return X.current.useEffect(z,Z)},tt.useId=function(){return X.current.useId()},tt.useImperativeHandle=function(z,Z,q){return X.current.useImperativeHandle(z,Z,q)},tt.useInsertionEffect=function(z,Z){return X.current.useInsertionEffect(z,Z)},tt.useLayoutEffect=function(z,Z){return X.current.useLayoutEffect(z,Z)},tt.useMemo=function(z,Z){return X.current.useMemo(z,Z)},tt.useReducer=function(z,Z,q){return X.current.useReducer(z,Z,q)},tt.useRef=function(z){return X.current.useRef(z)},tt.useState=function(z){return X.current.useState(z)},tt.useSyncExternalStore=function(z,Z,q){return X.current.useSyncExternalStore(z,Z,q)},tt.useTransition=function(){return X.current.useTransition()},tt.version="18.3.1",tt}var Ub;function Cc(){return Ub||(Ub=1,cm.exports=E5()),cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function P5(){if($b)return Pl;$b=1;var r=Cc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(d,u,h){var p,m={},y=null,x=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(x=u.ref);for(p in u)s.call(u,p)&&!o.hasOwnProperty(p)&&(m[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:e,type:d,key:y,ref:x,props:m,_owner:n.current}}return Pl.Fragment=t,Pl.jsx=l,Pl.jsxs=l,Pl}var Gb;function D5(){return Gb||(Gb=1,lm.exports=P5()),lm.exports}var i=D5(),Ud={},dm={exports:{}},zr={},um={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function A5(){return Yb||(Yb=1,(function(r){function e(F,ee){var H=F.length;F.push(ee);e:for(;0<H;){var z=H-1>>>1,Z=F[z];if(0<n(Z,ee))F[z]=ee,F[H]=Z,H=z;else break e}}function t(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ee=F[0],H=F.pop();if(H!==ee){F[0]=H;e:for(var z=0,Z=F.length,q=Z>>>1;z<q;){var oe=2*(z+1)-1,he=F[oe],fe=oe+1,G=F[fe];if(0>n(he,H))fe<Z&&0>n(G,he)?(F[z]=G,F[fe]=H,z=fe):(F[z]=he,F[oe]=H,z=oe);else if(fe<Z&&0>n(G,H))F[z]=G,F[fe]=H,z=fe;else break e}}return ee}function n(F,ee){var H=F.sortIndex-ee.sortIndex;return H!==0?H:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();r.unstable_now=function(){return l.now()-d}}var u=[],h=[],p=1,m=null,y=3,x=!1,v=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(F){for(var ee=t(h);ee!==null;){if(ee.callback===null)s(h);else if(ee.startTime<=F)s(h),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=t(h)}}function _(F){if(w=!1,k(F),!v)if(t(u)!==null)v=!0,V(P);else{var ee=t(h);ee!==null&&X(_,ee.startTime-F)}}function P(F,ee){v=!1,w&&(w=!1,C(E),E=-1),x=!0;var H=y;try{for(k(ee),m=t(u);m!==null&&(!(m.expirationTime>ee)||F&&!B());){var z=m.callback;if(typeof z=="function"){m.callback=null,y=m.priorityLevel;var Z=z(m.expirationTime<=ee);ee=r.unstable_now(),typeof Z=="function"?m.callback=Z:m===t(u)&&s(u),k(ee)}else s(u);m=t(u)}if(m!==null)var q=!0;else{var oe=t(h);oe!==null&&X(_,oe.startTime-ee),q=!1}return q}finally{m=null,y=H,x=!1}}var D=!1,M=null,E=-1,R=5,O=-1;function B(){return!(r.unstable_now()-O<R)}function L(){if(M!==null){var F=r.unstable_now();O=F;var ee=!0;try{ee=M(!0,F)}finally{ee?$():(D=!1,M=null)}}else D=!1}var $;if(typeof N=="function")$=function(){N(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ce=J.port2;J.port1.onmessage=L,$=function(){ce.postMessage(null)}}else $=function(){j(L,0)};function V(F){M=F,D||(D=!0,$())}function X(F,ee){E=j(function(){F(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_continueExecution=function(){v||x||(v=!0,V(P))},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(F){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var H=y;y=ee;try{return F()}finally{y=H}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=y;y=F;try{return ee()}finally{y=H}},r.unstable_scheduleCallback=function(F,ee,H){var z=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,F={id:p++,callback:ee,priorityLevel:F,startTime:H,expirationTime:Z,sortIndex:-1},H>z?(F.sortIndex=H,e(h,F),t(u)===null&&F===t(h)&&(w?(C(E),E=-1):w=!0,X(_,H-z))):(F.sortIndex=Z,e(u,F),v||x||(v=!0,V(P))),F},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(F){var ee=y;return function(){var H=y;y=ee;try{return F.apply(this,arguments)}finally{y=H}}}})(hm)),hm}var Xb;function R5(){return Xb||(Xb=1,um.exports=A5()),um.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function O5(){if(Kb)return zr;Kb=1;var r=Cc(),e=R5();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,n={};function o(a,c){l(a,c),l(a+"Capture",c)}function l(a,c){for(n[a]=c,a=0;a<c.length;a++)s.add(c[a])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(a){return u.call(m,a)?!0:u.call(p,a)?!1:h.test(a)?m[a]=!0:(p[a]=!0,!1)}function x(a,c,f,g){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function v(a,c,f,g){if(c===null||typeof c>"u"||x(a,c,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,f,g,S,T,A){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=S,this.mustUseProperty=f,this.propertyName=a,this.type=c,this.sanitizeURL=T,this.removeEmptyString=A}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){j[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];j[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){j[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){j[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){j[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){j[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){j[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){j[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){j[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function N(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(C,N);j[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(C,N);j[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(C,N);j[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){j[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){j[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,c,f,g){var S=j.hasOwnProperty(c)?j[c]:null;(S!==null?S.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,f,S,g)&&(f=null),g||S===null?y(c)&&(f===null?a.removeAttribute(c):a.setAttribute(c,""+f)):S.mustUseProperty?a[S.propertyName]=f===null?S.type===3?!1:"":f:(c=S.attributeName,g=S.attributeNamespace,f===null?a.removeAttribute(c):(S=S.type,f=S===3||S===4&&f===!0?"":""+f,g?a.setAttributeNS(g,c,f):a.setAttribute(c,f))))}var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),F=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var H=Object.assign,z;function Z(a){if(z===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);z=c&&c[1]||""}return`
`+z+a}var q=!1;function oe(a,c){if(!a||q)return"";q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ie){var g=ie}Reflect.construct(a,[],c)}else{try{c.call()}catch(ie){g=ie}a.call(c.prototype)}else{try{throw Error()}catch(ie){g=ie}a()}}catch(ie){if(ie&&g&&typeof ie.stack=="string"){for(var S=ie.stack.split(`
`),T=g.stack.split(`
`),A=S.length-1,I=T.length-1;1<=A&&0<=I&&S[A]!==T[I];)I--;for(;1<=A&&0<=I;A--,I--)if(S[A]!==T[I]){if(A!==1||I!==1)do if(A--,I--,0>I||S[A]!==T[I]){var U=`
`+S[A].replace(" at new "," at ");return a.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",a.displayName)),U}while(1<=A&&0<=I);break}}}finally{q=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?Z(a):""}function he(a){switch(a.tag){case 5:return Z(a.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return a=oe(a.type,!1),a;case 11:return a=oe(a.type.render,!1),a;case 1:return a=oe(a.type,!0),a;default:return""}}function fe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case D:return"Portal";case R:return"Profiler";case E:return"StrictMode";case $:return"Suspense";case J:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case B:return(a.displayName||"Context")+".Consumer";case O:return(a._context.displayName||"Context")+".Provider";case L:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ce:return c=a.displayName||null,c!==null?c:fe(a.type)||"Memo";case V:c=a._payload,a=a._init;try{return fe(a(c))}catch{}}return null}function G(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(c);case 8:return c===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Q(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function de(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function me(a){var c=de(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),g=""+a[c];if(!a.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,T=f.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return S.call(this)},set:function(A){g=""+A,T.call(this,A)}}),Object.defineProperty(a,c,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function _e(a){a._valueTracker||(a._valueTracker=me(a))}function Ve(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return a&&(g=de(a)?a.checked?"true":"false":a.value),a=g,a!==f?(c.setValue(a),!0):!1}function be(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function pe(a,c){var f=c.checked;return H({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function re(a,c){var f=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;f=Q(c.value!=null?c.value:f),a._wrapperState={initialChecked:g,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ge(a,c){c=c.checked,c!=null&&k(a,"checked",c,!1)}function ae(a,c){ge(a,c);var f=Q(c.value),g=c.type;if(f!=null)g==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Re(a,c.type,f):c.hasOwnProperty("defaultValue")&&Re(a,c.type,Q(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function ve(a,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,f||c===a.value||(a.value=c),a.defaultValue=c}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Re(a,c,f){(c!=="number"||be(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var Pe=Array.isArray;function Je(a,c,f,g){if(a=a.options,c){c={};for(var S=0;S<f.length;S++)c["$"+f[S]]=!0;for(f=0;f<a.length;f++)S=c.hasOwnProperty("$"+a[f].value),a[f].selected!==S&&(a[f].selected=S),S&&g&&(a[f].defaultSelected=!0)}else{for(f=""+Q(f),c=null,S=0;S<a.length;S++){if(a[S].value===f){a[S].selected=!0,g&&(a[S].defaultSelected=!0);return}c!==null||a[S].disabled||(c=a[S])}c!==null&&(c.selected=!0)}}function He(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function le(a,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(t(92));if(Pe(f)){if(1<f.length)throw Error(t(93));f=f[0]}c=f}c==null&&(c=""),f=c}a._wrapperState={initialValue:Q(f)}}function Ge(a,c){var f=Q(c.value),g=Q(c.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),c.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),g!=null&&(a.defaultValue=""+g)}function st(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function ct(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?ct(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var jr,Gs=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,g,S){MSApp.execUnsafeLocalFunction(function(){return a(c,f,g,S)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=jr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Dt(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ue=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(a){ue.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),hr[c]=hr[a]})});function Ne(a,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||hr.hasOwnProperty(a)&&hr[a]?(""+c).trim():c+"px"}function we(a,c){a=a.style;for(var f in c)if(c.hasOwnProperty(f)){var g=f.indexOf("--")===0,S=Ne(f,c[f],g);f==="float"&&(f="cssFloat"),g?a.setProperty(f,S):a[f]=S}}var Me=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function We(a,c){if(c){if(Me[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Uo(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=null;function ns(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ka=null,qn=null,kn=null;function qa(a){if(a=gl(a)){if(typeof Ka!="function")throw Error(t(280));var c=a.stateNode;c&&(c=od(c),Ka(a.stateNode,a.type,c))}}function qe(a){qn?kn?kn.push(a):kn=[a]:qn=a}function Ot(){if(qn){var a=qn,c=kn;if(kn=qn=null,qa(a),c)for(a=0;a<c.length;a++)qa(c[a])}}function Kt(a,c){return a(c)}function fr(){}var Zn=!1;function Ut(a,c,f){if(Zn)return a(c,f);Zn=!0;try{return Kt(a,c,f)}finally{Zn=!1,(qn!==null||kn!==null)&&(fr(),Ot())}}function rr(a,c){var f=a.stateNode;if(f===null)return null;var g=od(f);if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,c,typeof f));return f}var Jn=!1;if(d)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Jn=!1}function Gr(a,c,f,g,S,T,A,I,U){var ie=Array.prototype.slice.call(arguments,3);try{c.apply(f,ie)}catch(xe){this.onError(xe)}}var Qn=!1,os=null,Za=!1,Tf=null,O_={onError:function(a){Qn=!0,os=a}};function F_(a,c,f,g,S,T,A,I,U){Qn=!1,os=null,Gr.apply(O_,arguments)}function L_(a,c,f,g,S,T,A,I,U){if(F_.apply(this,arguments),Qn){if(Qn){var ie=os;Qn=!1,os=null}else throw Error(t(198));Za||(Za=!0,Tf=ie)}}function Go(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function hx(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function fx(a){if(Go(a)!==a)throw Error(t(188))}function z_(a){var c=a.alternate;if(!c){if(c=Go(a),c===null)throw Error(t(188));return c!==a?null:a}for(var f=a,g=c;;){var S=f.return;if(S===null)break;var T=S.alternate;if(T===null){if(g=S.return,g!==null){f=g;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===f)return fx(S),a;if(T===g)return fx(S),c;T=T.sibling}throw Error(t(188))}if(f.return!==g.return)f=S,g=T;else{for(var A=!1,I=S.child;I;){if(I===f){A=!0,f=S,g=T;break}if(I===g){A=!0,g=S,f=T;break}I=I.sibling}if(!A){for(I=T.child;I;){if(I===f){A=!0,f=T,g=S;break}if(I===g){A=!0,g=T,f=S;break}I=I.sibling}if(!A)throw Error(t(189))}}if(f.alternate!==g)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:c}function px(a){return a=z_(a),a!==null?mx(a):null}function mx(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=mx(a);if(c!==null)return c;a=a.sibling}return null}var gx=e.unstable_scheduleCallback,yx=e.unstable_cancelCallback,I_=e.unstable_shouldYield,B_=e.unstable_requestPaint,Ft=e.unstable_now,V_=e.unstable_getCurrentPriorityLevel,_f=e.unstable_ImmediatePriority,xx=e.unstable_UserBlockingPriority,Ic=e.unstable_NormalPriority,W_=e.unstable_LowPriority,vx=e.unstable_IdlePriority,Bc=null,Ys=null;function H_(a){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(Bc,a,void 0,(a.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:G_,U_=Math.log,$_=Math.LN2;function G_(a){return a>>>=0,a===0?32:31-(U_(a)/$_|0)|0}var Vc=64,Wc=4194304;function Ja(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Hc(a,c){var f=a.pendingLanes;if(f===0)return 0;var g=0,S=a.suspendedLanes,T=a.pingedLanes,A=f&268435455;if(A!==0){var I=A&~S;I!==0?g=Ja(I):(T&=A,T!==0&&(g=Ja(T)))}else A=f&~S,A!==0?g=Ja(A):T!==0&&(g=Ja(T));if(g===0)return 0;if(c!==0&&c!==g&&(c&S)===0&&(S=g&-g,T=c&-c,S>=T||S===16&&(T&4194240)!==0))return c;if((g&4)!==0&&(g|=f&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=g;0<c;)f=31-Ns(c),S=1<<f,g|=a[f],c&=~S;return g}function Y_(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X_(a,c){for(var f=a.suspendedLanes,g=a.pingedLanes,S=a.expirationTimes,T=a.pendingLanes;0<T;){var A=31-Ns(T),I=1<<A,U=S[A];U===-1?((I&f)===0||(I&g)!==0)&&(S[A]=Y_(I,c)):U<=c&&(a.expiredLanes|=I),T&=~I}}function Mf(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function bx(){var a=Vc;return Vc<<=1,(Vc&4194240)===0&&(Vc=64),a}function Ef(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function Qa(a,c,f){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Ns(c),a[c]=f}function K_(a,c){var f=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<f;){var S=31-Ns(f),T=1<<S;c[S]=0,g[S]=-1,a[S]=-1,f&=~T}}function Pf(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var g=31-Ns(f),S=1<<g;S&c|a[g]&c&&(a[g]|=c),f&=~S}}var ht=0;function wx(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Sx,Df,Cx,kx,jx,Af=!1,Uc=[],eo=null,to=null,ro=null,el=new Map,tl=new Map,so=[],q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nx(a,c){switch(a){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":el.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(c.pointerId)}}function rl(a,c,f,g,S,T){return a===null||a.nativeEvent!==T?(a={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:T,targetContainers:[S]},c!==null&&(c=gl(c),c!==null&&Df(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),a)}function Z_(a,c,f,g,S){switch(c){case"focusin":return eo=rl(eo,a,c,f,g,S),!0;case"dragenter":return to=rl(to,a,c,f,g,S),!0;case"mouseover":return ro=rl(ro,a,c,f,g,S),!0;case"pointerover":var T=S.pointerId;return el.set(T,rl(el.get(T)||null,a,c,f,g,S)),!0;case"gotpointercapture":return T=S.pointerId,tl.set(T,rl(tl.get(T)||null,a,c,f,g,S)),!0}return!1}function Tx(a){var c=Yo(a.target);if(c!==null){var f=Go(c);if(f!==null){if(c=f.tag,c===13){if(c=hx(f),c!==null){a.blockedOn=c,jx(a.priority,function(){Cx(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $c(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=Of(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);$o=g,f.target.dispatchEvent(g),$o=null}else return c=gl(f),c!==null&&Df(c),a.blockedOn=f,!1;c.shift()}return!0}function _x(a,c,f){$c(a)&&f.delete(c)}function J_(){Af=!1,eo!==null&&$c(eo)&&(eo=null),to!==null&&$c(to)&&(to=null),ro!==null&&$c(ro)&&(ro=null),el.forEach(_x),tl.forEach(_x)}function sl(a,c){a.blockedOn===c&&(a.blockedOn=null,Af||(Af=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,J_)))}function nl(a){function c(S){return sl(S,a)}if(0<Uc.length){sl(Uc[0],a);for(var f=1;f<Uc.length;f++){var g=Uc[f];g.blockedOn===a&&(g.blockedOn=null)}}for(eo!==null&&sl(eo,a),to!==null&&sl(to,a),ro!==null&&sl(ro,a),el.forEach(c),tl.forEach(c),f=0;f<so.length;f++)g=so[f],g.blockedOn===a&&(g.blockedOn=null);for(;0<so.length&&(f=so[0],f.blockedOn===null);)Tx(f),f.blockedOn===null&&so.shift()}var Ni=_.ReactCurrentBatchConfig,Gc=!0;function Q_(a,c,f,g){var S=ht,T=Ni.transition;Ni.transition=null;try{ht=1,Rf(a,c,f,g)}finally{ht=S,Ni.transition=T}}function eM(a,c,f,g){var S=ht,T=Ni.transition;Ni.transition=null;try{ht=4,Rf(a,c,f,g)}finally{ht=S,Ni.transition=T}}function Rf(a,c,f,g){if(Gc){var S=Of(a,c,f,g);if(S===null)Jf(a,c,g,Yc,f),Nx(a,g);else if(Z_(S,a,c,f,g))g.stopPropagation();else if(Nx(a,g),c&4&&-1<q_.indexOf(a)){for(;S!==null;){var T=gl(S);if(T!==null&&Sx(T),T=Of(a,c,f,g),T===null&&Jf(a,c,g,Yc,f),T===S)break;S=T}S!==null&&g.stopPropagation()}else Jf(a,c,g,null,f)}}var Yc=null;function Of(a,c,f,g){if(Yc=null,a=ns(g),a=Yo(a),a!==null)if(c=Go(a),c===null)a=null;else if(f=c.tag,f===13){if(a=hx(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Yc=a,null}function Mx(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V_()){case _f:return 1;case xx:return 4;case Ic:case W_:return 16;case vx:return 536870912;default:return 16}default:return 16}}var no=null,Ff=null,Xc=null;function Ex(){if(Xc)return Xc;var a,c=Ff,f=c.length,g,S="value"in no?no.value:no.textContent,T=S.length;for(a=0;a<f&&c[a]===S[a];a++);var A=f-a;for(g=1;g<=A&&c[f-g]===S[T-g];g++);return Xc=S.slice(a,1<g?1-g:void 0)}function Kc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function qc(){return!0}function Px(){return!1}function Yr(a){function c(f,g,S,T,A){this._reactName=f,this._targetInst=S,this.type=g,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(f=a[I],this[I]=f?f(T):T[I]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?qc:Px,this.isPropagationStopped=Px,this}return H(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),c}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=Yr(Ti),ol=H({},Ti,{view:0,detail:0}),tM=Yr(ol),zf,If,il,Zc=H({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==il&&(il&&a.type==="mousemove"?(zf=a.screenX-il.screenX,If=a.screenY-il.screenY):If=zf=0,il=a),zf)},movementY:function(a){return"movementY"in a?a.movementY:If}}),Dx=Yr(Zc),rM=H({},Zc,{dataTransfer:0}),sM=Yr(rM),nM=H({},ol,{relatedTarget:0}),Bf=Yr(nM),oM=H({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),iM=Yr(oM),aM=H({},Ti,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),lM=Yr(aM),cM=H({},Ti,{data:0}),Ax=Yr(cM),dM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fM(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=hM[a])?!!c[a]:!1}function Vf(){return fM}var pM=H({},ol,{key:function(a){if(a.key){var c=dM[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Kc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?uM[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(a){return a.type==="keypress"?Kc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Kc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),mM=Yr(pM),gM=H({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rx=Yr(gM),yM=H({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),xM=Yr(yM),vM=H({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),bM=Yr(vM),wM=H({},Zc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),SM=Yr(wM),CM=[9,13,27,32],Wf=d&&"CompositionEvent"in window,al=null;d&&"documentMode"in document&&(al=document.documentMode);var kM=d&&"TextEvent"in window&&!al,Ox=d&&(!Wf||al&&8<al&&11>=al),Fx=" ",Lx=!1;function zx(a,c){switch(a){case"keyup":return CM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ix(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _i=!1;function jM(a,c){switch(a){case"compositionend":return Ix(c);case"keypress":return c.which!==32?null:(Lx=!0,Fx);case"textInput":return a=c.data,a===Fx&&Lx?null:a;default:return null}}function NM(a,c){if(_i)return a==="compositionend"||!Wf&&zx(a,c)?(a=Ex(),Xc=Ff=no=null,_i=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ox&&c.locale!=="ko"?null:c.data;default:return null}}var TM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bx(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!TM[a.type]:c==="textarea"}function Vx(a,c,f,g){qe(g),c=rd(c,"onChange"),0<c.length&&(f=new Lf("onChange","change",null,f,g),a.push({event:f,listeners:c}))}var ll=null,cl=null;function _M(a){ov(a,0)}function Jc(a){var c=Ai(a);if(Ve(c))return a}function MM(a,c){if(a==="change")return c}var Wx=!1;if(d){var Hf;if(d){var Uf="oninput"in document;if(!Uf){var Hx=document.createElement("div");Hx.setAttribute("oninput","return;"),Uf=typeof Hx.oninput=="function"}Hf=Uf}else Hf=!1;Wx=Hf&&(!document.documentMode||9<document.documentMode)}function Ux(){ll&&(ll.detachEvent("onpropertychange",$x),cl=ll=null)}function $x(a){if(a.propertyName==="value"&&Jc(cl)){var c=[];Vx(c,cl,a,ns(a)),Ut(_M,c)}}function EM(a,c,f){a==="focusin"?(Ux(),ll=c,cl=f,ll.attachEvent("onpropertychange",$x)):a==="focusout"&&Ux()}function PM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jc(cl)}function DM(a,c){if(a==="click")return Jc(c)}function AM(a,c){if(a==="input"||a==="change")return Jc(c)}function RM(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Ts=typeof Object.is=="function"?Object.is:RM;function dl(a,c){if(Ts(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var S=f[g];if(!u.call(c,S)||!Ts(a[S],c[S]))return!1}return!0}function Gx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Yx(a,c){var f=Gx(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=c&&g>=c)return{node:f,offset:c-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Gx(f)}}function Xx(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?Xx(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Kx(){for(var a=window,c=be();c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=be(a.document)}return c}function $f(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function OM(a){var c=Kx(),f=a.focusedElem,g=a.selectionRange;if(c!==f&&f&&f.ownerDocument&&Xx(f.ownerDocument.documentElement,f)){if(g!==null&&$f(f)){if(c=g.start,a=g.end,a===void 0&&(a=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(a,f.value.length);else if(a=(c=f.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var S=f.textContent.length,T=Math.min(g.start,S);g=g.end===void 0?T:Math.min(g.end,S),!a.extend&&T>g&&(S=g,g=T,T=S),S=Yx(f,T);var A=Yx(f,g);S&&A&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),a.removeAllRanges(),T>g?(a.addRange(c),a.extend(A.node,A.offset)):(c.setEnd(A.node,A.offset),a.addRange(c)))}}for(c=[],a=f;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)a=c[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var FM=d&&"documentMode"in document&&11>=document.documentMode,Mi=null,Gf=null,ul=null,Yf=!1;function qx(a,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Yf||Mi==null||Mi!==be(g)||(g=Mi,"selectionStart"in g&&$f(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ul&&dl(ul,g)||(ul=g,g=rd(Gf,"onSelect"),0<g.length&&(c=new Lf("onSelect","select",null,c,f),a.push({event:c,listeners:g}),c.target=Mi)))}function Qc(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var Ei={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},Xf={},Zx={};d&&(Zx=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function ed(a){if(Xf[a])return Xf[a];if(!Ei[a])return a;var c=Ei[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in Zx)return Xf[a]=c[f];return a}var Jx=ed("animationend"),Qx=ed("animationiteration"),ev=ed("animationstart"),tv=ed("transitionend"),rv=new Map,sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(a,c){rv.set(a,c),o(c,[a])}for(var Kf=0;Kf<sv.length;Kf++){var qf=sv[Kf],LM=qf.toLowerCase(),zM=qf[0].toUpperCase()+qf.slice(1);oo(LM,"on"+zM)}oo(Jx,"onAnimationEnd"),oo(Qx,"onAnimationIteration"),oo(ev,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(tv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IM=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function nv(a,c,f){var g=a.type||"unknown-event";a.currentTarget=f,L_(g,c,void 0,a),a.currentTarget=null}function ov(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],S=g.event;g=g.listeners;e:{var T=void 0;if(c)for(var A=g.length-1;0<=A;A--){var I=g[A],U=I.instance,ie=I.currentTarget;if(I=I.listener,U!==T&&S.isPropagationStopped())break e;nv(S,I,ie),T=U}else for(A=0;A<g.length;A++){if(I=g[A],U=I.instance,ie=I.currentTarget,I=I.listener,U!==T&&S.isPropagationStopped())break e;nv(S,I,ie),T=U}}}if(Za)throw a=Tf,Za=!1,Tf=null,a}function yt(a,c){var f=c[np];f===void 0&&(f=c[np]=new Set);var g=a+"__bubble";f.has(g)||(iv(c,a,2,!1),f.add(g))}function Zf(a,c,f){var g=0;c&&(g|=4),iv(f,a,g,c)}var td="_reactListening"+Math.random().toString(36).slice(2);function fl(a){if(!a[td]){a[td]=!0,s.forEach(function(f){f!=="selectionchange"&&(IM.has(f)||Zf(f,!1,a),Zf(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[td]||(c[td]=!0,Zf("selectionchange",!1,c))}}function iv(a,c,f,g){switch(Mx(c)){case 1:var S=Q_;break;case 4:S=eM;break;default:S=Rf}f=S.bind(null,c,f,a),S=void 0,!Jn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),g?S!==void 0?a.addEventListener(c,f,{capture:!0,passive:S}):a.addEventListener(c,f,!0):S!==void 0?a.addEventListener(c,f,{passive:S}):a.addEventListener(c,f,!1)}function Jf(a,c,f,g,S){var T=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var I=g.stateNode.containerInfo;if(I===S||I.nodeType===8&&I.parentNode===S)break;if(A===4)for(A=g.return;A!==null;){var U=A.tag;if((U===3||U===4)&&(U=A.stateNode.containerInfo,U===S||U.nodeType===8&&U.parentNode===S))return;A=A.return}for(;I!==null;){if(A=Yo(I),A===null)return;if(U=A.tag,U===5||U===6){g=T=A;continue e}I=I.parentNode}}g=g.return}Ut(function(){var ie=T,xe=ns(f),ke=[];e:{var ye=rv.get(a);if(ye!==void 0){var De=Lf,Fe=a;switch(a){case"keypress":if(Kc(f)===0)break e;case"keydown":case"keyup":De=mM;break;case"focusin":Fe="focus",De=Bf;break;case"focusout":Fe="blur",De=Bf;break;case"beforeblur":case"afterblur":De=Bf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=sM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=xM;break;case Jx:case Qx:case ev:De=iM;break;case tv:De=bM;break;case"scroll":De=tM;break;case"wheel":De=SM;break;case"copy":case"cut":case"paste":De=lM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Rx}var Ie=(c&4)!==0,Lt=!Ie&&a==="scroll",te=Ie?ye!==null?ye+"Capture":null:ye;Ie=[];for(var K=ie,se;K!==null;){se=K;var Te=se.stateNode;if(se.tag===5&&Te!==null&&(se=Te,te!==null&&(Te=rr(K,te),Te!=null&&Ie.push(pl(K,Te,se)))),Lt)break;K=K.return}0<Ie.length&&(ye=new De(ye,Fe,null,f,xe),ke.push({event:ye,listeners:Ie}))}}if((c&7)===0){e:{if(ye=a==="mouseover"||a==="pointerover",De=a==="mouseout"||a==="pointerout",ye&&f!==$o&&(Fe=f.relatedTarget||f.fromElement)&&(Yo(Fe)||Fe[jn]))break e;if((De||ye)&&(ye=xe.window===xe?xe:(ye=xe.ownerDocument)?ye.defaultView||ye.parentWindow:window,De?(Fe=f.relatedTarget||f.toElement,De=ie,Fe=Fe?Yo(Fe):null,Fe!==null&&(Lt=Go(Fe),Fe!==Lt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(De=null,Fe=ie),De!==Fe)){if(Ie=Dx,Te="onMouseLeave",te="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Ie=Rx,Te="onPointerLeave",te="onPointerEnter",K="pointer"),Lt=De==null?ye:Ai(De),se=Fe==null?ye:Ai(Fe),ye=new Ie(Te,K+"leave",De,f,xe),ye.target=Lt,ye.relatedTarget=se,Te=null,Yo(xe)===ie&&(Ie=new Ie(te,K+"enter",Fe,f,xe),Ie.target=se,Ie.relatedTarget=Lt,Te=Ie),Lt=Te,De&&Fe)t:{for(Ie=De,te=Fe,K=0,se=Ie;se;se=Pi(se))K++;for(se=0,Te=te;Te;Te=Pi(Te))se++;for(;0<K-se;)Ie=Pi(Ie),K--;for(;0<se-K;)te=Pi(te),se--;for(;K--;){if(Ie===te||te!==null&&Ie===te.alternate)break t;Ie=Pi(Ie),te=Pi(te)}Ie=null}else Ie=null;De!==null&&av(ke,ye,De,Ie,!1),Fe!==null&&Lt!==null&&av(ke,Lt,Fe,Ie,!0)}}e:{if(ye=ie?Ai(ie):window,De=ye.nodeName&&ye.nodeName.toLowerCase(),De==="select"||De==="input"&&ye.type==="file")var Be=MM;else if(Bx(ye))if(Wx)Be=AM;else{Be=PM;var Ue=EM}else(De=ye.nodeName)&&De.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Be=DM);if(Be&&(Be=Be(a,ie))){Vx(ke,Be,f,xe);break e}Ue&&Ue(a,ye,ie),a==="focusout"&&(Ue=ye._wrapperState)&&Ue.controlled&&ye.type==="number"&&Re(ye,"number",ye.value)}switch(Ue=ie?Ai(ie):window,a){case"focusin":(Bx(Ue)||Ue.contentEditable==="true")&&(Mi=Ue,Gf=ie,ul=null);break;case"focusout":ul=Gf=Mi=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,qx(ke,f,xe);break;case"selectionchange":if(FM)break;case"keydown":case"keyup":qx(ke,f,xe)}var $e;if(Wf)e:{switch(a){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else _i?zx(a,f)&&(Ke="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Ke="onCompositionStart");Ke&&(Ox&&f.locale!=="ko"&&(_i||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&_i&&($e=Ex()):(no=xe,Ff="value"in no?no.value:no.textContent,_i=!0)),Ue=rd(ie,Ke),0<Ue.length&&(Ke=new Ax(Ke,a,null,f,xe),ke.push({event:Ke,listeners:Ue}),$e?Ke.data=$e:($e=Ix(f),$e!==null&&(Ke.data=$e)))),($e=kM?jM(a,f):NM(a,f))&&(ie=rd(ie,"onBeforeInput"),0<ie.length&&(xe=new Ax("onBeforeInput","beforeinput",null,f,xe),ke.push({event:xe,listeners:ie}),xe.data=$e))}ov(ke,c)})}function pl(a,c,f){return{instance:a,listener:c,currentTarget:f}}function rd(a,c){for(var f=c+"Capture",g=[];a!==null;){var S=a,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=rr(a,f),T!=null&&g.unshift(pl(a,T,S)),T=rr(a,c),T!=null&&g.push(pl(a,T,S))),a=a.return}return g}function Pi(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function av(a,c,f,g,S){for(var T=c._reactName,A=[];f!==null&&f!==g;){var I=f,U=I.alternate,ie=I.stateNode;if(U!==null&&U===g)break;I.tag===5&&ie!==null&&(I=ie,S?(U=rr(f,T),U!=null&&A.unshift(pl(f,U,I))):S||(U=rr(f,T),U!=null&&A.push(pl(f,U,I)))),f=f.return}A.length!==0&&a.push({event:c,listeners:A})}var BM=/\r\n?/g,VM=/\u0000|\uFFFD/g;function lv(a){return(typeof a=="string"?a:""+a).replace(BM,`
`).replace(VM,"")}function sd(a,c,f){if(c=lv(c),lv(a)!==c&&f)throw Error(t(425))}function nd(){}var Qf=null,ep=null;function tp(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,WM=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,HM=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(a){return cv.resolve(null).then(a).catch(UM)}:rp;function UM(a){setTimeout(function(){throw a})}function sp(a,c){var f=c,g=0;do{var S=f.nextSibling;if(a.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(g===0){a.removeChild(S),nl(c);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=S}while(f);nl(c)}function io(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function dv(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return a;c--}else f==="/$"&&c++}a=a.previousSibling}return null}var Di=Math.random().toString(36).slice(2),Xs="__reactFiber$"+Di,ml="__reactProps$"+Di,jn="__reactContainer$"+Di,np="__reactEvents$"+Di,$M="__reactListeners$"+Di,GM="__reactHandles$"+Di;function Yo(a){var c=a[Xs];if(c)return c;for(var f=a.parentNode;f;){if(c=f[jn]||f[Xs]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=dv(a);a!==null;){if(f=a[Xs])return f;a=dv(a)}return c}a=f,f=a.parentNode}return null}function gl(a){return a=a[Xs]||a[jn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ai(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function od(a){return a[ml]||null}var op=[],Ri=-1;function ao(a){return{current:a}}function xt(a){0>Ri||(a.current=op[Ri],op[Ri]=null,Ri--)}function mt(a,c){Ri++,op[Ri]=a.current,a.current=c}var lo={},pr=ao(lo),Ar=ao(!1),Xo=lo;function Oi(a,c){var f=a.type.contextTypes;if(!f)return lo;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in f)S[T]=c[T];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=S),S}function Rr(a){return a=a.childContextTypes,a!=null}function id(){xt(Ar),xt(pr)}function uv(a,c,f){if(pr.current!==lo)throw Error(t(168));mt(pr,c),mt(Ar,f)}function hv(a,c,f){var g=a.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var S in g)if(!(S in c))throw Error(t(108,G(a)||"Unknown",S));return H({},f,g)}function ad(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||lo,Xo=pr.current,mt(pr,a),mt(Ar,Ar.current),!0}function fv(a,c,f){var g=a.stateNode;if(!g)throw Error(t(169));f?(a=hv(a,c,Xo),g.__reactInternalMemoizedMergedChildContext=a,xt(Ar),xt(pr),mt(pr,a)):xt(Ar),mt(Ar,f)}var Nn=null,ld=!1,ip=!1;function pv(a){Nn===null?Nn=[a]:Nn.push(a)}function YM(a){ld=!0,pv(a)}function co(){if(!ip&&Nn!==null){ip=!0;var a=0,c=ht;try{var f=Nn;for(ht=1;a<f.length;a++){var g=f[a];do g=g(!0);while(g!==null)}Nn=null,ld=!1}catch(S){throw Nn!==null&&(Nn=Nn.slice(a+1)),gx(_f,co),S}finally{ht=c,ip=!1}}return null}var Fi=[],Li=0,cd=null,dd=0,is=[],as=0,Ko=null,Tn=1,_n="";function qo(a,c){Fi[Li++]=dd,Fi[Li++]=cd,cd=a,dd=c}function mv(a,c,f){is[as++]=Tn,is[as++]=_n,is[as++]=Ko,Ko=a;var g=Tn;a=_n;var S=32-Ns(g)-1;g&=~(1<<S),f+=1;var T=32-Ns(c)+S;if(30<T){var A=S-S%5;T=(g&(1<<A)-1).toString(32),g>>=A,S-=A,Tn=1<<32-Ns(c)+S|f<<S|g,_n=T+a}else Tn=1<<T|f<<S|g,_n=a}function ap(a){a.return!==null&&(qo(a,1),mv(a,1,0))}function lp(a){for(;a===cd;)cd=Fi[--Li],Fi[Li]=null,dd=Fi[--Li],Fi[Li]=null;for(;a===Ko;)Ko=is[--as],is[as]=null,_n=is[--as],is[as]=null,Tn=is[--as],is[as]=null}var Xr=null,Kr=null,bt=!1,_s=null;function gv(a,c){var f=us(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=a,c=a.deletions,c===null?(a.deletions=[f],a.flags|=16):c.push(f)}function yv(a,c){switch(a.tag){case 5:var f=a.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Xr=a,Kr=io(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Xr=a,Kr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=Ko!==null?{id:Tn,overflow:_n}:null,a.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=us(18,null,null,0),f.stateNode=c,f.return=a,a.child=f,Xr=a,Kr=null,!0):!1;default:return!1}}function cp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function dp(a){if(bt){var c=Kr;if(c){var f=c;if(!yv(a,c)){if(cp(a))throw Error(t(418));c=io(f.nextSibling);var g=Xr;c&&yv(a,c)?gv(g,f):(a.flags=a.flags&-4097|2,bt=!1,Xr=a)}}else{if(cp(a))throw Error(t(418));a.flags=a.flags&-4097|2,bt=!1,Xr=a}}}function xv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Xr=a}function ud(a){if(a!==Xr)return!1;if(!bt)return xv(a),bt=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!tp(a.type,a.memoizedProps)),c&&(c=Kr)){if(cp(a))throw vv(),Error(t(418));for(;c;)gv(a,c),c=io(c.nextSibling)}if(xv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(c===0){Kr=io(a.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}a=a.nextSibling}Kr=null}}else Kr=Xr?io(a.stateNode.nextSibling):null;return!0}function vv(){for(var a=Kr;a;)a=io(a.nextSibling)}function zi(){Kr=Xr=null,bt=!1}function up(a){_s===null?_s=[a]:_s.push(a)}var XM=_.ReactCurrentBatchConfig;function yl(a,c,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var g=f.stateNode}if(!g)throw Error(t(147,a));var S=g,T=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===T?c.ref:(c=function(A){var I=S.refs;A===null?delete I[T]:I[T]=A},c._stringRef=T,c)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function hd(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function bv(a){var c=a._init;return c(a._payload)}function wv(a){function c(te,K){if(a){var se=te.deletions;se===null?(te.deletions=[K],te.flags|=16):se.push(K)}}function f(te,K){if(!a)return null;for(;K!==null;)c(te,K),K=K.sibling;return null}function g(te,K){for(te=new Map;K!==null;)K.key!==null?te.set(K.key,K):te.set(K.index,K),K=K.sibling;return te}function S(te,K){return te=xo(te,K),te.index=0,te.sibling=null,te}function T(te,K,se){return te.index=se,a?(se=te.alternate,se!==null?(se=se.index,se<K?(te.flags|=2,K):se):(te.flags|=2,K)):(te.flags|=1048576,K)}function A(te){return a&&te.alternate===null&&(te.flags|=2),te}function I(te,K,se,Te){return K===null||K.tag!==6?(K=rm(se,te.mode,Te),K.return=te,K):(K=S(K,se),K.return=te,K)}function U(te,K,se,Te){var Be=se.type;return Be===M?xe(te,K,se.props.children,Te,se.key):K!==null&&(K.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===V&&bv(Be)===K.type)?(Te=S(K,se.props),Te.ref=yl(te,K,se),Te.return=te,Te):(Te=Fd(se.type,se.key,se.props,null,te.mode,Te),Te.ref=yl(te,K,se),Te.return=te,Te)}function ie(te,K,se,Te){return K===null||K.tag!==4||K.stateNode.containerInfo!==se.containerInfo||K.stateNode.implementation!==se.implementation?(K=sm(se,te.mode,Te),K.return=te,K):(K=S(K,se.children||[]),K.return=te,K)}function xe(te,K,se,Te,Be){return K===null||K.tag!==7?(K=ni(se,te.mode,Te,Be),K.return=te,K):(K=S(K,se),K.return=te,K)}function ke(te,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return K=rm(""+K,te.mode,se),K.return=te,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case P:return se=Fd(K.type,K.key,K.props,null,te.mode,se),se.ref=yl(te,null,K),se.return=te,se;case D:return K=sm(K,te.mode,se),K.return=te,K;case V:var Te=K._init;return ke(te,Te(K._payload),se)}if(Pe(K)||ee(K))return K=ni(K,te.mode,se,null),K.return=te,K;hd(te,K)}return null}function ye(te,K,se,Te){var Be=K!==null?K.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Be!==null?null:I(te,K,""+se,Te);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case P:return se.key===Be?U(te,K,se,Te):null;case D:return se.key===Be?ie(te,K,se,Te):null;case V:return Be=se._init,ye(te,K,Be(se._payload),Te)}if(Pe(se)||ee(se))return Be!==null?null:xe(te,K,se,Te,null);hd(te,se)}return null}function De(te,K,se,Te,Be){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return te=te.get(se)||null,I(K,te,""+Te,Be);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case P:return te=te.get(Te.key===null?se:Te.key)||null,U(K,te,Te,Be);case D:return te=te.get(Te.key===null?se:Te.key)||null,ie(K,te,Te,Be);case V:var Ue=Te._init;return De(te,K,se,Ue(Te._payload),Be)}if(Pe(Te)||ee(Te))return te=te.get(se)||null,xe(K,te,Te,Be,null);hd(K,Te)}return null}function Fe(te,K,se,Te){for(var Be=null,Ue=null,$e=K,Ke=K=0,or=null;$e!==null&&Ke<se.length;Ke++){$e.index>Ke?(or=$e,$e=null):or=$e.sibling;var lt=ye(te,$e,se[Ke],Te);if(lt===null){$e===null&&($e=or);break}a&&$e&&lt.alternate===null&&c(te,$e),K=T(lt,K,Ke),Ue===null?Be=lt:Ue.sibling=lt,Ue=lt,$e=or}if(Ke===se.length)return f(te,$e),bt&&qo(te,Ke),Be;if($e===null){for(;Ke<se.length;Ke++)$e=ke(te,se[Ke],Te),$e!==null&&(K=T($e,K,Ke),Ue===null?Be=$e:Ue.sibling=$e,Ue=$e);return bt&&qo(te,Ke),Be}for($e=g(te,$e);Ke<se.length;Ke++)or=De($e,te,Ke,se[Ke],Te),or!==null&&(a&&or.alternate!==null&&$e.delete(or.key===null?Ke:or.key),K=T(or,K,Ke),Ue===null?Be=or:Ue.sibling=or,Ue=or);return a&&$e.forEach(function(vo){return c(te,vo)}),bt&&qo(te,Ke),Be}function Ie(te,K,se,Te){var Be=ee(se);if(typeof Be!="function")throw Error(t(150));if(se=Be.call(se),se==null)throw Error(t(151));for(var Ue=Be=null,$e=K,Ke=K=0,or=null,lt=se.next();$e!==null&&!lt.done;Ke++,lt=se.next()){$e.index>Ke?(or=$e,$e=null):or=$e.sibling;var vo=ye(te,$e,lt.value,Te);if(vo===null){$e===null&&($e=or);break}a&&$e&&vo.alternate===null&&c(te,$e),K=T(vo,K,Ke),Ue===null?Be=vo:Ue.sibling=vo,Ue=vo,$e=or}if(lt.done)return f(te,$e),bt&&qo(te,Ke),Be;if($e===null){for(;!lt.done;Ke++,lt=se.next())lt=ke(te,lt.value,Te),lt!==null&&(K=T(lt,K,Ke),Ue===null?Be=lt:Ue.sibling=lt,Ue=lt);return bt&&qo(te,Ke),Be}for($e=g(te,$e);!lt.done;Ke++,lt=se.next())lt=De($e,te,Ke,lt.value,Te),lt!==null&&(a&&lt.alternate!==null&&$e.delete(lt.key===null?Ke:lt.key),K=T(lt,K,Ke),Ue===null?Be=lt:Ue.sibling=lt,Ue=lt);return a&&$e.forEach(function(T5){return c(te,T5)}),bt&&qo(te,Ke),Be}function Lt(te,K,se,Te){if(typeof se=="object"&&se!==null&&se.type===M&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case P:e:{for(var Be=se.key,Ue=K;Ue!==null;){if(Ue.key===Be){if(Be=se.type,Be===M){if(Ue.tag===7){f(te,Ue.sibling),K=S(Ue,se.props.children),K.return=te,te=K;break e}}else if(Ue.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===V&&bv(Be)===Ue.type){f(te,Ue.sibling),K=S(Ue,se.props),K.ref=yl(te,Ue,se),K.return=te,te=K;break e}f(te,Ue);break}else c(te,Ue);Ue=Ue.sibling}se.type===M?(K=ni(se.props.children,te.mode,Te,se.key),K.return=te,te=K):(Te=Fd(se.type,se.key,se.props,null,te.mode,Te),Te.ref=yl(te,K,se),Te.return=te,te=Te)}return A(te);case D:e:{for(Ue=se.key;K!==null;){if(K.key===Ue)if(K.tag===4&&K.stateNode.containerInfo===se.containerInfo&&K.stateNode.implementation===se.implementation){f(te,K.sibling),K=S(K,se.children||[]),K.return=te,te=K;break e}else{f(te,K);break}else c(te,K);K=K.sibling}K=sm(se,te.mode,Te),K.return=te,te=K}return A(te);case V:return Ue=se._init,Lt(te,K,Ue(se._payload),Te)}if(Pe(se))return Fe(te,K,se,Te);if(ee(se))return Ie(te,K,se,Te);hd(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,K!==null&&K.tag===6?(f(te,K.sibling),K=S(K,se),K.return=te,te=K):(f(te,K),K=rm(se,te.mode,Te),K.return=te,te=K),A(te)):f(te,K)}return Lt}var Ii=wv(!0),Sv=wv(!1),fd=ao(null),pd=null,Bi=null,hp=null;function fp(){hp=Bi=pd=null}function pp(a){var c=fd.current;xt(fd),a._currentValue=c}function mp(a,c,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===f)break;a=a.return}}function Vi(a,c){pd=a,hp=Bi=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Or=!0),a.firstContext=null)}function ls(a){var c=a._currentValue;if(hp!==a)if(a={context:a,memoizedValue:c,next:null},Bi===null){if(pd===null)throw Error(t(308));Bi=a,pd.dependencies={lanes:0,firstContext:a}}else Bi=Bi.next=a;return c}var Zo=null;function gp(a){Zo===null?Zo=[a]:Zo.push(a)}function Cv(a,c,f,g){var S=c.interleaved;return S===null?(f.next=f,gp(c)):(f.next=S.next,S.next=f),c.interleaved=f,Mn(a,g)}function Mn(a,c){a.lanes|=c;var f=a.alternate;for(f!==null&&(f.lanes|=c),f=a,a=a.return;a!==null;)a.childLanes|=c,f=a.alternate,f!==null&&(f.childLanes|=c),f=a,a=a.return;return f.tag===3?f.stateNode:null}var uo=!1;function yp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kv(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function En(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function ho(a,c,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(it&2)!==0){var S=g.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),g.pending=c,Mn(a,f)}return S=g.interleaved,S===null?(c.next=c,gp(g)):(c.next=S.next,S.next=c),g.interleaved=c,Mn(a,f)}function md(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var g=c.lanes;g&=a.pendingLanes,f|=g,c.lanes=f,Pf(a,f)}}function jv(a,c){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var S=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var A={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};T===null?S=T=A:T=T.next=A,f=f.next}while(f!==null);T===null?S=T=c:T=T.next=c}else S=T=c;f={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:g.shared,effects:g.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}function gd(a,c,f,g){var S=a.updateQueue;uo=!1;var T=S.firstBaseUpdate,A=S.lastBaseUpdate,I=S.shared.pending;if(I!==null){S.shared.pending=null;var U=I,ie=U.next;U.next=null,A===null?T=ie:A.next=ie,A=U;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,I=xe.lastBaseUpdate,I!==A&&(I===null?xe.firstBaseUpdate=ie:I.next=ie,xe.lastBaseUpdate=U))}if(T!==null){var ke=S.baseState;A=0,xe=ie=U=null,I=T;do{var ye=I.lane,De=I.eventTime;if((g&ye)===ye){xe!==null&&(xe=xe.next={eventTime:De,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Fe=a,Ie=I;switch(ye=c,De=f,Ie.tag){case 1:if(Fe=Ie.payload,typeof Fe=="function"){ke=Fe.call(De,ke,ye);break e}ke=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ie.payload,ye=typeof Fe=="function"?Fe.call(De,ke,ye):Fe,ye==null)break e;ke=H({},ke,ye);break e;case 2:uo=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,ye=S.effects,ye===null?S.effects=[I]:ye.push(I))}else De={eventTime:De,lane:ye,tag:I.tag,payload:I.payload,callback:I.callback,next:null},xe===null?(ie=xe=De,U=ke):xe=xe.next=De,A|=ye;if(I=I.next,I===null){if(I=S.shared.pending,I===null)break;ye=I,I=ye.next,ye.next=null,S.lastBaseUpdate=ye,S.shared.pending=null}}while(!0);if(xe===null&&(U=ke),S.baseState=U,S.firstBaseUpdate=ie,S.lastBaseUpdate=xe,c=S.shared.interleaved,c!==null){S=c;do A|=S.lane,S=S.next;while(S!==c)}else T===null&&(S.shared.lanes=0);ei|=A,a.lanes=A,a.memoizedState=ke}}function Nv(a,c,f){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var g=a[c],S=g.callback;if(S!==null){if(g.callback=null,g=f,typeof S!="function")throw Error(t(191,S));S.call(g)}}}var xl={},Ks=ao(xl),vl=ao(xl),bl=ao(xl);function Jo(a){if(a===xl)throw Error(t(174));return a}function xp(a,c){switch(mt(bl,c),mt(vl,a),mt(Ks,xl),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:vt(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=vt(c,a)}xt(Ks),mt(Ks,c)}function Wi(){xt(Ks),xt(vl),xt(bl)}function Tv(a){Jo(bl.current);var c=Jo(Ks.current),f=vt(c,a.type);c!==f&&(mt(vl,a),mt(Ks,f))}function vp(a){vl.current===a&&(xt(Ks),xt(vl))}var jt=ao(0);function yd(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var bp=[];function wp(){for(var a=0;a<bp.length;a++)bp[a]._workInProgressVersionPrimary=null;bp.length=0}var xd=_.ReactCurrentDispatcher,Sp=_.ReactCurrentBatchConfig,Qo=0,Nt=null,qt=null,sr=null,vd=!1,wl=!1,Sl=0,KM=0;function mr(){throw Error(t(321))}function Cp(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!Ts(a[f],c[f]))return!1;return!0}function kp(a,c,f,g,S,T){if(Qo=T,Nt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,xd.current=a===null||a.memoizedState===null?QM:e5,a=f(g,S),wl){T=0;do{if(wl=!1,Sl=0,25<=T)throw Error(t(301));T+=1,sr=qt=null,c.updateQueue=null,xd.current=t5,a=f(g,S)}while(wl)}if(xd.current=Sd,c=qt!==null&&qt.next!==null,Qo=0,sr=qt=Nt=null,vd=!1,c)throw Error(t(300));return a}function jp(){var a=Sl!==0;return Sl=0,a}function qs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Nt.memoizedState=sr=a:sr=sr.next=a,sr}function cs(){if(qt===null){var a=Nt.alternate;a=a!==null?a.memoizedState:null}else a=qt.next;var c=sr===null?Nt.memoizedState:sr.next;if(c!==null)sr=c,qt=a;else{if(a===null)throw Error(t(310));qt=a,a={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},sr===null?Nt.memoizedState=sr=a:sr=sr.next=a}return sr}function Cl(a,c){return typeof c=="function"?c(a):c}function Np(a){var c=cs(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var g=qt,S=g.baseQueue,T=f.pending;if(T!==null){if(S!==null){var A=S.next;S.next=T.next,T.next=A}g.baseQueue=S=T,f.pending=null}if(S!==null){T=S.next,g=g.baseState;var I=A=null,U=null,ie=T;do{var xe=ie.lane;if((Qo&xe)===xe)U!==null&&(U=U.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),g=ie.hasEagerState?ie.eagerState:a(g,ie.action);else{var ke={lane:xe,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};U===null?(I=U=ke,A=g):U=U.next=ke,Nt.lanes|=xe,ei|=xe}ie=ie.next}while(ie!==null&&ie!==T);U===null?A=g:U.next=I,Ts(g,c.memoizedState)||(Or=!0),c.memoizedState=g,c.baseState=A,c.baseQueue=U,f.lastRenderedState=g}if(a=f.interleaved,a!==null){S=a;do T=S.lane,Nt.lanes|=T,ei|=T,S=S.next;while(S!==a)}else S===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Tp(a){var c=cs(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var g=f.dispatch,S=f.pending,T=c.memoizedState;if(S!==null){f.pending=null;var A=S=S.next;do T=a(T,A.action),A=A.next;while(A!==S);Ts(T,c.memoizedState)||(Or=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),f.lastRenderedState=T}return[T,g]}function _v(){}function Mv(a,c){var f=Nt,g=cs(),S=c(),T=!Ts(g.memoizedState,S);if(T&&(g.memoizedState=S,Or=!0),g=g.queue,_p(Dv.bind(null,f,g,a),[a]),g.getSnapshot!==c||T||sr!==null&&sr.memoizedState.tag&1){if(f.flags|=2048,kl(9,Pv.bind(null,f,g,S,c),void 0,null),nr===null)throw Error(t(349));(Qo&30)!==0||Ev(f,c,S)}return S}function Ev(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=Nt.updateQueue,c===null?(c={lastEffect:null,stores:null},Nt.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function Pv(a,c,f,g){c.value=f,c.getSnapshot=g,Av(c)&&Rv(a)}function Dv(a,c,f){return f(function(){Av(c)&&Rv(a)})}function Av(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!Ts(a,f)}catch{return!0}}function Rv(a){var c=Mn(a,1);c!==null&&Ds(c,a,1,-1)}function Ov(a){var c=qs();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:a},c.queue=a,a=a.dispatch=JM.bind(null,Nt,a),[c.memoizedState,a]}function kl(a,c,f,g){return a={tag:a,create:c,destroy:f,deps:g,next:null},c=Nt.updateQueue,c===null?(c={lastEffect:null,stores:null},Nt.updateQueue=c,c.lastEffect=a.next=a):(f=c.lastEffect,f===null?c.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,c.lastEffect=a)),a}function Fv(){return cs().memoizedState}function bd(a,c,f,g){var S=qs();Nt.flags|=a,S.memoizedState=kl(1|c,f,void 0,g===void 0?null:g)}function wd(a,c,f,g){var S=cs();g=g===void 0?null:g;var T=void 0;if(qt!==null){var A=qt.memoizedState;if(T=A.destroy,g!==null&&Cp(g,A.deps)){S.memoizedState=kl(c,f,T,g);return}}Nt.flags|=a,S.memoizedState=kl(1|c,f,T,g)}function Lv(a,c){return bd(8390656,8,a,c)}function _p(a,c){return wd(2048,8,a,c)}function zv(a,c){return wd(4,2,a,c)}function Iv(a,c){return wd(4,4,a,c)}function Bv(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Vv(a,c,f){return f=f!=null?f.concat([a]):null,wd(4,4,Bv.bind(null,c,a),f)}function Mp(){}function Wv(a,c){var f=cs();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&Cp(c,g[1])?g[0]:(f.memoizedState=[a,c],a)}function Hv(a,c){var f=cs();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&Cp(c,g[1])?g[0]:(a=a(),f.memoizedState=[a,c],a)}function Uv(a,c,f){return(Qo&21)===0?(a.baseState&&(a.baseState=!1,Or=!0),a.memoizedState=f):(Ts(f,c)||(f=bx(),Nt.lanes|=f,ei|=f,a.baseState=!0),c)}function qM(a,c){var f=ht;ht=f!==0&&4>f?f:4,a(!0);var g=Sp.transition;Sp.transition={};try{a(!1),c()}finally{ht=f,Sp.transition=g}}function $v(){return cs().memoizedState}function ZM(a,c,f){var g=go(a);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Gv(a))Yv(c,f);else if(f=Cv(a,c,f,g),f!==null){var S=Tr();Ds(f,a,g,S),Xv(f,c,g)}}function JM(a,c,f){var g=go(a),S={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Gv(a))Yv(c,S);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var A=c.lastRenderedState,I=T(A,f);if(S.hasEagerState=!0,S.eagerState=I,Ts(I,A)){var U=c.interleaved;U===null?(S.next=S,gp(c)):(S.next=U.next,U.next=S),c.interleaved=S;return}}catch{}finally{}f=Cv(a,c,S,g),f!==null&&(S=Tr(),Ds(f,a,g,S),Xv(f,c,g))}}function Gv(a){var c=a.alternate;return a===Nt||c!==null&&c===Nt}function Yv(a,c){wl=vd=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function Xv(a,c,f){if((f&4194240)!==0){var g=c.lanes;g&=a.pendingLanes,f|=g,c.lanes=f,Pf(a,f)}}var Sd={readContext:ls,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},QM={readContext:ls,useCallback:function(a,c){return qs().memoizedState=[a,c===void 0?null:c],a},useContext:ls,useEffect:Lv,useImperativeHandle:function(a,c,f){return f=f!=null?f.concat([a]):null,bd(4194308,4,Bv.bind(null,c,a),f)},useLayoutEffect:function(a,c){return bd(4194308,4,a,c)},useInsertionEffect:function(a,c){return bd(4,2,a,c)},useMemo:function(a,c){var f=qs();return c=c===void 0?null:c,a=a(),f.memoizedState=[a,c],a},useReducer:function(a,c,f){var g=qs();return c=f!==void 0?f(c):c,g.memoizedState=g.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},g.queue=a,a=a.dispatch=ZM.bind(null,Nt,a),[g.memoizedState,a]},useRef:function(a){var c=qs();return a={current:a},c.memoizedState=a},useState:Ov,useDebugValue:Mp,useDeferredValue:function(a){return qs().memoizedState=a},useTransition:function(){var a=Ov(!1),c=a[0];return a=qM.bind(null,a[1]),qs().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,f){var g=Nt,S=qs();if(bt){if(f===void 0)throw Error(t(407));f=f()}else{if(f=c(),nr===null)throw Error(t(349));(Qo&30)!==0||Ev(g,c,f)}S.memoizedState=f;var T={value:f,getSnapshot:c};return S.queue=T,Lv(Dv.bind(null,g,T,a),[a]),g.flags|=2048,kl(9,Pv.bind(null,g,T,f,c),void 0,null),f},useId:function(){var a=qs(),c=nr.identifierPrefix;if(bt){var f=_n,g=Tn;f=(g&~(1<<32-Ns(g)-1)).toString(32)+f,c=":"+c+"R"+f,f=Sl++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=KM++,c=":"+c+"r"+f.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},e5={readContext:ls,useCallback:Wv,useContext:ls,useEffect:_p,useImperativeHandle:Vv,useInsertionEffect:zv,useLayoutEffect:Iv,useMemo:Hv,useReducer:Np,useRef:Fv,useState:function(){return Np(Cl)},useDebugValue:Mp,useDeferredValue:function(a){var c=cs();return Uv(c,qt.memoizedState,a)},useTransition:function(){var a=Np(Cl)[0],c=cs().memoizedState;return[a,c]},useMutableSource:_v,useSyncExternalStore:Mv,useId:$v,unstable_isNewReconciler:!1},t5={readContext:ls,useCallback:Wv,useContext:ls,useEffect:_p,useImperativeHandle:Vv,useInsertionEffect:zv,useLayoutEffect:Iv,useMemo:Hv,useReducer:Tp,useRef:Fv,useState:function(){return Tp(Cl)},useDebugValue:Mp,useDeferredValue:function(a){var c=cs();return qt===null?c.memoizedState=a:Uv(c,qt.memoizedState,a)},useTransition:function(){var a=Tp(Cl)[0],c=cs().memoizedState;return[a,c]},useMutableSource:_v,useSyncExternalStore:Mv,useId:$v,unstable_isNewReconciler:!1};function Ms(a,c){if(a&&a.defaultProps){c=H({},c),a=a.defaultProps;for(var f in a)c[f]===void 0&&(c[f]=a[f]);return c}return c}function Ep(a,c,f,g){c=a.memoizedState,f=f(g,c),f=f==null?c:H({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Cd={isMounted:function(a){return(a=a._reactInternals)?Go(a)===a:!1},enqueueSetState:function(a,c,f){a=a._reactInternals;var g=Tr(),S=go(a),T=En(g,S);T.payload=c,f!=null&&(T.callback=f),c=ho(a,T,S),c!==null&&(Ds(c,a,S,g),md(c,a,S))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var g=Tr(),S=go(a),T=En(g,S);T.tag=1,T.payload=c,f!=null&&(T.callback=f),c=ho(a,T,S),c!==null&&(Ds(c,a,S,g),md(c,a,S))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=Tr(),g=go(a),S=En(f,g);S.tag=2,c!=null&&(S.callback=c),c=ho(a,S,g),c!==null&&(Ds(c,a,g,f),md(c,a,g))}};function Kv(a,c,f,g,S,T,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,T,A):c.prototype&&c.prototype.isPureReactComponent?!dl(f,g)||!dl(S,T):!0}function qv(a,c,f){var g=!1,S=lo,T=c.contextType;return typeof T=="object"&&T!==null?T=ls(T):(S=Rr(c)?Xo:pr.current,g=c.contextTypes,T=(g=g!=null)?Oi(a,S):lo),c=new c(f,T),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Cd,a.stateNode=c,c._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=T),c}function Zv(a,c,f,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==a&&Cd.enqueueReplaceState(c,c.state,null)}function Pp(a,c,f,g){var S=a.stateNode;S.props=f,S.state=a.memoizedState,S.refs={},yp(a);var T=c.contextType;typeof T=="object"&&T!==null?S.context=ls(T):(T=Rr(c)?Xo:pr.current,S.context=Oi(a,T)),S.state=a.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Ep(a,c,T,f),S.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(c=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),c!==S.state&&Cd.enqueueReplaceState(S,S.state,null),gd(a,f,S,g),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function Hi(a,c){try{var f="",g=c;do f+=he(g),g=g.return;while(g);var S=f}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:c,stack:S,digest:null}}function Dp(a,c,f){return{value:a,source:null,stack:f??null,digest:c??null}}function Ap(a,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var r5=typeof WeakMap=="function"?WeakMap:Map;function Jv(a,c,f){f=En(-1,f),f.tag=3,f.payload={element:null};var g=c.value;return f.callback=function(){Ed||(Ed=!0,Xp=g),Ap(a,c)},f}function Qv(a,c,f){f=En(-1,f),f.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var S=c.value;f.payload=function(){return g(S)},f.callback=function(){Ap(a,c)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(f.callback=function(){Ap(a,c),typeof g!="function"&&(po===null?po=new Set([this]):po.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})}),f}function eb(a,c,f){var g=a.pingCache;if(g===null){g=a.pingCache=new r5;var S=new Set;g.set(c,S)}else S=g.get(c),S===void 0&&(S=new Set,g.set(c,S));S.has(f)||(S.add(f),a=g5.bind(null,a,c,f),c.then(a,a))}function tb(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function rb(a,c,f,g,S){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=En(-1,1),c.tag=2,ho(f,c,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var s5=_.ReactCurrentOwner,Or=!1;function Nr(a,c,f,g){c.child=a===null?Sv(c,null,f,g):Ii(c,a.child,f,g)}function sb(a,c,f,g,S){f=f.render;var T=c.ref;return Vi(c,S),g=kp(a,c,f,g,T,S),f=jp(),a!==null&&!Or?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,Pn(a,c,S)):(bt&&f&&ap(c),c.flags|=1,Nr(a,c,g,S),c.child)}function nb(a,c,f,g,S){if(a===null){var T=f.type;return typeof T=="function"&&!tm(T)&&T.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=T,ob(a,c,T,g,S)):(a=Fd(f.type,null,g,c,c.mode,S),a.ref=c.ref,a.return=c,c.child=a)}if(T=a.child,(a.lanes&S)===0){var A=T.memoizedProps;if(f=f.compare,f=f!==null?f:dl,f(A,g)&&a.ref===c.ref)return Pn(a,c,S)}return c.flags|=1,a=xo(T,g),a.ref=c.ref,a.return=c,c.child=a}function ob(a,c,f,g,S){if(a!==null){var T=a.memoizedProps;if(dl(T,g)&&a.ref===c.ref)if(Or=!1,c.pendingProps=g=T,(a.lanes&S)!==0)(a.flags&131072)!==0&&(Or=!0);else return c.lanes=a.lanes,Pn(a,c,S)}return Rp(a,c,f,g,S)}function ib(a,c,f){var g=c.pendingProps,S=g.children,T=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt($i,qr),qr|=f;else{if((f&1073741824)===0)return a=T!==null?T.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,mt($i,qr),qr|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:f,mt($i,qr),qr|=g}else T!==null?(g=T.baseLanes|f,c.memoizedState=null):g=f,mt($i,qr),qr|=g;return Nr(a,c,S,f),c.child}function ab(a,c){var f=c.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Rp(a,c,f,g,S){var T=Rr(f)?Xo:pr.current;return T=Oi(c,T),Vi(c,S),f=kp(a,c,f,g,T,S),g=jp(),a!==null&&!Or?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,Pn(a,c,S)):(bt&&g&&ap(c),c.flags|=1,Nr(a,c,f,S),c.child)}function lb(a,c,f,g,S){if(Rr(f)){var T=!0;ad(c)}else T=!1;if(Vi(c,S),c.stateNode===null)jd(a,c),qv(c,f,g),Pp(c,f,g,S),g=!0;else if(a===null){var A=c.stateNode,I=c.memoizedProps;A.props=I;var U=A.context,ie=f.contextType;typeof ie=="object"&&ie!==null?ie=ls(ie):(ie=Rr(f)?Xo:pr.current,ie=Oi(c,ie));var xe=f.getDerivedStateFromProps,ke=typeof xe=="function"||typeof A.getSnapshotBeforeUpdate=="function";ke||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==g||U!==ie)&&Zv(c,A,g,ie),uo=!1;var ye=c.memoizedState;A.state=ye,gd(c,g,A,S),U=c.memoizedState,I!==g||ye!==U||Ar.current||uo?(typeof xe=="function"&&(Ep(c,f,xe,g),U=c.memoizedState),(I=uo||Kv(c,f,I,g,ye,U,ie))?(ke||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=U),A.props=g,A.state=U,A.context=ie,g=I):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{A=c.stateNode,kv(a,c),I=c.memoizedProps,ie=c.type===c.elementType?I:Ms(c.type,I),A.props=ie,ke=c.pendingProps,ye=A.context,U=f.contextType,typeof U=="object"&&U!==null?U=ls(U):(U=Rr(f)?Xo:pr.current,U=Oi(c,U));var De=f.getDerivedStateFromProps;(xe=typeof De=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==ke||ye!==U)&&Zv(c,A,g,U),uo=!1,ye=c.memoizedState,A.state=ye,gd(c,g,A,S);var Fe=c.memoizedState;I!==ke||ye!==Fe||Ar.current||uo?(typeof De=="function"&&(Ep(c,f,De,g),Fe=c.memoizedState),(ie=uo||Kv(c,f,ie,g,ye,Fe,U)||!1)?(xe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Fe,U),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Fe,U)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&ye===a.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ye===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Fe),A.props=g,A.state=Fe,A.context=U,g=ie):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&ye===a.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ye===a.memoizedState||(c.flags|=1024),g=!1)}return Op(a,c,f,g,T,S)}function Op(a,c,f,g,S,T){ab(a,c);var A=(c.flags&128)!==0;if(!g&&!A)return S&&fv(c,f,!1),Pn(a,c,T);g=c.stateNode,s5.current=c;var I=A&&typeof f.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,a!==null&&A?(c.child=Ii(c,a.child,null,T),c.child=Ii(c,null,I,T)):Nr(a,c,I,T),c.memoizedState=g.state,S&&fv(c,f,!0),c.child}function cb(a){var c=a.stateNode;c.pendingContext?uv(a,c.pendingContext,c.pendingContext!==c.context):c.context&&uv(a,c.context,!1),xp(a,c.containerInfo)}function db(a,c,f,g,S){return zi(),up(S),c.flags|=256,Nr(a,c,f,g),c.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Lp(a){return{baseLanes:a,cachePool:null,transitions:null}}function ub(a,c,f){var g=c.pendingProps,S=jt.current,T=!1,A=(c.flags&128)!==0,I;if((I=A)||(I=a!==null&&a.memoizedState===null?!1:(S&2)!==0),I?(T=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),mt(jt,S&1),a===null)return dp(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(A=g.children,a=g.fallback,T?(g=c.mode,T=c.child,A={mode:"hidden",children:A},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=A):T=Ld(A,g,0,null),a=ni(a,g,f,null),T.return=c,a.return=c,T.sibling=a,c.child=T,c.child.memoizedState=Lp(f),c.memoizedState=Fp,a):zp(c,A));if(S=a.memoizedState,S!==null&&(I=S.dehydrated,I!==null))return n5(a,c,A,g,I,S,f);if(T){T=g.fallback,A=c.mode,S=a.child,I=S.sibling;var U={mode:"hidden",children:g.children};return(A&1)===0&&c.child!==S?(g=c.child,g.childLanes=0,g.pendingProps=U,c.deletions=null):(g=xo(S,U),g.subtreeFlags=S.subtreeFlags&14680064),I!==null?T=xo(I,T):(T=ni(T,A,f,null),T.flags|=2),T.return=c,g.return=c,g.sibling=T,c.child=g,g=T,T=c.child,A=a.child.memoizedState,A=A===null?Lp(f):{baseLanes:A.baseLanes|f,cachePool:null,transitions:A.transitions},T.memoizedState=A,T.childLanes=a.childLanes&~f,c.memoizedState=Fp,g}return T=a.child,a=T.sibling,g=xo(T,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=f),g.return=c,g.sibling=null,a!==null&&(f=c.deletions,f===null?(c.deletions=[a],c.flags|=16):f.push(a)),c.child=g,c.memoizedState=null,g}function zp(a,c){return c=Ld({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function kd(a,c,f,g){return g!==null&&up(g),Ii(c,a.child,null,f),a=zp(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function n5(a,c,f,g,S,T,A){if(f)return c.flags&256?(c.flags&=-257,g=Dp(Error(t(422))),kd(a,c,A,g)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(T=g.fallback,S=c.mode,g=Ld({mode:"visible",children:g.children},S,0,null),T=ni(T,S,A,null),T.flags|=2,g.return=c,T.return=c,g.sibling=T,c.child=g,(c.mode&1)!==0&&Ii(c,a.child,null,A),c.child.memoizedState=Lp(A),c.memoizedState=Fp,T);if((c.mode&1)===0)return kd(a,c,A,null);if(S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var I=g.dgst;return g=I,T=Error(t(419)),g=Dp(T,g,void 0),kd(a,c,A,g)}if(I=(A&a.childLanes)!==0,Or||I){if(g=nr,g!==null){switch(A&-A){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(g.suspendedLanes|A))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Mn(a,S),Ds(g,a,S,-1))}return em(),g=Dp(Error(t(421))),kd(a,c,A,g)}return S.data==="$?"?(c.flags|=128,c.child=a.child,c=y5.bind(null,a),S._reactRetry=c,null):(a=T.treeContext,Kr=io(S.nextSibling),Xr=c,bt=!0,_s=null,a!==null&&(is[as++]=Tn,is[as++]=_n,is[as++]=Ko,Tn=a.id,_n=a.overflow,Ko=c),c=zp(c,g.children),c.flags|=4096,c)}function hb(a,c,f){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),mp(a.return,c,f)}function Ip(a,c,f,g,S){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:S}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=f,T.tailMode=S)}function fb(a,c,f){var g=c.pendingProps,S=g.revealOrder,T=g.tail;if(Nr(a,c,g.children,f),g=jt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&hb(a,f,c);else if(a.tag===19)hb(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(mt(jt,g),(c.mode&1)===0)c.memoizedState=null;else switch(S){case"forwards":for(f=c.child,S=null;f!==null;)a=f.alternate,a!==null&&yd(a)===null&&(S=f),f=f.sibling;f=S,f===null?(S=c.child,c.child=null):(S=f.sibling,f.sibling=null),Ip(c,!1,S,f,T);break;case"backwards":for(f=null,S=c.child,c.child=null;S!==null;){if(a=S.alternate,a!==null&&yd(a)===null){c.child=S;break}a=S.sibling,S.sibling=f,f=S,S=a}Ip(c,!0,f,null,T);break;case"together":Ip(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function jd(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Pn(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),ei|=c.lanes,(f&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,f=xo(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=xo(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function o5(a,c,f){switch(c.tag){case 3:cb(c),zi();break;case 5:Tv(c);break;case 1:Rr(c.type)&&ad(c);break;case 4:xp(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,S=c.memoizedProps.value;mt(fd,g._currentValue),g._currentValue=S;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(mt(jt,jt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?ub(a,c,f):(mt(jt,jt.current&1),a=Pn(a,c,f),a!==null?a.sibling:null);mt(jt,jt.current&1);break;case 19:if(g=(f&c.childLanes)!==0,(a.flags&128)!==0){if(g)return fb(a,c,f);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),mt(jt,jt.current),g)break;return null;case 22:case 23:return c.lanes=0,ib(a,c,f)}return Pn(a,c,f)}var pb,Bp,mb,gb;pb=function(a,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Bp=function(){},mb=function(a,c,f,g){var S=a.memoizedProps;if(S!==g){a=c.stateNode,Jo(Ks.current);var T=null;switch(f){case"input":S=pe(a,S),g=pe(a,g),T=[];break;case"select":S=H({},S,{value:void 0}),g=H({},g,{value:void 0}),T=[];break;case"textarea":S=He(a,S),g=He(a,g),T=[];break;default:typeof S.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=nd)}We(f,g);var A;f=null;for(ie in S)if(!g.hasOwnProperty(ie)&&S.hasOwnProperty(ie)&&S[ie]!=null)if(ie==="style"){var I=S[ie];for(A in I)I.hasOwnProperty(A)&&(f||(f={}),f[A]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(n.hasOwnProperty(ie)?T||(T=[]):(T=T||[]).push(ie,null));for(ie in g){var U=g[ie];if(I=S?.[ie],g.hasOwnProperty(ie)&&U!==I&&(U!=null||I!=null))if(ie==="style")if(I){for(A in I)!I.hasOwnProperty(A)||U&&U.hasOwnProperty(A)||(f||(f={}),f[A]="");for(A in U)U.hasOwnProperty(A)&&I[A]!==U[A]&&(f||(f={}),f[A]=U[A])}else f||(T||(T=[]),T.push(ie,f)),f=U;else ie==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,I=I?I.__html:void 0,U!=null&&I!==U&&(T=T||[]).push(ie,U)):ie==="children"?typeof U!="string"&&typeof U!="number"||(T=T||[]).push(ie,""+U):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(n.hasOwnProperty(ie)?(U!=null&&ie==="onScroll"&&yt("scroll",a),T||I===U||(T=[])):(T=T||[]).push(ie,U))}f&&(T=T||[]).push("style",f);var ie=T;(c.updateQueue=ie)&&(c.flags|=4)}},gb=function(a,c,f,g){f!==g&&(c.flags|=4)};function jl(a,c){if(!bt)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function gr(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(c)for(var S=a.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags&14680064,g|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=g,a.childLanes=f,c}function i5(a,c,f){var g=c.pendingProps;switch(lp(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(c),null;case 1:return Rr(c.type)&&id(),gr(c),null;case 3:return g=c.stateNode,Wi(),xt(Ar),xt(pr),wp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(ud(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,_s!==null&&(Zp(_s),_s=null))),Bp(a,c),gr(c),null;case 5:vp(c);var S=Jo(bl.current);if(f=c.type,a!==null&&c.stateNode!=null)mb(a,c,f,g,S),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(t(166));return gr(c),null}if(a=Jo(Ks.current),ud(c)){g=c.stateNode,f=c.type;var T=c.memoizedProps;switch(g[Xs]=c,g[ml]=T,a=(c.mode&1)!==0,f){case"dialog":yt("cancel",g),yt("close",g);break;case"iframe":case"object":case"embed":yt("load",g);break;case"video":case"audio":for(S=0;S<hl.length;S++)yt(hl[S],g);break;case"source":yt("error",g);break;case"img":case"image":case"link":yt("error",g),yt("load",g);break;case"details":yt("toggle",g);break;case"input":re(g,T),yt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},yt("invalid",g);break;case"textarea":le(g,T),yt("invalid",g)}We(f,T),S=null;for(var A in T)if(T.hasOwnProperty(A)){var I=T[A];A==="children"?typeof I=="string"?g.textContent!==I&&(T.suppressHydrationWarning!==!0&&sd(g.textContent,I,a),S=["children",I]):typeof I=="number"&&g.textContent!==""+I&&(T.suppressHydrationWarning!==!0&&sd(g.textContent,I,a),S=["children",""+I]):n.hasOwnProperty(A)&&I!=null&&A==="onScroll"&&yt("scroll",g)}switch(f){case"input":_e(g),ve(g,T,!0);break;case"textarea":_e(g),st(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=nd)}g=S,c.updateQueue=g,g!==null&&(c.flags|=4)}else{A=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ct(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=A.createElement(f,{is:g.is}):(a=A.createElement(f),f==="select"&&(A=a,g.multiple?A.multiple=!0:g.size&&(A.size=g.size))):a=A.createElementNS(a,f),a[Xs]=c,a[ml]=g,pb(a,c,!1,!1),c.stateNode=a;e:{switch(A=Uo(f,g),f){case"dialog":yt("cancel",a),yt("close",a),S=g;break;case"iframe":case"object":case"embed":yt("load",a),S=g;break;case"video":case"audio":for(S=0;S<hl.length;S++)yt(hl[S],a);S=g;break;case"source":yt("error",a),S=g;break;case"img":case"image":case"link":yt("error",a),yt("load",a),S=g;break;case"details":yt("toggle",a),S=g;break;case"input":re(a,g),S=pe(a,g),yt("invalid",a);break;case"option":S=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},S=H({},g,{value:void 0}),yt("invalid",a);break;case"textarea":le(a,g),S=He(a,g),yt("invalid",a);break;default:S=g}We(f,S),I=S;for(T in I)if(I.hasOwnProperty(T)){var U=I[T];T==="style"?we(a,U):T==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Gs(a,U)):T==="children"?typeof U=="string"?(f!=="textarea"||U!=="")&&Dt(a,U):typeof U=="number"&&Dt(a,""+U):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(n.hasOwnProperty(T)?U!=null&&T==="onScroll"&&yt("scroll",a):U!=null&&k(a,T,U,A))}switch(f){case"input":_e(a),ve(a,g,!1);break;case"textarea":_e(a),st(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Q(g.value));break;case"select":a.multiple=!!g.multiple,T=g.value,T!=null?Je(a,!!g.multiple,T,!1):g.defaultValue!=null&&Je(a,!!g.multiple,g.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=nd)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return gr(c),null;case 6:if(a&&c.stateNode!=null)gb(a,c,a.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(t(166));if(f=Jo(bl.current),Jo(Ks.current),ud(c)){if(g=c.stateNode,f=c.memoizedProps,g[Xs]=c,(T=g.nodeValue!==f)&&(a=Xr,a!==null))switch(a.tag){case 3:sd(g.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&sd(g.nodeValue,f,(a.mode&1)!==0)}T&&(c.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[Xs]=c,c.stateNode=g}return gr(c),null;case 13:if(xt(jt),g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(bt&&Kr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)vv(),zi(),c.flags|=98560,T=!1;else if(T=ud(c),g!==null&&g.dehydrated!==null){if(a===null){if(!T)throw Error(t(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[Xs]=c}else zi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;gr(c),T=!1}else _s!==null&&(Zp(_s),_s=null),T=!0;if(!T)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(jt.current&1)!==0?Zt===0&&(Zt=3):em())),c.updateQueue!==null&&(c.flags|=4),gr(c),null);case 4:return Wi(),Bp(a,c),a===null&&fl(c.stateNode.containerInfo),gr(c),null;case 10:return pp(c.type._context),gr(c),null;case 17:return Rr(c.type)&&id(),gr(c),null;case 19:if(xt(jt),T=c.memoizedState,T===null)return gr(c),null;if(g=(c.flags&128)!==0,A=T.rendering,A===null)if(g)jl(T,!1);else{if(Zt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(A=yd(a),A!==null){for(c.flags|=128,jl(T,!1),g=A.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=f,f=c.child;f!==null;)T=f,a=g,T.flags&=14680066,A=T.alternate,A===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=A.childLanes,T.lanes=A.lanes,T.child=A.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=A.memoizedProps,T.memoizedState=A.memoizedState,T.updateQueue=A.updateQueue,T.type=A.type,a=A.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return mt(jt,jt.current&1|2),c.child}a=a.sibling}T.tail!==null&&Ft()>Gi&&(c.flags|=128,g=!0,jl(T,!1),c.lanes=4194304)}else{if(!g)if(a=yd(A),a!==null){if(c.flags|=128,g=!0,f=a.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),jl(T,!0),T.tail===null&&T.tailMode==="hidden"&&!A.alternate&&!bt)return gr(c),null}else 2*Ft()-T.renderingStartTime>Gi&&f!==1073741824&&(c.flags|=128,g=!0,jl(T,!1),c.lanes=4194304);T.isBackwards?(A.sibling=c.child,c.child=A):(f=T.last,f!==null?f.sibling=A:c.child=A,T.last=A)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=Ft(),c.sibling=null,f=jt.current,mt(jt,g?f&1|2:f&1),c):(gr(c),null);case 22:case 23:return Qp(),g=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(qr&1073741824)!==0&&(gr(c),c.subtreeFlags&6&&(c.flags|=8192)):gr(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function a5(a,c){switch(lp(c),c.tag){case 1:return Rr(c.type)&&id(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Wi(),xt(Ar),xt(pr),wp(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return vp(c),null;case 13:if(xt(jt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));zi()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return xt(jt),null;case 4:return Wi(),null;case 10:return pp(c.type._context),null;case 22:case 23:return Qp(),null;case 24:return null;default:return null}}var Nd=!1,yr=!1,l5=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Ui(a,c){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){At(a,c,g)}else f.current=null}function Vp(a,c,f){try{f()}catch(g){At(a,c,g)}}var yb=!1;function c5(a,c){if(Qf=Gc,a=Kx(),$f(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var S=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var A=0,I=-1,U=-1,ie=0,xe=0,ke=a,ye=null;t:for(;;){for(var De;ke!==f||S!==0&&ke.nodeType!==3||(I=A+S),ke!==T||g!==0&&ke.nodeType!==3||(U=A+g),ke.nodeType===3&&(A+=ke.nodeValue.length),(De=ke.firstChild)!==null;)ye=ke,ke=De;for(;;){if(ke===a)break t;if(ye===f&&++ie===S&&(I=A),ye===T&&++xe===g&&(U=A),(De=ke.nextSibling)!==null)break;ke=ye,ye=ke.parentNode}ke=De}f=I===-1||U===-1?null:{start:I,end:U}}else f=null}f=f||{start:0,end:0}}else f=null;for(ep={focusedElem:a,selectionRange:f},Gc=!1,Oe=c;Oe!==null;)if(c=Oe,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Oe=a;else for(;Oe!==null;){c=Oe;try{var Fe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Ie=Fe.memoizedProps,Lt=Fe.memoizedState,te=c.stateNode,K=te.getSnapshotBeforeUpdate(c.elementType===c.type?Ie:Ms(c.type,Ie),Lt);te.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var se=c.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){At(c,c.return,Te)}if(a=c.sibling,a!==null){a.return=c.return,Oe=a;break}Oe=c.return}return Fe=yb,yb=!1,Fe}function Nl(a,c,f){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&a)===a){var T=S.destroy;S.destroy=void 0,T!==void 0&&Vp(c,f,T)}S=S.next}while(S!==g)}}function Td(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&a)===a){var g=f.create;f.destroy=g()}f=f.next}while(f!==c)}}function Wp(a){var c=a.ref;if(c!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof c=="function"?c(a):c.current=a}}function xb(a){var c=a.alternate;c!==null&&(a.alternate=null,xb(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Xs],delete c[ml],delete c[np],delete c[$M],delete c[GM])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function vb(a){return a.tag===5||a.tag===3||a.tag===4}function bb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hp(a,c,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(a,c):f.insertBefore(a,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(a,f)):(c=f,c.appendChild(a)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=nd));else if(g!==4&&(a=a.child,a!==null))for(Hp(a,c,f),a=a.sibling;a!==null;)Hp(a,c,f),a=a.sibling}function Up(a,c,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Up(a,c,f),a=a.sibling;a!==null;)Up(a,c,f),a=a.sibling}var ar=null,Es=!1;function fo(a,c,f){for(f=f.child;f!==null;)wb(a,c,f),f=f.sibling}function wb(a,c,f){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(Bc,f)}catch{}switch(f.tag){case 5:yr||Ui(f,c);case 6:var g=ar,S=Es;ar=null,fo(a,c,f),ar=g,Es=S,ar!==null&&(Es?(a=ar,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):ar.removeChild(f.stateNode));break;case 18:ar!==null&&(Es?(a=ar,f=f.stateNode,a.nodeType===8?sp(a.parentNode,f):a.nodeType===1&&sp(a,f),nl(a)):sp(ar,f.stateNode));break;case 4:g=ar,S=Es,ar=f.stateNode.containerInfo,Es=!0,fo(a,c,f),ar=g,Es=S;break;case 0:case 11:case 14:case 15:if(!yr&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){S=g=g.next;do{var T=S,A=T.destroy;T=T.tag,A!==void 0&&((T&2)!==0||(T&4)!==0)&&Vp(f,c,A),S=S.next}while(S!==g)}fo(a,c,f);break;case 1:if(!yr&&(Ui(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(I){At(f,c,I)}fo(a,c,f);break;case 21:fo(a,c,f);break;case 22:f.mode&1?(yr=(g=yr)||f.memoizedState!==null,fo(a,c,f),yr=g):fo(a,c,f);break;default:fo(a,c,f)}}function Sb(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new l5),c.forEach(function(g){var S=x5.bind(null,a,g);f.has(g)||(f.add(g),g.then(S,S))})}}function Ps(a,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var S=f[g];try{var T=a,A=c,I=A;e:for(;I!==null;){switch(I.tag){case 5:ar=I.stateNode,Es=!1;break e;case 3:ar=I.stateNode.containerInfo,Es=!0;break e;case 4:ar=I.stateNode.containerInfo,Es=!0;break e}I=I.return}if(ar===null)throw Error(t(160));wb(T,A,S),ar=null,Es=!1;var U=S.alternate;U!==null&&(U.return=null),S.return=null}catch(ie){At(S,c,ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Cb(c,a),c=c.sibling}function Cb(a,c){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ps(c,a),Zs(a),g&4){try{Nl(3,a,a.return),Td(3,a)}catch(Ie){At(a,a.return,Ie)}try{Nl(5,a,a.return)}catch(Ie){At(a,a.return,Ie)}}break;case 1:Ps(c,a),Zs(a),g&512&&f!==null&&Ui(f,f.return);break;case 5:if(Ps(c,a),Zs(a),g&512&&f!==null&&Ui(f,f.return),a.flags&32){var S=a.stateNode;try{Dt(S,"")}catch(Ie){At(a,a.return,Ie)}}if(g&4&&(S=a.stateNode,S!=null)){var T=a.memoizedProps,A=f!==null?f.memoizedProps:T,I=a.type,U=a.updateQueue;if(a.updateQueue=null,U!==null)try{I==="input"&&T.type==="radio"&&T.name!=null&&ge(S,T),Uo(I,A);var ie=Uo(I,T);for(A=0;A<U.length;A+=2){var xe=U[A],ke=U[A+1];xe==="style"?we(S,ke):xe==="dangerouslySetInnerHTML"?Gs(S,ke):xe==="children"?Dt(S,ke):k(S,xe,ke,ie)}switch(I){case"input":ae(S,T);break;case"textarea":Ge(S,T);break;case"select":var ye=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var De=T.value;De!=null?Je(S,!!T.multiple,De,!1):ye!==!!T.multiple&&(T.defaultValue!=null?Je(S,!!T.multiple,T.defaultValue,!0):Je(S,!!T.multiple,T.multiple?[]:"",!1))}S[ml]=T}catch(Ie){At(a,a.return,Ie)}}break;case 6:if(Ps(c,a),Zs(a),g&4){if(a.stateNode===null)throw Error(t(162));S=a.stateNode,T=a.memoizedProps;try{S.nodeValue=T}catch(Ie){At(a,a.return,Ie)}}break;case 3:if(Ps(c,a),Zs(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{nl(c.containerInfo)}catch(Ie){At(a,a.return,Ie)}break;case 4:Ps(c,a),Zs(a);break;case 13:Ps(c,a),Zs(a),S=a.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(Yp=Ft())),g&4&&Sb(a);break;case 22:if(xe=f!==null&&f.memoizedState!==null,a.mode&1?(yr=(ie=yr)||xe,Ps(c,a),yr=ie):Ps(c,a),Zs(a),g&8192){if(ie=a.memoizedState!==null,(a.stateNode.isHidden=ie)&&!xe&&(a.mode&1)!==0)for(Oe=a,xe=a.child;xe!==null;){for(ke=Oe=xe;Oe!==null;){switch(ye=Oe,De=ye.child,ye.tag){case 0:case 11:case 14:case 15:Nl(4,ye,ye.return);break;case 1:Ui(ye,ye.return);var Fe=ye.stateNode;if(typeof Fe.componentWillUnmount=="function"){g=ye,f=ye.return;try{c=g,Fe.props=c.memoizedProps,Fe.state=c.memoizedState,Fe.componentWillUnmount()}catch(Ie){At(g,f,Ie)}}break;case 5:Ui(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Nb(ke);continue}}De!==null?(De.return=ye,Oe=De):Nb(ke)}xe=xe.sibling}e:for(xe=null,ke=a;;){if(ke.tag===5){if(xe===null){xe=ke;try{S=ke.stateNode,ie?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(I=ke.stateNode,U=ke.memoizedProps.style,A=U!=null&&U.hasOwnProperty("display")?U.display:null,I.style.display=Ne("display",A))}catch(Ie){At(a,a.return,Ie)}}}else if(ke.tag===6){if(xe===null)try{ke.stateNode.nodeValue=ie?"":ke.memoizedProps}catch(Ie){At(a,a.return,Ie)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===a)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===a)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===a)break e;xe===ke&&(xe=null),ke=ke.return}xe===ke&&(xe=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:Ps(c,a),Zs(a),g&4&&Sb(a);break;case 21:break;default:Ps(c,a),Zs(a)}}function Zs(a){var c=a.flags;if(c&2){try{e:{for(var f=a.return;f!==null;){if(vb(f)){var g=f;break e}f=f.return}throw Error(t(160))}switch(g.tag){case 5:var S=g.stateNode;g.flags&32&&(Dt(S,""),g.flags&=-33);var T=bb(a);Up(a,T,S);break;case 3:case 4:var A=g.stateNode.containerInfo,I=bb(a);Hp(a,I,A);break;default:throw Error(t(161))}}catch(U){At(a,a.return,U)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function d5(a,c,f){Oe=a,kb(a)}function kb(a,c,f){for(var g=(a.mode&1)!==0;Oe!==null;){var S=Oe,T=S.child;if(S.tag===22&&g){var A=S.memoizedState!==null||Nd;if(!A){var I=S.alternate,U=I!==null&&I.memoizedState!==null||yr;I=Nd;var ie=yr;if(Nd=A,(yr=U)&&!ie)for(Oe=S;Oe!==null;)A=Oe,U=A.child,A.tag===22&&A.memoizedState!==null?Tb(S):U!==null?(U.return=A,Oe=U):Tb(S);for(;T!==null;)Oe=T,kb(T),T=T.sibling;Oe=S,Nd=I,yr=ie}jb(a)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,Oe=T):jb(a)}}function jb(a){for(;Oe!==null;){var c=Oe;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:yr||Td(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!yr)if(f===null)g.componentDidMount();else{var S=c.elementType===c.type?f.memoizedProps:Ms(c.type,f.memoizedProps);g.componentDidUpdate(S,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=c.updateQueue;T!==null&&Nv(c,T,g);break;case 3:var A=c.updateQueue;if(A!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}Nv(c,A,f)}break;case 5:var I=c.stateNode;if(f===null&&c.flags&4){f=I;var U=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&f.focus();break;case"img":U.src&&(f.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ie=c.alternate;if(ie!==null){var xe=ie.memoizedState;if(xe!==null){var ke=xe.dehydrated;ke!==null&&nl(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}yr||c.flags&512&&Wp(c)}catch(ye){At(c,c.return,ye)}}if(c===a){Oe=null;break}if(f=c.sibling,f!==null){f.return=c.return,Oe=f;break}Oe=c.return}}function Nb(a){for(;Oe!==null;){var c=Oe;if(c===a){Oe=null;break}var f=c.sibling;if(f!==null){f.return=c.return,Oe=f;break}Oe=c.return}}function Tb(a){for(;Oe!==null;){var c=Oe;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Td(4,c)}catch(U){At(c,f,U)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var S=c.return;try{g.componentDidMount()}catch(U){At(c,S,U)}}var T=c.return;try{Wp(c)}catch(U){At(c,T,U)}break;case 5:var A=c.return;try{Wp(c)}catch(U){At(c,A,U)}}}catch(U){At(c,c.return,U)}if(c===a){Oe=null;break}var I=c.sibling;if(I!==null){I.return=c.return,Oe=I;break}Oe=c.return}}var u5=Math.ceil,_d=_.ReactCurrentDispatcher,$p=_.ReactCurrentOwner,ds=_.ReactCurrentBatchConfig,it=0,nr=null,$t=null,lr=0,qr=0,$i=ao(0),Zt=0,Tl=null,ei=0,Md=0,Gp=0,_l=null,Fr=null,Yp=0,Gi=1/0,Dn=null,Ed=!1,Xp=null,po=null,Pd=!1,mo=null,Dd=0,Ml=0,Kp=null,Ad=-1,Rd=0;function Tr(){return(it&6)!==0?Ft():Ad!==-1?Ad:Ad=Ft()}function go(a){return(a.mode&1)===0?1:(it&2)!==0&&lr!==0?lr&-lr:XM.transition!==null?(Rd===0&&(Rd=bx()),Rd):(a=ht,a!==0||(a=window.event,a=a===void 0?16:Mx(a.type)),a)}function Ds(a,c,f,g){if(50<Ml)throw Ml=0,Kp=null,Error(t(185));Qa(a,f,g),((it&2)===0||a!==nr)&&(a===nr&&((it&2)===0&&(Md|=f),Zt===4&&yo(a,lr)),Lr(a,g),f===1&&it===0&&(c.mode&1)===0&&(Gi=Ft()+500,ld&&co()))}function Lr(a,c){var f=a.callbackNode;X_(a,c);var g=Hc(a,a===nr?lr:0);if(g===0)f!==null&&yx(f),a.callbackNode=null,a.callbackPriority=0;else if(c=g&-g,a.callbackPriority!==c){if(f!=null&&yx(f),c===1)a.tag===0?YM(Mb.bind(null,a)):pv(Mb.bind(null,a)),HM(function(){(it&6)===0&&co()}),f=null;else{switch(wx(g)){case 1:f=_f;break;case 4:f=xx;break;case 16:f=Ic;break;case 536870912:f=vx;break;default:f=Ic}f=Lb(f,_b.bind(null,a))}a.callbackPriority=c,a.callbackNode=f}}function _b(a,c){if(Ad=-1,Rd=0,(it&6)!==0)throw Error(t(327));var f=a.callbackNode;if(Yi()&&a.callbackNode!==f)return null;var g=Hc(a,a===nr?lr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||c)c=Od(a,g);else{c=g;var S=it;it|=2;var T=Pb();(nr!==a||lr!==c)&&(Dn=null,Gi=Ft()+500,ri(a,c));do try{p5();break}catch(I){Eb(a,I)}while(!0);fp(),_d.current=T,it=S,$t!==null?c=0:(nr=null,lr=0,c=Zt)}if(c!==0){if(c===2&&(S=Mf(a),S!==0&&(g=S,c=qp(a,S))),c===1)throw f=Tl,ri(a,0),yo(a,g),Lr(a,Ft()),f;if(c===6)yo(a,g);else{if(S=a.current.alternate,(g&30)===0&&!h5(S)&&(c=Od(a,g),c===2&&(T=Mf(a),T!==0&&(g=T,c=qp(a,T))),c===1))throw f=Tl,ri(a,0),yo(a,g),Lr(a,Ft()),f;switch(a.finishedWork=S,a.finishedLanes=g,c){case 0:case 1:throw Error(t(345));case 2:si(a,Fr,Dn);break;case 3:if(yo(a,g),(g&130023424)===g&&(c=Yp+500-Ft(),10<c)){if(Hc(a,0)!==0)break;if(S=a.suspendedLanes,(S&g)!==g){Tr(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=rp(si.bind(null,a,Fr,Dn),c);break}si(a,Fr,Dn);break;case 4:if(yo(a,g),(g&4194240)===g)break;for(c=a.eventTimes,S=-1;0<g;){var A=31-Ns(g);T=1<<A,A=c[A],A>S&&(S=A),g&=~T}if(g=S,g=Ft()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*u5(g/1960))-g,10<g){a.timeoutHandle=rp(si.bind(null,a,Fr,Dn),g);break}si(a,Fr,Dn);break;case 5:si(a,Fr,Dn);break;default:throw Error(t(329))}}}return Lr(a,Ft()),a.callbackNode===f?_b.bind(null,a):null}function qp(a,c){var f=_l;return a.current.memoizedState.isDehydrated&&(ri(a,c).flags|=256),a=Od(a,c),a!==2&&(c=Fr,Fr=f,c!==null&&Zp(c)),a}function Zp(a){Fr===null?Fr=a:Fr.push.apply(Fr,a)}function h5(a){for(var c=a;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var S=f[g],T=S.getSnapshot;S=S.value;try{if(!Ts(T(),S))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function yo(a,c){for(c&=~Gp,c&=~Md,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var f=31-Ns(c),g=1<<f;a[f]=-1,c&=~g}}function Mb(a){if((it&6)!==0)throw Error(t(327));Yi();var c=Hc(a,0);if((c&1)===0)return Lr(a,Ft()),null;var f=Od(a,c);if(a.tag!==0&&f===2){var g=Mf(a);g!==0&&(c=g,f=qp(a,g))}if(f===1)throw f=Tl,ri(a,0),yo(a,c),Lr(a,Ft()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,si(a,Fr,Dn),Lr(a,Ft()),null}function Jp(a,c){var f=it;it|=1;try{return a(c)}finally{it=f,it===0&&(Gi=Ft()+500,ld&&co())}}function ti(a){mo!==null&&mo.tag===0&&(it&6)===0&&Yi();var c=it;it|=1;var f=ds.transition,g=ht;try{if(ds.transition=null,ht=1,a)return a()}finally{ht=g,ds.transition=f,it=c,(it&6)===0&&co()}}function Qp(){qr=$i.current,xt($i)}function ri(a,c){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,WM(f)),$t!==null)for(f=$t.return;f!==null;){var g=f;switch(lp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&id();break;case 3:Wi(),xt(Ar),xt(pr),wp();break;case 5:vp(g);break;case 4:Wi();break;case 13:xt(jt);break;case 19:xt(jt);break;case 10:pp(g.type._context);break;case 22:case 23:Qp()}f=f.return}if(nr=a,$t=a=xo(a.current,null),lr=qr=c,Zt=0,Tl=null,Gp=Md=ei=0,Fr=_l=null,Zo!==null){for(c=0;c<Zo.length;c++)if(f=Zo[c],g=f.interleaved,g!==null){f.interleaved=null;var S=g.next,T=f.pending;if(T!==null){var A=T.next;T.next=S,g.next=A}f.pending=g}Zo=null}return a}function Eb(a,c){do{var f=$t;try{if(fp(),xd.current=Sd,vd){for(var g=Nt.memoizedState;g!==null;){var S=g.queue;S!==null&&(S.pending=null),g=g.next}vd=!1}if(Qo=0,sr=qt=Nt=null,wl=!1,Sl=0,$p.current=null,f===null||f.return===null){Zt=1,Tl=c,$t=null;break}e:{var T=a,A=f.return,I=f,U=c;if(c=lr,I.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=U,xe=I,ke=xe.tag;if((xe.mode&1)===0&&(ke===0||ke===11||ke===15)){var ye=xe.alternate;ye?(xe.updateQueue=ye.updateQueue,xe.memoizedState=ye.memoizedState,xe.lanes=ye.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var De=tb(A);if(De!==null){De.flags&=-257,rb(De,A,I,T,c),De.mode&1&&eb(T,ie,c),c=De,U=ie;var Fe=c.updateQueue;if(Fe===null){var Ie=new Set;Ie.add(U),c.updateQueue=Ie}else Fe.add(U);break e}else{if((c&1)===0){eb(T,ie,c),em();break e}U=Error(t(426))}}else if(bt&&I.mode&1){var Lt=tb(A);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),rb(Lt,A,I,T,c),up(Hi(U,I));break e}}T=U=Hi(U,I),Zt!==4&&(Zt=2),_l===null?_l=[T]:_l.push(T),T=A;do{switch(T.tag){case 3:T.flags|=65536,c&=-c,T.lanes|=c;var te=Jv(T,U,c);jv(T,te);break e;case 1:I=U;var K=T.type,se=T.stateNode;if((T.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(po===null||!po.has(se)))){T.flags|=65536,c&=-c,T.lanes|=c;var Te=Qv(T,I,c);jv(T,Te);break e}}T=T.return}while(T!==null)}Ab(f)}catch(Be){c=Be,$t===f&&f!==null&&($t=f=f.return);continue}break}while(!0)}function Pb(){var a=_d.current;return _d.current=Sd,a===null?Sd:a}function em(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),nr===null||(ei&268435455)===0&&(Md&268435455)===0||yo(nr,lr)}function Od(a,c){var f=it;it|=2;var g=Pb();(nr!==a||lr!==c)&&(Dn=null,ri(a,c));do try{f5();break}catch(S){Eb(a,S)}while(!0);if(fp(),it=f,_d.current=g,$t!==null)throw Error(t(261));return nr=null,lr=0,Zt}function f5(){for(;$t!==null;)Db($t)}function p5(){for(;$t!==null&&!I_();)Db($t)}function Db(a){var c=Fb(a.alternate,a,qr);a.memoizedProps=a.pendingProps,c===null?Ab(a):$t=c,$p.current=null}function Ab(a){var c=a;do{var f=c.alternate;if(a=c.return,(c.flags&32768)===0){if(f=i5(f,c,qr),f!==null){$t=f;return}}else{if(f=a5(f,c),f!==null){f.flags&=32767,$t=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Zt=6,$t=null;return}}if(c=c.sibling,c!==null){$t=c;return}$t=c=a}while(c!==null);Zt===0&&(Zt=5)}function si(a,c,f){var g=ht,S=ds.transition;try{ds.transition=null,ht=1,m5(a,c,f,g)}finally{ds.transition=S,ht=g}return null}function m5(a,c,f,g){do Yi();while(mo!==null);if((it&6)!==0)throw Error(t(327));f=a.finishedWork;var S=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var T=f.lanes|f.childLanes;if(K_(a,T),a===nr&&($t=nr=null,lr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Pd||(Pd=!0,Lb(Ic,function(){return Yi(),null})),T=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||T){T=ds.transition,ds.transition=null;var A=ht;ht=1;var I=it;it|=4,$p.current=null,c5(a,f),Cb(f,a),OM(ep),Gc=!!Qf,ep=Qf=null,a.current=f,d5(f),B_(),it=I,ht=A,ds.transition=T}else a.current=f;if(Pd&&(Pd=!1,mo=a,Dd=S),T=a.pendingLanes,T===0&&(po=null),H_(f.stateNode),Lr(a,Ft()),c!==null)for(g=a.onRecoverableError,f=0;f<c.length;f++)S=c[f],g(S.value,{componentStack:S.stack,digest:S.digest});if(Ed)throw Ed=!1,a=Xp,Xp=null,a;return(Dd&1)!==0&&a.tag!==0&&Yi(),T=a.pendingLanes,(T&1)!==0?a===Kp?Ml++:(Ml=0,Kp=a):Ml=0,co(),null}function Yi(){if(mo!==null){var a=wx(Dd),c=ds.transition,f=ht;try{if(ds.transition=null,ht=16>a?16:a,mo===null)var g=!1;else{if(a=mo,mo=null,Dd=0,(it&6)!==0)throw Error(t(331));var S=it;for(it|=4,Oe=a.current;Oe!==null;){var T=Oe,A=T.child;if((Oe.flags&16)!==0){var I=T.deletions;if(I!==null){for(var U=0;U<I.length;U++){var ie=I[U];for(Oe=ie;Oe!==null;){var xe=Oe;switch(xe.tag){case 0:case 11:case 15:Nl(8,xe,T)}var ke=xe.child;if(ke!==null)ke.return=xe,Oe=ke;else for(;Oe!==null;){xe=Oe;var ye=xe.sibling,De=xe.return;if(xb(xe),xe===ie){Oe=null;break}if(ye!==null){ye.return=De,Oe=ye;break}Oe=De}}}var Fe=T.alternate;if(Fe!==null){var Ie=Fe.child;if(Ie!==null){Fe.child=null;do{var Lt=Ie.sibling;Ie.sibling=null,Ie=Lt}while(Ie!==null)}}Oe=T}}if((T.subtreeFlags&2064)!==0&&A!==null)A.return=T,Oe=A;else e:for(;Oe!==null;){if(T=Oe,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Nl(9,T,T.return)}var te=T.sibling;if(te!==null){te.return=T.return,Oe=te;break e}Oe=T.return}}var K=a.current;for(Oe=K;Oe!==null;){A=Oe;var se=A.child;if((A.subtreeFlags&2064)!==0&&se!==null)se.return=A,Oe=se;else e:for(A=K;Oe!==null;){if(I=Oe,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Td(9,I)}}catch(Be){At(I,I.return,Be)}if(I===A){Oe=null;break e}var Te=I.sibling;if(Te!==null){Te.return=I.return,Oe=Te;break e}Oe=I.return}}if(it=S,co(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(Bc,a)}catch{}g=!0}return g}finally{ht=f,ds.transition=c}}return!1}function Rb(a,c,f){c=Hi(f,c),c=Jv(a,c,1),a=ho(a,c,1),c=Tr(),a!==null&&(Qa(a,1,c),Lr(a,c))}function At(a,c,f){if(a.tag===3)Rb(a,a,f);else for(;c!==null;){if(c.tag===3){Rb(c,a,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(po===null||!po.has(g))){a=Hi(f,a),a=Qv(c,a,1),c=ho(c,a,1),a=Tr(),c!==null&&(Qa(c,1,a),Lr(c,a));break}}c=c.return}}function g5(a,c,f){var g=a.pingCache;g!==null&&g.delete(c),c=Tr(),a.pingedLanes|=a.suspendedLanes&f,nr===a&&(lr&f)===f&&(Zt===4||Zt===3&&(lr&130023424)===lr&&500>Ft()-Yp?ri(a,0):Gp|=f),Lr(a,c)}function Ob(a,c){c===0&&((a.mode&1)===0?c=1:(c=Wc,Wc<<=1,(Wc&130023424)===0&&(Wc=4194304)));var f=Tr();a=Mn(a,c),a!==null&&(Qa(a,c,f),Lr(a,f))}function y5(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),Ob(a,f)}function x5(a,c){var f=0;switch(a.tag){case 13:var g=a.stateNode,S=a.memoizedState;S!==null&&(f=S.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(c),Ob(a,f)}var Fb;Fb=function(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps||Ar.current)Or=!0;else{if((a.lanes&f)===0&&(c.flags&128)===0)return Or=!1,o5(a,c,f);Or=(a.flags&131072)!==0}else Or=!1,bt&&(c.flags&1048576)!==0&&mv(c,dd,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;jd(a,c),a=c.pendingProps;var S=Oi(c,pr.current);Vi(c,f),S=kp(null,c,g,a,S,f);var T=jp();return c.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Rr(g)?(T=!0,ad(c)):T=!1,c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,yp(c),S.updater=Cd,c.stateNode=S,S._reactInternals=c,Pp(c,g,a,f),c=Op(null,c,g,!0,T,f)):(c.tag=0,bt&&T&&ap(c),Nr(null,c,S,f),c=c.child),c;case 16:g=c.elementType;e:{switch(jd(a,c),a=c.pendingProps,S=g._init,g=S(g._payload),c.type=g,S=c.tag=b5(g),a=Ms(g,a),S){case 0:c=Rp(null,c,g,a,f);break e;case 1:c=lb(null,c,g,a,f);break e;case 11:c=sb(null,c,g,a,f);break e;case 14:c=nb(null,c,g,Ms(g.type,a),f);break e}throw Error(t(306,g,""))}return c;case 0:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Ms(g,S),Rp(a,c,g,S,f);case 1:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Ms(g,S),lb(a,c,g,S,f);case 3:e:{if(cb(c),a===null)throw Error(t(387));g=c.pendingProps,T=c.memoizedState,S=T.element,kv(a,c),gd(c,g,null,f);var A=c.memoizedState;if(g=A.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){S=Hi(Error(t(423)),c),c=db(a,c,g,f,S);break e}else if(g!==S){S=Hi(Error(t(424)),c),c=db(a,c,g,f,S);break e}else for(Kr=io(c.stateNode.containerInfo.firstChild),Xr=c,bt=!0,_s=null,f=Sv(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(zi(),g===S){c=Pn(a,c,f);break e}Nr(a,c,g,f)}c=c.child}return c;case 5:return Tv(c),a===null&&dp(c),g=c.type,S=c.pendingProps,T=a!==null?a.memoizedProps:null,A=S.children,tp(g,S)?A=null:T!==null&&tp(g,T)&&(c.flags|=32),ab(a,c),Nr(a,c,A,f),c.child;case 6:return a===null&&dp(c),null;case 13:return ub(a,c,f);case 4:return xp(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=Ii(c,null,g,f):Nr(a,c,g,f),c.child;case 11:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Ms(g,S),sb(a,c,g,S,f);case 7:return Nr(a,c,c.pendingProps,f),c.child;case 8:return Nr(a,c,c.pendingProps.children,f),c.child;case 12:return Nr(a,c,c.pendingProps.children,f),c.child;case 10:e:{if(g=c.type._context,S=c.pendingProps,T=c.memoizedProps,A=S.value,mt(fd,g._currentValue),g._currentValue=A,T!==null)if(Ts(T.value,A)){if(T.children===S.children&&!Ar.current){c=Pn(a,c,f);break e}}else for(T=c.child,T!==null&&(T.return=c);T!==null;){var I=T.dependencies;if(I!==null){A=T.child;for(var U=I.firstContext;U!==null;){if(U.context===g){if(T.tag===1){U=En(-1,f&-f),U.tag=2;var ie=T.updateQueue;if(ie!==null){ie=ie.shared;var xe=ie.pending;xe===null?U.next=U:(U.next=xe.next,xe.next=U),ie.pending=U}}T.lanes|=f,U=T.alternate,U!==null&&(U.lanes|=f),mp(T.return,f,c),I.lanes|=f;break}U=U.next}}else if(T.tag===10)A=T.type===c.type?null:T.child;else if(T.tag===18){if(A=T.return,A===null)throw Error(t(341));A.lanes|=f,I=A.alternate,I!==null&&(I.lanes|=f),mp(A,f,c),A=T.sibling}else A=T.child;if(A!==null)A.return=T;else for(A=T;A!==null;){if(A===c){A=null;break}if(T=A.sibling,T!==null){T.return=A.return,A=T;break}A=A.return}T=A}Nr(a,c,S.children,f),c=c.child}return c;case 9:return S=c.type,g=c.pendingProps.children,Vi(c,f),S=ls(S),g=g(S),c.flags|=1,Nr(a,c,g,f),c.child;case 14:return g=c.type,S=Ms(g,c.pendingProps),S=Ms(g.type,S),nb(a,c,g,S,f);case 15:return ob(a,c,c.type,c.pendingProps,f);case 17:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Ms(g,S),jd(a,c),c.tag=1,Rr(g)?(a=!0,ad(c)):a=!1,Vi(c,f),qv(c,g,S),Pp(c,g,S,f),Op(null,c,g,!0,a,f);case 19:return fb(a,c,f);case 22:return ib(a,c,f)}throw Error(t(156,c.tag))};function Lb(a,c){return gx(a,c)}function v5(a,c,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(a,c,f,g){return new v5(a,c,f,g)}function tm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function b5(a){if(typeof a=="function")return tm(a)?1:0;if(a!=null){if(a=a.$$typeof,a===L)return 11;if(a===ce)return 14}return 2}function xo(a,c){var f=a.alternate;return f===null?(f=us(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function Fd(a,c,f,g,S,T){var A=2;if(g=a,typeof a=="function")tm(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case M:return ni(f.children,S,T,c);case E:A=8,S|=8;break;case R:return a=us(12,f,c,S|2),a.elementType=R,a.lanes=T,a;case $:return a=us(13,f,c,S),a.elementType=$,a.lanes=T,a;case J:return a=us(19,f,c,S),a.elementType=J,a.lanes=T,a;case X:return Ld(f,S,T,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:A=10;break e;case B:A=9;break e;case L:A=11;break e;case ce:A=14;break e;case V:A=16,g=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=us(A,f,c,S),c.elementType=a,c.type=g,c.lanes=T,c}function ni(a,c,f,g){return a=us(7,a,g,c),a.lanes=f,a}function Ld(a,c,f,g){return a=us(22,a,g,c),a.elementType=X,a.lanes=f,a.stateNode={isHidden:!1},a}function rm(a,c,f){return a=us(6,a,null,c),a.lanes=f,a}function sm(a,c,f){return c=us(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function w5(a,c,f,g,S){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=g,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function nm(a,c,f,g,S,T,A,I,U){return a=new w5(a,c,f,I,U),c===1?(c=1,T===!0&&(c|=8)):c=0,T=us(3,null,null,c),a.current=T,T.stateNode=a,T.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},yp(T),a}function S5(a,c,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:g==null?null:""+g,children:a,containerInfo:c,implementation:f}}function zb(a){if(!a)return lo;a=a._reactInternals;e:{if(Go(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Rr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(Rr(f))return hv(a,f,c)}return c}function Ib(a,c,f,g,S,T,A,I,U){return a=nm(f,g,!0,a,S,T,A,I,U),a.context=zb(null),f=a.current,g=Tr(),S=go(f),T=En(g,S),T.callback=c??null,ho(f,T,S),a.current.lanes=S,Qa(a,S,g),Lr(a,g),a}function zd(a,c,f,g){var S=c.current,T=Tr(),A=go(S);return f=zb(f),c.context===null?c.context=f:c.pendingContext=f,c=En(T,A),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=ho(S,c,A),a!==null&&(Ds(a,S,A,T),md(a,S,A)),A}function Id(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Bb(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function om(a,c){Bb(a,c),(a=a.alternate)&&Bb(a,c)}function C5(){return null}var Vb=typeof reportError=="function"?reportError:function(a){console.error(a)};function im(a){this._internalRoot=a}Bd.prototype.render=im.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));zd(a,c,null,null)},Bd.prototype.unmount=im.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;ti(function(){zd(null,a,null,null)}),c[jn]=null}};function Bd(a){this._internalRoot=a}Bd.prototype.unstable_scheduleHydration=function(a){if(a){var c=kx();a={blockedOn:null,target:a,priority:c};for(var f=0;f<so.length&&c!==0&&c<so[f].priority;f++);so.splice(f,0,a),f===0&&Tx(a)}};function am(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Vd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Wb(){}function k5(a,c,f,g,S){if(S){if(typeof g=="function"){var T=g;g=function(){var ie=Id(A);T.call(ie)}}var A=Ib(c,g,a,0,null,!1,!1,"",Wb);return a._reactRootContainer=A,a[jn]=A.current,fl(a.nodeType===8?a.parentNode:a),ti(),A}for(;S=a.lastChild;)a.removeChild(S);if(typeof g=="function"){var I=g;g=function(){var ie=Id(U);I.call(ie)}}var U=nm(a,0,!1,null,null,!1,!1,"",Wb);return a._reactRootContainer=U,a[jn]=U.current,fl(a.nodeType===8?a.parentNode:a),ti(function(){zd(c,U,f,g)}),U}function Wd(a,c,f,g,S){var T=f._reactRootContainer;if(T){var A=T;if(typeof S=="function"){var I=S;S=function(){var U=Id(A);I.call(U)}}zd(c,A,a,S)}else A=k5(f,c,a,S,g);return Id(A)}Sx=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var f=Ja(c.pendingLanes);f!==0&&(Pf(c,f|1),Lr(c,Ft()),(it&6)===0&&(Gi=Ft()+500,co()))}break;case 13:ti(function(){var g=Mn(a,1);if(g!==null){var S=Tr();Ds(g,a,1,S)}}),om(a,1)}},Df=function(a){if(a.tag===13){var c=Mn(a,134217728);if(c!==null){var f=Tr();Ds(c,a,134217728,f)}om(a,134217728)}},Cx=function(a){if(a.tag===13){var c=go(a),f=Mn(a,c);if(f!==null){var g=Tr();Ds(f,a,c,g)}om(a,c)}},kx=function(){return ht},jx=function(a,c){var f=ht;try{return ht=a,c()}finally{ht=f}},Ka=function(a,c,f){switch(c){case"input":if(ae(a,f),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==a&&g.form===a.form){var S=od(g);if(!S)throw Error(t(90));Ve(g),ae(g,S)}}}break;case"textarea":Ge(a,f);break;case"select":c=f.value,c!=null&&Je(a,!!f.multiple,c,!1)}},Kt=Jp,fr=ti;var j5={usingClientEntryPoint:!1,Events:[gl,Ai,od,qe,Ot,Jp]},El={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N5={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=px(a),a===null?null:a.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||C5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Bc=Hd.inject(N5),Ys=Hd}catch{}}return zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j5,zr.createPortal=function(a,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(c))throw Error(t(200));return S5(a,c,null,f)},zr.createRoot=function(a,c){if(!am(a))throw Error(t(299));var f=!1,g="",S=Vb;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),c=nm(a,1,!1,null,null,f,!1,g,S),a[jn]=c.current,fl(a.nodeType===8?a.parentNode:a),new im(c)},zr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=px(c),a=a===null?null:a.stateNode,a},zr.flushSync=function(a){return ti(a)},zr.hydrate=function(a,c,f){if(!Vd(c))throw Error(t(200));return Wd(null,a,c,!0,f)},zr.hydrateRoot=function(a,c,f){if(!am(a))throw Error(t(405));var g=f!=null&&f.hydratedSources||null,S=!1,T="",A=Vb;if(f!=null&&(f.unstable_strictMode===!0&&(S=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onRecoverableError!==void 0&&(A=f.onRecoverableError)),c=Ib(c,null,a,1,f??null,S,!1,T,A),a[jn]=c.current,fl(a),g)for(a=0;a<g.length;a++)f=g[a],S=f._getVersion,S=S(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,S]:c.mutableSourceEagerHydrationData.push(f,S);return new Bd(c)},zr.render=function(a,c,f){if(!Vd(c))throw Error(t(200));return Wd(null,a,c,!1,f)},zr.unmountComponentAtNode=function(a){if(!Vd(a))throw Error(t(40));return a._reactRootContainer?(ti(function(){Wd(null,null,a,!1,function(){a._reactRootContainer=null,a[jn]=null})}),!0):!1},zr.unstable_batchedUpdates=Jp,zr.unstable_renderSubtreeIntoContainer=function(a,c,f,g){if(!Vd(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Wd(a,c,f,!1,g)},zr.version="18.3.1-next-f1338f8080-20240426",zr}var qb;function Ih(){if(qb)return dm.exports;qb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=O5(),dm.exports}var Zb;function F5(){if(Zb)return Ud;Zb=1;var r=Ih();return Ud.createRoot=r.createRoot,Ud.hydrateRoot=r.hydrateRoot,Ud}var L5=F5(),b=Cc();const je=P0(b),O2=_5({__proto__:null,default:je},[b]);function Ye(r,e,{checkForDefaultPrevented:t=!0}={}){return function(n){if(r?.(n),t===!1||!n.defaultPrevented)return e?.(n)}}function Jb(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function F2(...r){return e=>{let t=!1;const s=r.map(n=>{const o=Jb(n,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let n=0;n<s.length;n++){const o=s[n];typeof o=="function"?o():Jb(r[n],null)}}}}function nt(...r){return b.useCallback(F2(...r),r)}function bn(r,e=[]){let t=[];function s(o,l){const d=b.createContext(l),u=t.length;t=[...t,l];const h=m=>{const{scope:y,children:x,...v}=m,w=y?.[r]?.[u]||d,j=b.useMemo(()=>v,Object.values(v));return i.jsx(w.Provider,{value:j,children:x})};h.displayName=o+"Provider";function p(m,y){const x=y?.[r]?.[u]||d,v=b.useContext(x);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,p]}const n=()=>{const o=t.map(l=>b.createContext(l));return function(d){const u=d?.[r]||o;return b.useMemo(()=>({[`__scope${r}`]:{...d,[r]:u}}),[d,u])}};return n.scopeName=r,[s,z5(n,...e)]}function z5(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const s=r.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const l=s.reduce((d,{useScope:u,scopeName:h})=>{const m=u(o)[`__scope${h}`];return{...d,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var zo=Ih();const L2=P0(zo);function sc(r){const e=I5(r),t=b.forwardRef((s,n)=>{const{children:o,...l}=s,d=b.Children.toArray(o),u=d.find(V5);if(u){const h=u.props.children,p=d.map(m=>m===u?b.Children.count(h)>1?b.Children.only(null):b.isValidElement(h)?h.props.children:null:m);return i.jsx(e,{...l,ref:n,children:b.isValidElement(h)?b.cloneElement(h,void 0,p):null})}return i.jsx(e,{...l,ref:n,children:o})});return t.displayName=`${r}.Slot`,t}var z2=sc("Slot");function I5(r){const e=b.forwardRef((t,s)=>{const{children:n,...o}=t;if(b.isValidElement(n)){const l=H5(n),d=W5(o,n.props);return n.type!==b.Fragment&&(d.ref=s?F2(s,l):l),b.cloneElement(n,d)}return b.Children.count(n)>1?b.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var I2=Symbol("radix.slottable");function B5(r){const e=({children:t})=>i.jsx(i.Fragment,{children:t});return e.displayName=`${r}.Slottable`,e.__radixId=I2,e}function V5(r){return b.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===I2}function W5(r,e){const t={...e};for(const s in e){const n=r[s],o=e[s];/^on[A-Z]/.test(s)?n&&o?t[s]=(...d)=>{const u=o(...d);return n(...d),u}:n&&(t[s]=n):s==="style"?t[s]={...n,...o}:s==="className"&&(t[s]=[n,o].filter(Boolean).join(" "))}return{...r,...t}}function H5(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var U5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=U5.reduce((r,e)=>{const t=sc(`Primitive.${e}`),s=b.forwardRef((n,o)=>{const{asChild:l,...d}=n,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...d,ref:o})});return s.displayName=`Primitive.${e}`,{...r,[e]:s}},{});function $5(r,e){r&&zo.flushSync(()=>r.dispatchEvent(e))}function Er(r){const e=b.useRef(r);return b.useEffect(()=>{e.current=r}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function G5(r,e=globalThis?.document){const t=Er(r);b.useEffect(()=>{const s=n=>{n.key==="Escape"&&t(n)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var Y5="DismissableLayer",lg="dismissableLayer.update",X5="dismissableLayer.pointerDownOutside",K5="dismissableLayer.focusOutside",Qb,B2=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),D0=b.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:l,onDismiss:d,...u}=r,h=b.useContext(B2),[p,m]=b.useState(null),y=p?.ownerDocument??globalThis?.document,[,x]=b.useState({}),v=nt(e,M=>m(M)),w=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=w.indexOf(j),N=p?w.indexOf(p):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,_=N>=C,P=J5(M=>{const E=M.target,R=[...h.branches].some(O=>O.contains(E));!_||R||(n?.(M),l?.(M),M.defaultPrevented||d?.())},y),D=Q5(M=>{const E=M.target;[...h.branches].some(O=>O.contains(E))||(o?.(M),l?.(M),M.defaultPrevented||d?.())},y);return G5(M=>{N===h.layers.size-1&&(s?.(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},y),b.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Qb=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),ew(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Qb)}},[p,y,t,h]),b.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),ew())},[p,h]),b.useEffect(()=>{const M=()=>x({});return document.addEventListener(lg,M),()=>document.removeEventListener(lg,M)},[]),i.jsx(Ze.div,{...u,ref:v,style:{pointerEvents:k?_?"auto":"none":void 0,...r.style},onFocusCapture:Ye(r.onFocusCapture,D.onFocusCapture),onBlurCapture:Ye(r.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ye(r.onPointerDownCapture,P.onPointerDownCapture)})});D0.displayName=Y5;var q5="DismissableLayerBranch",Z5=b.forwardRef((r,e)=>{const t=b.useContext(B2),s=b.useRef(null),n=nt(e,s);return b.useEffect(()=>{const o=s.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),i.jsx(Ze.div,{...r,ref:n})});Z5.displayName=q5;function J5(r,e=globalThis?.document){const t=Er(r),s=b.useRef(!1),n=b.useRef(()=>{});return b.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let u=function(){V2(X5,t,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",n.current),n.current=u,e.addEventListener("click",n.current,{once:!0})):u()}else e.removeEventListener("click",n.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",n.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function Q5(r,e=globalThis?.document){const t=Er(r),s=b.useRef(!1);return b.useEffect(()=>{const n=o=>{o.target&&!s.current&&V2(K5,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",n),()=>e.removeEventListener("focusin",n)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ew(){const r=new CustomEvent(lg);document.dispatchEvent(r)}function V2(r,e,t,{discrete:s}){const n=t.originalEvent.target,o=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&n.addEventListener(r,e,{once:!0}),s?$5(n,o):n.dispatchEvent(o)}var ur=globalThis?.document?b.useLayoutEffect:()=>{},eE=O2[" useId ".trim().toString()]||(()=>{}),tE=0;function Pa(r){const[e,t]=b.useState(eE());return ur(()=>{t(s=>s??String(tE++))},[r]),e?`radix-${e}`:""}const rE=["top","right","bottom","left"],Do=Math.min,Qr=Math.max,oh=Math.round,$d=Math.floor,un=r=>({x:r,y:r}),sE={left:"right",right:"left",bottom:"top",top:"bottom"},nE={start:"end",end:"start"};function cg(r,e,t){return Qr(r,Do(e,t))}function Vn(r,e){return typeof r=="function"?r(e):r}function Wn(r){return r.split("-")[0]}function Da(r){return r.split("-")[1]}function A0(r){return r==="x"?"y":"x"}function R0(r){return r==="y"?"height":"width"}const oE=new Set(["top","bottom"]);function cn(r){return oE.has(Wn(r))?"y":"x"}function O0(r){return A0(cn(r))}function iE(r,e,t){t===void 0&&(t=!1);const s=Da(r),n=O0(r),o=R0(n);let l=n==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=ih(l)),[l,ih(l)]}function aE(r){const e=ih(r);return[dg(r),e,dg(e)]}function dg(r){return r.replace(/start|end/g,e=>nE[e])}const tw=["left","right"],rw=["right","left"],lE=["top","bottom"],cE=["bottom","top"];function dE(r,e,t){switch(r){case"top":case"bottom":return t?e?rw:tw:e?tw:rw;case"left":case"right":return e?lE:cE;default:return[]}}function uE(r,e,t,s){const n=Da(r);let o=dE(Wn(r),t==="start",s);return n&&(o=o.map(l=>l+"-"+n),e&&(o=o.concat(o.map(dg)))),o}function ih(r){return r.replace(/left|right|bottom|top/g,e=>sE[e])}function hE(r){return{top:0,right:0,bottom:0,left:0,...r}}function W2(r){return typeof r!="number"?hE(r):{top:r,right:r,bottom:r,left:r}}function ah(r){const{x:e,y:t,width:s,height:n}=r;return{width:s,height:n,top:t,left:e,right:e+s,bottom:t+n,x:e,y:t}}function sw(r,e,t){let{reference:s,floating:n}=r;const o=cn(e),l=O0(e),d=R0(l),u=Wn(e),h=o==="y",p=s.x+s.width/2-n.width/2,m=s.y+s.height/2-n.height/2,y=s[d]/2-n[d]/2;let x;switch(u){case"top":x={x:p,y:s.y-n.height};break;case"bottom":x={x:p,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:m};break;case"left":x={x:s.x-n.width,y:m};break;default:x={x:s.x,y:s.y}}switch(Da(e)){case"start":x[l]-=y*(t&&h?-1:1);break;case"end":x[l]+=y*(t&&h?-1:1);break}return x}const fE=async(r,e,t)=>{const{placement:s="bottom",strategy:n="absolute",middleware:o=[],platform:l}=t,d=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:r,floating:e,strategy:n}),{x:p,y:m}=sw(h,s,u),y=s,x={},v=0;for(let w=0;w<d.length;w++){const{name:j,fn:C}=d[w],{x:N,y:k,data:_,reset:P}=await C({x:p,y:m,initialPlacement:s,placement:y,strategy:n,middlewareData:x,rects:h,platform:l,elements:{reference:r,floating:e}});p=N??p,m=k??m,x={...x,[j]:{...x[j],..._}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(y=P.placement),P.rects&&(h=P.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:n}):P.rects),{x:p,y:m}=sw(h,y,u)),w=-1)}return{x:p,y:m,placement:y,strategy:n,middlewareData:x}};async function nc(r,e){var t;e===void 0&&(e={});const{x:s,y:n,platform:o,rects:l,elements:d,strategy:u}=r,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:y=!1,padding:x=0}=Vn(e,r),v=W2(x),j=d[y?m==="floating"?"reference":"floating":m],C=ah(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(j)))==null||t?j:j.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:u})),N=m==="floating"?{x:s,y:n,width:l.floating.width,height:l.floating.height}:l.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),_=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},P=ah(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:N,offsetParent:k,strategy:u}):N);return{top:(C.top-P.top+v.top)/_.y,bottom:(P.bottom-C.bottom+v.bottom)/_.y,left:(C.left-P.left+v.left)/_.x,right:(P.right-C.right+v.right)/_.x}}const pE=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:s,placement:n,rects:o,platform:l,elements:d,middlewareData:u}=e,{element:h,padding:p=0}=Vn(r,e)||{};if(h==null)return{};const m=W2(p),y={x:t,y:s},x=O0(n),v=R0(x),w=await l.getDimensions(h),j=x==="y",C=j?"top":"left",N=j?"bottom":"right",k=j?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[x]-y[x]-o.floating[v],P=y[x]-o.reference[x],D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let M=D?D[k]:0;(!M||!await(l.isElement==null?void 0:l.isElement(D)))&&(M=d.floating[k]||o.floating[v]);const E=_/2-P/2,R=M/2-w[v]/2-1,O=Do(m[C],R),B=Do(m[N],R),L=O,$=M-w[v]-B,J=M/2-w[v]/2+E,ce=cg(L,J,$),V=!u.arrow&&Da(n)!=null&&J!==ce&&o.reference[v]/2-(J<L?O:B)-w[v]/2<0,X=V?J<L?J-L:J-$:0;return{[x]:y[x]+X,data:{[x]:ce,centerOffset:J-ce-X,...V&&{alignmentOffset:X}},reset:V}}}),mE=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,s;const{placement:n,middlewareData:o,rects:l,initialPlacement:d,platform:u,elements:h}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...j}=Vn(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const C=Wn(n),N=cn(d),k=Wn(d)===d,_=await(u.isRTL==null?void 0:u.isRTL(h.floating)),P=y||(k||!w?[ih(d)]:aE(d)),D=v!=="none";!y&&D&&P.push(...uE(d,w,v,_));const M=[d,...P],E=await nc(e,j),R=[];let O=((s=o.flip)==null?void 0:s.overflows)||[];if(p&&R.push(E[C]),m){const J=iE(n,l,_);R.push(E[J[0]],E[J[1]])}if(O=[...O,{placement:n,overflows:R}],!R.every(J=>J<=0)){var B,L;const J=(((B=o.flip)==null?void 0:B.index)||0)+1,ce=M[J];if(ce&&(!(m==="alignment"?N!==cn(ce):!1)||O.every(F=>cn(F.placement)===N?F.overflows[0]>0:!0)))return{data:{index:J,overflows:O},reset:{placement:ce}};let V=(L=O.filter(X=>X.overflows[0]<=0).sort((X,F)=>X.overflows[1]-F.overflows[1])[0])==null?void 0:L.placement;if(!V)switch(x){case"bestFit":{var $;const X=($=O.filter(F=>{if(D){const ee=cn(F.placement);return ee===N||ee==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ee=>ee>0).reduce((ee,H)=>ee+H,0)]).sort((F,ee)=>F[1]-ee[1])[0])==null?void 0:$[0];X&&(V=X);break}case"initialPlacement":V=d;break}if(n!==V)return{reset:{placement:V}}}return{}}}};function nw(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function ow(r){return rE.some(e=>r[e]>=0)}const gE=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...n}=Vn(r,e);switch(s){case"referenceHidden":{const o=await nc(e,{...n,elementContext:"reference"}),l=nw(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:ow(l)}}}case"escaped":{const o=await nc(e,{...n,altBoundary:!0}),l=nw(o,t.floating);return{data:{escapedOffsets:l,escaped:ow(l)}}}default:return{}}}}},H2=new Set(["left","top"]);async function yE(r,e){const{placement:t,platform:s,elements:n}=r,o=await(s.isRTL==null?void 0:s.isRTL(n.floating)),l=Wn(t),d=Da(t),u=cn(t)==="y",h=H2.has(l)?-1:1,p=o&&u?-1:1,m=Vn(e,r);let{mainAxis:y,crossAxis:x,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof v=="number"&&(x=d==="end"?v*-1:v),u?{x:x*p,y:y*h}:{x:y*h,y:x*p}}const xE=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,s;const{x:n,y:o,placement:l,middlewareData:d}=e,u=await yE(e,r);return l===((t=d.offset)==null?void 0:t.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:n+u.x,y:o+u.y,data:{...u,placement:l}}}}},vE=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:s,placement:n}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:d={fn:j=>{let{x:C,y:N}=j;return{x:C,y:N}}},...u}=Vn(r,e),h={x:t,y:s},p=await nc(e,u),m=cn(Wn(n)),y=A0(m);let x=h[y],v=h[m];if(o){const j=y==="y"?"top":"left",C=y==="y"?"bottom":"right",N=x+p[j],k=x-p[C];x=cg(N,x,k)}if(l){const j=m==="y"?"top":"left",C=m==="y"?"bottom":"right",N=v+p[j],k=v-p[C];v=cg(N,v,k)}const w=d.fn({...e,[y]:x,[m]:v});return{...w,data:{x:w.x-t,y:w.y-s,enabled:{[y]:o,[m]:l}}}}}},bE=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:s,placement:n,rects:o,middlewareData:l}=e,{offset:d=0,mainAxis:u=!0,crossAxis:h=!0}=Vn(r,e),p={x:t,y:s},m=cn(n),y=A0(m);let x=p[y],v=p[m];const w=Vn(d,e),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const k=y==="y"?"height":"width",_=o.reference[y]-o.floating[k]+j.mainAxis,P=o.reference[y]+o.reference[k]-j.mainAxis;x<_?x=_:x>P&&(x=P)}if(h){var C,N;const k=y==="y"?"width":"height",_=H2.has(Wn(n)),P=o.reference[m]-o.floating[k]+(_&&((C=l.offset)==null?void 0:C[m])||0)+(_?0:j.crossAxis),D=o.reference[m]+o.reference[k]+(_?0:((N=l.offset)==null?void 0:N[m])||0)-(_?j.crossAxis:0);v<P?v=P:v>D&&(v=D)}return{[y]:x,[m]:v}}}},wE=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,s;const{placement:n,rects:o,platform:l,elements:d}=e,{apply:u=()=>{},...h}=Vn(r,e),p=await nc(e,h),m=Wn(n),y=Da(n),x=cn(n)==="y",{width:v,height:w}=o.floating;let j,C;m==="top"||m==="bottom"?(j=m,C=y===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(C=m,j=y==="end"?"top":"bottom");const N=w-p.top-p.bottom,k=v-p.left-p.right,_=Do(w-p[j],N),P=Do(v-p[C],k),D=!e.middlewareData.shift;let M=_,E=P;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(E=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(M=N),D&&!y){const O=Qr(p.left,0),B=Qr(p.right,0),L=Qr(p.top,0),$=Qr(p.bottom,0);x?E=v-2*(O!==0||B!==0?O+B:Qr(p.left,p.right)):M=w-2*(L!==0||$!==0?L+$:Qr(p.top,p.bottom))}await u({...e,availableWidth:E,availableHeight:M});const R=await l.getDimensions(d.floating);return v!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function Aa(r){return U2(r)?(r.nodeName||"").toLowerCase():"#document"}function rs(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function wn(r){var e;return(e=(U2(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function U2(r){return Bh()?r instanceof Node||r instanceof rs(r).Node:!1}function Us(r){return Bh()?r instanceof Element||r instanceof rs(r).Element:!1}function gn(r){return Bh()?r instanceof HTMLElement||r instanceof rs(r).HTMLElement:!1}function iw(r){return!Bh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof rs(r).ShadowRoot}const SE=new Set(["inline","contents"]);function kc(r){const{overflow:e,overflowX:t,overflowY:s,display:n}=$s(r);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!SE.has(n)}const CE=new Set(["table","td","th"]);function kE(r){return CE.has(Aa(r))}const jE=[":popover-open",":modal"];function Vh(r){return jE.some(e=>{try{return r.matches(e)}catch{return!1}})}const NE=["transform","translate","scale","rotate","perspective"],TE=["transform","translate","scale","rotate","perspective","filter"],_E=["paint","layout","strict","content"];function F0(r){const e=L0(),t=Us(r)?$s(r):r;return NE.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||TE.some(s=>(t.willChange||"").includes(s))||_E.some(s=>(t.contain||"").includes(s))}function ME(r){let e=Ao(r);for(;gn(e)&&!wa(e);){if(F0(e))return e;if(Vh(e))return null;e=Ao(e)}return null}function L0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EE=new Set(["html","body","#document"]);function wa(r){return EE.has(Aa(r))}function $s(r){return rs(r).getComputedStyle(r)}function Wh(r){return Us(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ao(r){if(Aa(r)==="html")return r;const e=r.assignedSlot||r.parentNode||iw(r)&&r.host||wn(r);return iw(e)?e.host:e}function $2(r){const e=Ao(r);return wa(e)?r.ownerDocument?r.ownerDocument.body:r.body:gn(e)&&kc(e)?e:$2(e)}function oc(r,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=$2(r),o=n===((s=r.ownerDocument)==null?void 0:s.body),l=rs(n);if(o){const d=ug(l);return e.concat(l,l.visualViewport||[],kc(n)?n:[],d&&t?oc(d):[])}return e.concat(n,oc(n,[],t))}function ug(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function G2(r){const e=$s(r);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=gn(r),o=n?r.offsetWidth:t,l=n?r.offsetHeight:s,d=oh(t)!==o||oh(s)!==l;return d&&(t=o,s=l),{width:t,height:s,$:d}}function z0(r){return Us(r)?r:r.contextElement}function pa(r){const e=z0(r);if(!gn(e))return un(1);const t=e.getBoundingClientRect(),{width:s,height:n,$:o}=G2(e);let l=(o?oh(t.width):t.width)/s,d=(o?oh(t.height):t.height)/n;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const PE=un(0);function Y2(r){const e=rs(r);return!L0()||!e.visualViewport?PE:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DE(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==rs(r)?!1:e}function vi(r,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=r.getBoundingClientRect(),o=z0(r);let l=un(1);e&&(s?Us(s)&&(l=pa(s)):l=pa(r));const d=DE(o,t,s)?Y2(o):un(0);let u=(n.left+d.x)/l.x,h=(n.top+d.y)/l.y,p=n.width/l.x,m=n.height/l.y;if(o){const y=rs(o),x=s&&Us(s)?rs(s):s;let v=y,w=ug(v);for(;w&&s&&x!==v;){const j=pa(w),C=w.getBoundingClientRect(),N=$s(w),k=C.left+(w.clientLeft+parseFloat(N.paddingLeft))*j.x,_=C.top+(w.clientTop+parseFloat(N.paddingTop))*j.y;u*=j.x,h*=j.y,p*=j.x,m*=j.y,u+=k,h+=_,v=rs(w),w=ug(v)}}return ah({width:p,height:m,x:u,y:h})}function Hh(r,e){const t=Wh(r).scrollLeft;return e?e.left+t:vi(wn(r)).left+t}function X2(r,e){const t=r.getBoundingClientRect(),s=t.left+e.scrollLeft-Hh(r,t),n=t.top+e.scrollTop;return{x:s,y:n}}function AE(r){let{elements:e,rect:t,offsetParent:s,strategy:n}=r;const o=n==="fixed",l=wn(s),d=e?Vh(e.floating):!1;if(s===l||d&&o)return t;let u={scrollLeft:0,scrollTop:0},h=un(1);const p=un(0),m=gn(s);if((m||!m&&!o)&&((Aa(s)!=="body"||kc(l))&&(u=Wh(s)),gn(s))){const x=vi(s);h=pa(s),p.x=x.x+s.clientLeft,p.y=x.y+s.clientTop}const y=l&&!m&&!o?X2(l,u):un(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-u.scrollLeft*h.x+p.x+y.x,y:t.y*h.y-u.scrollTop*h.y+p.y+y.y}}function RE(r){return Array.from(r.getClientRects())}function OE(r){const e=wn(r),t=Wh(r),s=r.ownerDocument.body,n=Qr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=Qr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-t.scrollLeft+Hh(r);const d=-t.scrollTop;return $s(s).direction==="rtl"&&(l+=Qr(e.clientWidth,s.clientWidth)-n),{width:n,height:o,x:l,y:d}}const aw=25;function FE(r,e){const t=rs(r),s=wn(r),n=t.visualViewport;let o=s.clientWidth,l=s.clientHeight,d=0,u=0;if(n){o=n.width,l=n.height;const p=L0();(!p||p&&e==="fixed")&&(d=n.offsetLeft,u=n.offsetTop)}const h=Hh(s);if(h<=0){const p=s.ownerDocument,m=p.body,y=getComputedStyle(m),x=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,v=Math.abs(s.clientWidth-m.clientWidth-x);v<=aw&&(o-=v)}else h<=aw&&(o+=h);return{width:o,height:l,x:d,y:u}}const LE=new Set(["absolute","fixed"]);function zE(r,e){const t=vi(r,!0,e==="fixed"),s=t.top+r.clientTop,n=t.left+r.clientLeft,o=gn(r)?pa(r):un(1),l=r.clientWidth*o.x,d=r.clientHeight*o.y,u=n*o.x,h=s*o.y;return{width:l,height:d,x:u,y:h}}function lw(r,e,t){let s;if(e==="viewport")s=FE(r,t);else if(e==="document")s=OE(wn(r));else if(Us(e))s=zE(e,t);else{const n=Y2(r);s={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return ah(s)}function K2(r,e){const t=Ao(r);return t===e||!Us(t)||wa(t)?!1:$s(t).position==="fixed"||K2(t,e)}function IE(r,e){const t=e.get(r);if(t)return t;let s=oc(r,[],!1).filter(d=>Us(d)&&Aa(d)!=="body"),n=null;const o=$s(r).position==="fixed";let l=o?Ao(r):r;for(;Us(l)&&!wa(l);){const d=$s(l),u=F0(l);!u&&d.position==="fixed"&&(n=null),(o?!u&&!n:!u&&d.position==="static"&&!!n&&LE.has(n.position)||kc(l)&&!u&&K2(r,l))?s=s.filter(p=>p!==l):n=d,l=Ao(l)}return e.set(r,s),s}function BE(r){let{element:e,boundary:t,rootBoundary:s,strategy:n}=r;const l=[...t==="clippingAncestors"?Vh(e)?[]:IE(e,this._c):[].concat(t),s],d=l[0],u=l.reduce((h,p)=>{const m=lw(e,p,n);return h.top=Qr(m.top,h.top),h.right=Do(m.right,h.right),h.bottom=Do(m.bottom,h.bottom),h.left=Qr(m.left,h.left),h},lw(e,d,n));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function VE(r){const{width:e,height:t}=G2(r);return{width:e,height:t}}function WE(r,e,t){const s=gn(e),n=wn(e),o=t==="fixed",l=vi(r,!0,o,e);let d={scrollLeft:0,scrollTop:0};const u=un(0);function h(){u.x=Hh(n)}if(s||!s&&!o)if((Aa(e)!=="body"||kc(n))&&(d=Wh(e)),s){const x=vi(e,!0,o,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else n&&h();o&&!s&&n&&h();const p=n&&!s&&!o?X2(n,d):un(0),m=l.left+d.scrollLeft-u.x-p.x,y=l.top+d.scrollTop-u.y-p.y;return{x:m,y,width:l.width,height:l.height}}function fm(r){return $s(r).position==="static"}function cw(r,e){if(!gn(r)||$s(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return wn(r)===t&&(t=t.ownerDocument.body),t}function q2(r,e){const t=rs(r);if(Vh(r))return t;if(!gn(r)){let n=Ao(r);for(;n&&!wa(n);){if(Us(n)&&!fm(n))return n;n=Ao(n)}return t}let s=cw(r,e);for(;s&&kE(s)&&fm(s);)s=cw(s,e);return s&&wa(s)&&fm(s)&&!F0(s)?t:s||ME(r)||t}const HE=async function(r){const e=this.getOffsetParent||q2,t=this.getDimensions,s=await t(r.floating);return{reference:WE(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function UE(r){return $s(r).direction==="rtl"}const $E={convertOffsetParentRelativeRectToViewportRelativeRect:AE,getDocumentElement:wn,getClippingRect:BE,getOffsetParent:q2,getElementRects:HE,getClientRects:RE,getDimensions:VE,getScale:pa,isElement:Us,isRTL:UE};function Z2(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function GE(r,e){let t=null,s;const n=wn(r);function o(){var d;clearTimeout(s),(d=t)==null||d.disconnect(),t=null}function l(d,u){d===void 0&&(d=!1),u===void 0&&(u=1),o();const h=r.getBoundingClientRect(),{left:p,top:m,width:y,height:x}=h;if(d||e(),!y||!x)return;const v=$d(m),w=$d(n.clientWidth-(p+y)),j=$d(n.clientHeight-(m+x)),C=$d(p),k={rootMargin:-v+"px "+-w+"px "+-j+"px "+-C+"px",threshold:Qr(0,Do(1,u))||1};let _=!0;function P(D){const M=D[0].intersectionRatio;if(M!==u){if(!_)return l();M?l(!1,M):s=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!Z2(h,r.getBoundingClientRect())&&l(),_=!1}try{t=new IntersectionObserver(P,{...k,root:n.ownerDocument})}catch{t=new IntersectionObserver(P,k)}t.observe(r)}return l(!0),o}function YE(r,e,t,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,h=z0(r),p=n||o?[...h?oc(h):[],...oc(e)]:[];p.forEach(C=>{n&&C.addEventListener("scroll",t,{passive:!0}),o&&C.addEventListener("resize",t)});const m=h&&d?GE(h,t):null;let y=-1,x=null;l&&(x=new ResizeObserver(C=>{let[N]=C;N&&N.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),t()}),h&&!u&&x.observe(h),x.observe(e));let v,w=u?vi(r):null;u&&j();function j(){const C=vi(r);w&&!Z2(w,C)&&t(),w=C,v=requestAnimationFrame(j)}return t(),()=>{var C;p.forEach(N=>{n&&N.removeEventListener("scroll",t),o&&N.removeEventListener("resize",t)}),m?.(),(C=x)==null||C.disconnect(),x=null,u&&cancelAnimationFrame(v)}}const XE=xE,KE=vE,qE=mE,ZE=wE,JE=gE,dw=pE,QE=bE,eP=(r,e,t)=>{const s=new Map,n={platform:$E,...t},o={...n.platform,_c:s};return fE(r,e,{...n,platform:o})};var tP=typeof document<"u",rP=function(){},Uu=tP?b.useLayoutEffect:rP;function lh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,s,n;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!lh(r[s],e[s]))return!1;return!0}if(n=Object.keys(r),t=n.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,n[s]))return!1;for(s=t;s--!==0;){const o=n[s];if(!(o==="_owner"&&r.$$typeof)&&!lh(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function J2(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function uw(r,e){const t=J2(r);return Math.round(e*t)/t}function pm(r){const e=b.useRef(r);return Uu(()=>{e.current=r}),e}function sP(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:n,elements:{reference:o,floating:l}={},transform:d=!0,whileElementsMounted:u,open:h}=r,[p,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,x]=b.useState(s);lh(y,s)||x(s);const[v,w]=b.useState(null),[j,C]=b.useState(null),N=b.useCallback(F=>{F!==D.current&&(D.current=F,w(F))},[]),k=b.useCallback(F=>{F!==M.current&&(M.current=F,C(F))},[]),_=o||v,P=l||j,D=b.useRef(null),M=b.useRef(null),E=b.useRef(p),R=u!=null,O=pm(u),B=pm(n),L=pm(h),$=b.useCallback(()=>{if(!D.current||!M.current)return;const F={placement:e,strategy:t,middleware:y};B.current&&(F.platform=B.current),eP(D.current,M.current,F).then(ee=>{const H={...ee,isPositioned:L.current!==!1};J.current&&!lh(E.current,H)&&(E.current=H,zo.flushSync(()=>{m(H)}))})},[y,e,t,B,L]);Uu(()=>{h===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[h]);const J=b.useRef(!1);Uu(()=>(J.current=!0,()=>{J.current=!1}),[]),Uu(()=>{if(_&&(D.current=_),P&&(M.current=P),_&&P){if(O.current)return O.current(_,P,$);$()}},[_,P,$,O,R]);const ce=b.useMemo(()=>({reference:D,floating:M,setReference:N,setFloating:k}),[N,k]),V=b.useMemo(()=>({reference:_,floating:P}),[_,P]),X=b.useMemo(()=>{const F={position:t,left:0,top:0};if(!V.floating)return F;const ee=uw(V.floating,p.x),H=uw(V.floating,p.y);return d?{...F,transform:"translate("+ee+"px, "+H+"px)",...J2(V.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ee,top:H}},[t,d,V.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:$,refs:ce,elements:V,floatingStyles:X}),[p,$,ce,V,X])}const nP=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:s,padding:n}=typeof r=="function"?r(t):r;return s&&e(s)?s.current!=null?dw({element:s.current,padding:n}).fn(t):{}:s?dw({element:s,padding:n}).fn(t):{}}}},oP=(r,e)=>({...XE(r),options:[r,e]}),iP=(r,e)=>({...KE(r),options:[r,e]}),aP=(r,e)=>({...QE(r),options:[r,e]}),lP=(r,e)=>({...qE(r),options:[r,e]}),cP=(r,e)=>({...ZE(r),options:[r,e]}),dP=(r,e)=>({...JE(r),options:[r,e]}),uP=(r,e)=>({...nP(r),options:[r,e]});var hP="Arrow",Q2=b.forwardRef((r,e)=>{const{children:t,width:s=10,height:n=5,...o}=r;return i.jsx(Ze.svg,{...o,ref:e,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Q2.displayName=hP;var fP=Q2;function I0(r){const[e,t]=b.useState(void 0);return ur(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const s=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const o=n[0];let l,d;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,d=h.blockSize}else l=r.offsetWidth,d=r.offsetHeight;t({width:l,height:d})});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else t(void 0)},[r]),e}var B0="Popper",[eC,Uh]=bn(B0),[pP,tC]=eC(B0),rC=r=>{const{__scopePopper:e,children:t}=r,[s,n]=b.useState(null);return i.jsx(pP,{scope:e,anchor:s,onAnchorChange:n,children:t})};rC.displayName=B0;var sC="PopperAnchor",nC=b.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:s,...n}=r,o=tC(sC,t),l=b.useRef(null),d=nt(e,l),u=b.useRef(null);return b.useEffect(()=>{const h=u.current;u.current=s?.current||l.current,h!==u.current&&o.onAnchorChange(u.current)}),s?null:i.jsx(Ze.div,{...n,ref:d})});nC.displayName=sC;var V0="PopperContent",[mP,gP]=eC(V0),oC=b.forwardRef((r,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:n=0,align:o="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:v,...w}=r,j=tC(V0,t),[C,N]=b.useState(null),k=nt(e,G=>N(G)),[_,P]=b.useState(null),D=I0(_),M=D?.width??0,E=D?.height??0,R=s+(o!=="center"?"-"+o:""),O=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},B=Array.isArray(h)?h:[h],L=B.length>0,$={padding:O,boundary:B.filter(xP),altBoundary:L},{refs:J,floatingStyles:ce,placement:V,isPositioned:X,middlewareData:F}=sP({strategy:"fixed",placement:R,whileElementsMounted:(...G)=>YE(...G,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[oP({mainAxis:n+E,alignmentAxis:l}),u&&iP({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?aP():void 0,...$}),u&&lP({...$}),cP({...$,apply:({elements:G,rects:Q,availableWidth:de,availableHeight:me})=>{const{width:_e,height:Ve}=Q.reference,be=G.floating.style;be.setProperty("--radix-popper-available-width",`${de}px`),be.setProperty("--radix-popper-available-height",`${me}px`),be.setProperty("--radix-popper-anchor-width",`${_e}px`),be.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),_&&uP({element:_,padding:d}),vP({arrowWidth:M,arrowHeight:E}),y&&dP({strategy:"referenceHidden",...$})]}),[ee,H]=lC(V),z=Er(v);ur(()=>{X&&z?.()},[X,z]);const Z=F.arrow?.x,q=F.arrow?.y,oe=F.arrow?.centerOffset!==0,[he,fe]=b.useState();return ur(()=>{C&&fe(window.getComputedStyle(C).zIndex)},[C]),i.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:X?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:i.jsx(mP,{scope:t,placedSide:ee,onArrowChange:P,arrowX:Z,arrowY:q,shouldHideArrow:oe,children:i.jsx(Ze.div,{"data-side":ee,"data-align":H,...w,ref:k,style:{...w.style,animation:X?void 0:"none"}})})})});oC.displayName=V0;var iC="PopperArrow",yP={top:"bottom",right:"left",bottom:"top",left:"right"},aC=b.forwardRef(function(e,t){const{__scopePopper:s,...n}=e,o=gP(iC,s),l=yP[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(fP,{...n,ref:t,style:{...n.style,display:"block"}})})});aC.displayName=iC;function xP(r){return r!==null}var vP=r=>({name:"transformOrigin",options:r,fn(e){const{placement:t,rects:s,middlewareData:n}=e,l=n.arrow?.centerOffset!==0,d=l?0:r.arrowWidth,u=l?0:r.arrowHeight,[h,p]=lC(t),m={start:"0%",center:"50%",end:"100%"}[p],y=(n.arrow?.x??0)+d/2,x=(n.arrow?.y??0)+u/2;let v="",w="";return h==="bottom"?(v=l?m:`${y}px`,w=`${-u}px`):h==="top"?(v=l?m:`${y}px`,w=`${s.floating.height+u}px`):h==="right"?(v=`${-u}px`,w=l?m:`${x}px`):h==="left"&&(v=`${s.floating.width+u}px`,w=l?m:`${x}px`),{data:{x:v,y:w}}}});function lC(r){const[e,t="center"]=r.split("-");return[e,t]}var cC=rC,dC=nC,uC=oC,hC=aC,bP="Portal",W0=b.forwardRef((r,e)=>{const{container:t,...s}=r,[n,o]=b.useState(!1);ur(()=>o(!0),[]);const l=t||n&&globalThis?.document?.body;return l?L2.createPortal(i.jsx(Ze.div,{...s,ref:e}),l):null});W0.displayName=bP;function wP(r,e){return b.useReducer((t,s)=>e[t][s]??t,r)}var Io=r=>{const{present:e,children:t}=r,s=SP(e),n=typeof t=="function"?t({present:s.isPresent}):b.Children.only(t),o=nt(s.ref,CP(n));return typeof t=="function"||s.isPresent?b.cloneElement(n,{ref:o}):null};Io.displayName="Presence";function SP(r){const[e,t]=b.useState(),s=b.useRef(null),n=b.useRef(r),o=b.useRef("none"),l=r?"mounted":"unmounted",[d,u]=wP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const h=Gd(s.current);o.current=d==="mounted"?h:"none"},[d]),ur(()=>{const h=s.current,p=n.current;if(p!==r){const y=o.current,x=Gd(h);r?u("MOUNT"):x==="none"||h?.display==="none"?u("UNMOUNT"):u(p&&y!==x?"ANIMATION_OUT":"UNMOUNT"),n.current=r}},[r,u]),ur(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,m=x=>{const w=Gd(s.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(u("ANIMATION_END"),!n.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},y=x=>{x.target===e&&(o.current=Gd(s.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(h=>{s.current=h?getComputedStyle(h):null,t(h)},[])}}function Gd(r){return r?.animationName||"none"}function CP(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var kP=O2[" useInsertionEffect ".trim().toString()]||ur;function bi({prop:r,defaultProp:e,onChange:t=()=>{},caller:s}){const[n,o,l]=jP({defaultProp:e,onChange:t}),d=r!==void 0,u=d?r:n;{const p=b.useRef(r!==void 0);b.useEffect(()=>{const m=p.current;m!==d&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=b.useCallback(p=>{if(d){const m=NP(p)?p(r):p;m!==r&&l.current?.(m)}else o(p)},[d,r,o,l]);return[u,h]}function jP({defaultProp:r,onChange:e}){const[t,s]=b.useState(r),n=b.useRef(t),o=b.useRef(e);return kP(()=>{o.current=e},[e]),b.useEffect(()=>{n.current!==t&&(o.current?.(t),n.current=t)},[t,n]),[t,s,o]}function NP(r){return typeof r=="function"}var fC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TP="VisuallyHidden",pC=b.forwardRef((r,e)=>i.jsx(Ze.span,{...r,ref:e,style:{...fC,...r.style}}));pC.displayName=TP;var _P=pC,[$h]=bn("Tooltip",[Uh]),Gh=Uh(),mC="TooltipProvider",MP=700,hg="tooltip.open",[EP,H0]=$h(mC),gC=r=>{const{__scopeTooltip:e,delayDuration:t=MP,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:o}=r,l=b.useRef(!0),d=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),i.jsx(EP,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:b.useCallback(h=>{d.current=h},[]),disableHoverableContent:n,children:o})};gC.displayName=mC;var ic="Tooltip",[PP,jc]=$h(ic),yC=r=>{const{__scopeTooltip:e,children:t,open:s,defaultOpen:n,onOpenChange:o,disableHoverableContent:l,delayDuration:d}=r,u=H0(ic,r.__scopeTooltip),h=Gh(e),[p,m]=b.useState(null),y=Pa(),x=b.useRef(0),v=l??u.disableHoverableContent,w=d??u.delayDuration,j=b.useRef(!1),[C,N]=bi({prop:s,defaultProp:n??!1,onChange:M=>{M?(u.onOpen(),document.dispatchEvent(new CustomEvent(hg))):u.onClose(),o?.(M)},caller:ic}),k=b.useMemo(()=>C?j.current?"delayed-open":"instant-open":"closed",[C]),_=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j.current=!1,N(!0)},[N]),P=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,N(!1)},[N]),D=b.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{j.current=!0,N(!0),x.current=0},w)},[w,N]);return b.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),i.jsx(cC,{...h,children:i.jsx(PP,{scope:e,contentId:y,open:C,stateAttribute:k,trigger:p,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{u.isOpenDelayedRef.current?D():_()},[u.isOpenDelayedRef,D,_]),onTriggerLeave:b.useCallback(()=>{v?P():(window.clearTimeout(x.current),x.current=0)},[P,v]),onOpen:_,onClose:P,disableHoverableContent:v,children:t})})};yC.displayName=ic;var fg="TooltipTrigger",xC=b.forwardRef((r,e)=>{const{__scopeTooltip:t,...s}=r,n=jc(fg,t),o=H0(fg,t),l=Gh(t),d=b.useRef(null),u=nt(e,d,n.onTriggerChange),h=b.useRef(!1),p=b.useRef(!1),m=b.useCallback(()=>h.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),i.jsx(dC,{asChild:!0,...l,children:i.jsx(Ze.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:u,onPointerMove:Ye(r.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ye(r.onPointerLeave,()=>{n.onTriggerLeave(),p.current=!1}),onPointerDown:Ye(r.onPointerDown,()=>{n.open&&n.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ye(r.onFocus,()=>{h.current||n.onOpen()}),onBlur:Ye(r.onBlur,n.onClose),onClick:Ye(r.onClick,n.onClose)})})});xC.displayName=fg;var U0="TooltipPortal",[DP,AP]=$h(U0,{forceMount:void 0}),vC=r=>{const{__scopeTooltip:e,forceMount:t,children:s,container:n}=r,o=jc(U0,e);return i.jsx(DP,{scope:e,forceMount:t,children:i.jsx(Io,{present:t||o.open,children:i.jsx(W0,{asChild:!0,container:n,children:s})})})};vC.displayName=U0;var Sa="TooltipContent",bC=b.forwardRef((r,e)=>{const t=AP(Sa,r.__scopeTooltip),{forceMount:s=t.forceMount,side:n="top",...o}=r,l=jc(Sa,r.__scopeTooltip);return i.jsx(Io,{present:s||l.open,children:l.disableHoverableContent?i.jsx(wC,{side:n,...o,ref:e}):i.jsx(RP,{side:n,...o,ref:e})})}),RP=b.forwardRef((r,e)=>{const t=jc(Sa,r.__scopeTooltip),s=H0(Sa,r.__scopeTooltip),n=b.useRef(null),o=nt(e,n),[l,d]=b.useState(null),{trigger:u,onClose:h}=t,p=n.current,{onPointerInTransitChange:m}=s,y=b.useCallback(()=>{d(null),m(!1)},[m]),x=b.useCallback((v,w)=>{const j=v.currentTarget,C={x:v.clientX,y:v.clientY},N=zP(C,j.getBoundingClientRect()),k=IP(C,N),_=BP(w.getBoundingClientRect()),P=WP([...k,..._]);d(P),m(!0)},[m]);return b.useEffect(()=>()=>y(),[y]),b.useEffect(()=>{if(u&&p){const v=j=>x(j,p),w=j=>x(j,u);return u.addEventListener("pointerleave",v),p.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",v),p.removeEventListener("pointerleave",w)}}},[u,p,x,y]),b.useEffect(()=>{if(l){const v=w=>{const j=w.target,C={x:w.clientX,y:w.clientY},N=u?.contains(j)||p?.contains(j),k=!VP(C,l);N?y():k&&(y(),h())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[u,p,l,h,y]),i.jsx(wC,{...r,ref:o})}),[OP,FP]=$h(ic,{isInside:!1}),LP=B5("TooltipContent"),wC=b.forwardRef((r,e)=>{const{__scopeTooltip:t,children:s,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:l,...d}=r,u=jc(Sa,t),h=Gh(t),{onClose:p}=u;return b.useEffect(()=>(document.addEventListener(hg,p),()=>document.removeEventListener(hg,p)),[p]),b.useEffect(()=>{if(u.trigger){const m=y=>{y.target?.contains(u.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,p]),i.jsx(D0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:i.jsxs(uC,{"data-state":u.stateAttribute,...h,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(LP,{children:s}),i.jsx(OP,{scope:t,isInside:!0,children:i.jsx(_P,{id:u.contentId,role:"tooltip",children:n||s})})]})})});bC.displayName=Sa;var SC="TooltipArrow",CC=b.forwardRef((r,e)=>{const{__scopeTooltip:t,...s}=r,n=Gh(t);return FP(SC,t).isInside?null:i.jsx(hC,{...n,...s,ref:e})});CC.displayName=SC;function zP(r,e){const t=Math.abs(e.top-r.y),s=Math.abs(e.bottom-r.y),n=Math.abs(e.right-r.x),o=Math.abs(e.left-r.x);switch(Math.min(t,s,n,o)){case o:return"left";case n:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function IP(r,e,t=5){const s=[];switch(e){case"top":s.push({x:r.x-t,y:r.y+t},{x:r.x+t,y:r.y+t});break;case"bottom":s.push({x:r.x-t,y:r.y-t},{x:r.x+t,y:r.y-t});break;case"left":s.push({x:r.x+t,y:r.y-t},{x:r.x+t,y:r.y+t});break;case"right":s.push({x:r.x-t,y:r.y-t},{x:r.x-t,y:r.y+t});break}return s}function BP(r){const{top:e,right:t,bottom:s,left:n}=r;return[{x:n,y:e},{x:t,y:e},{x:t,y:s},{x:n,y:s}]}function VP(r,e){const{x:t,y:s}=r;let n=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const d=e[o],u=e[l],h=d.x,p=d.y,m=u.x,y=u.y;p>s!=y>s&&t<(m-h)*(s-p)/(y-p)+h&&(n=!n)}return n}function WP(r){const e=r.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),HP(e)}function HP(r){if(r.length<=1)return r.slice();const e=[];for(let s=0;s<r.length;s++){const n=r[s];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(n.y-l.y)>=(o.y-l.y)*(n.x-l.x))e.pop();else break}e.push(n)}e.pop();const t=[];for(let s=r.length-1;s>=0;s--){const n=r[s];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(n.y-l.y)>=(o.y-l.y)*(n.x-l.x))t.pop();else break}t.push(n)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var UP=gC,$P=yC,GP=xC,YP=vC,XP=bC,KP=CC;function kC(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(e=0;e<n;e++)r[e]&&(t=kC(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function jC(){for(var r,e,t=0,s="",n=arguments.length;t<n;t++)(r=arguments[t])&&(e=kC(r))&&(s&&(s+=" "),s+=e);return s}const $0="-",qP=r=>{const e=JP(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:l=>{const d=l.split($0);return d[0]===""&&d.length!==1&&d.shift(),NC(d,e)||ZP(l)},getConflictingClassGroupIds:(l,d)=>{const u=t[l]||[];return d&&s[l]?[...u,...s[l]]:u}}},NC=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),n=s?NC(r.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const o=r.join($0);return e.validators.find(({validator:l})=>l(o))?.classGroupId},hw=/^\[(.+)\]$/,ZP=r=>{if(hw.test(r)){const e=hw.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},JP=r=>{const{theme:e,classGroups:t}=r,s={nextPart:new Map,validators:[]};for(const n in t)pg(t[n],s,n,e);return s},pg=(r,e,t,s)=>{r.forEach(n=>{if(typeof n=="string"){const o=n===""?e:fw(e,n);o.classGroupId=t;return}if(typeof n=="function"){if(QP(n)){pg(n(s),e,t,s);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([o,l])=>{pg(l,fw(e,o),t,s)})})},fw=(r,e)=>{let t=r;return e.split($0).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},QP=r=>r.isThemeGetter,e4=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const n=(o,l)=>{t.set(o,l),e++,e>r&&(e=0,s=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return n(o,l),l},set(o,l){t.has(o)?t.set(o,l):n(o,l)}}},mg="!",gg=":",t4=gg.length,r4=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=n=>{const o=[];let l=0,d=0,u=0,h;for(let v=0;v<n.length;v++){let w=n[v];if(l===0&&d===0){if(w===gg){o.push(n.slice(u,v)),u=v+t4;continue}if(w==="/"){h=v;continue}}w==="["?l++:w==="]"?l--:w==="("?d++:w===")"&&d--}const p=o.length===0?n:n.substring(u),m=s4(p),y=m!==p,x=h&&h>u?h-u:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:x}};if(e){const n=e+gg,o=s;s=l=>l.startsWith(n)?o(l.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const n=s;s=o=>t({className:o,parseClassName:n})}return s},s4=r=>r.endsWith(mg)?r.substring(0,r.length-1):r.startsWith(mg)?r.substring(1):r,n4=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const n=[];let o=[];return s.forEach(l=>{l[0]==="["||e[l]?(n.push(...o.sort(),l),o=[]):o.push(l)}),n.push(...o.sort()),n}},o4=r=>({cache:e4(r.cacheSize),parseClassName:r4(r),sortModifiers:n4(r),...qP(r)}),i4=/\s+/,a4=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:n,sortModifiers:o}=e,l=[],d=r.trim().split(i4);let u="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:m,modifiers:y,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:w}=t(p);if(m){u=p+(u.length>0?" "+u:u);continue}let j=!!w,C=s(j?v.substring(0,w):v);if(!C){if(!j){u=p+(u.length>0?" "+u:u);continue}if(C=s(v),!C){u=p+(u.length>0?" "+u:u);continue}j=!1}const N=o(y).join(":"),k=x?N+mg:N,_=k+C;if(l.includes(_))continue;l.push(_);const P=n(C,j);for(let D=0;D<P.length;++D){const M=P[D];l.push(k+M)}u=p+(u.length>0?" "+u:u)}return u};function l4(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=TC(e))&&(s&&(s+=" "),s+=t);return s}const TC=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=TC(r[s]))&&(t&&(t+=" "),t+=e);return t};function c4(r,...e){let t,s,n,o=l;function l(u){const h=e.reduce((p,m)=>m(p),r());return t=o4(h),s=t.cache.get,n=t.cache.set,o=d,d(u)}function d(u){const h=s(u);if(h)return h;const p=a4(u,t);return n(u,p),p}return function(){return o(l4.apply(null,arguments))}}const Jt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},_C=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,MC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,d4=/^\d+\/\d+$/,u4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,p4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xi=r=>d4.test(r),et=r=>!!r&&!Number.isNaN(Number(r)),bo=r=>!!r&&Number.isInteger(Number(r)),mm=r=>r.endsWith("%")&&et(r.slice(0,-1)),An=r=>u4.test(r),g4=()=>!0,y4=r=>h4.test(r)&&!f4.test(r),EC=()=>!1,x4=r=>p4.test(r),v4=r=>m4.test(r),b4=r=>!Le(r)&&!ze(r),w4=r=>Ra(r,AC,EC),Le=r=>_C.test(r),oi=r=>Ra(r,RC,y4),gm=r=>Ra(r,N4,et),pw=r=>Ra(r,PC,EC),S4=r=>Ra(r,DC,v4),Yd=r=>Ra(r,OC,x4),ze=r=>MC.test(r),Dl=r=>Oa(r,RC),C4=r=>Oa(r,T4),mw=r=>Oa(r,PC),k4=r=>Oa(r,AC),j4=r=>Oa(r,DC),Xd=r=>Oa(r,OC,!0),Ra=(r,e,t)=>{const s=_C.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},Oa=(r,e,t=!1)=>{const s=MC.exec(r);return s?s[1]?e(s[1]):t:!1},PC=r=>r==="position"||r==="percentage",DC=r=>r==="image"||r==="url",AC=r=>r==="length"||r==="size"||r==="bg-size",RC=r=>r==="length",N4=r=>r==="number",T4=r=>r==="family-name",OC=r=>r==="shadow",_4=()=>{const r=Jt("color"),e=Jt("font"),t=Jt("text"),s=Jt("font-weight"),n=Jt("tracking"),o=Jt("leading"),l=Jt("breakpoint"),d=Jt("container"),u=Jt("spacing"),h=Jt("radius"),p=Jt("shadow"),m=Jt("inset-shadow"),y=Jt("text-shadow"),x=Jt("drop-shadow"),v=Jt("blur"),w=Jt("perspective"),j=Jt("aspect"),C=Jt("ease"),N=Jt("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[..._(),ze,Le],D=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],E=()=>[ze,Le,u],R=()=>[Xi,"full","auto",...E()],O=()=>[bo,"none","subgrid",ze,Le],B=()=>["auto",{span:["full",bo,ze,Le]},bo,ze,Le],L=()=>[bo,"auto",ze,Le],$=()=>["auto","min","max","fr",ze,Le],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...E()],X=()=>[Xi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],F=()=>[r,ze,Le],ee=()=>[..._(),mw,pw,{position:[ze,Le]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",k4,w4,{size:[ze,Le]}],Z=()=>[mm,Dl,oi],q=()=>["","none","full",h,ze,Le],oe=()=>["",et,Dl,oi],he=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[et,mm,mw,pw],Q=()=>["","none",v,ze,Le],de=()=>["none",et,ze,Le],me=()=>["none",et,ze,Le],_e=()=>[et,ze,Le],Ve=()=>[Xi,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[An],breakpoint:[An],color:[g4],container:[An],"drop-shadow":[An],ease:["in","out","in-out"],font:[b4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[An],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[An],shadow:[An],spacing:["px",et],text:[An],"text-shadow":[An],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xi,Le,ze,j]}],container:["container"],columns:[{columns:[et,Le,ze,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[bo,"auto",ze,Le]}],basis:[{basis:[Xi,"full","auto",d,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Xi,"auto","initial","none",Le]}],grow:[{grow:["",et,ze,Le]}],shrink:[{shrink:["",et,ze,Le]}],order:[{order:[bo,"first","last","none",ze,Le]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[d,"screen",...X()]}],"min-w":[{"min-w":[d,"screen","none",...X()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",t,Dl,oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ze,gm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mm,Le]}],"font-family":[{font:[C4,Le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,ze,Le]}],"line-clamp":[{"line-clamp":[et,"none",ze,gm]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",ze,Le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ze,Le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",ze,oi]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[et,"auto",ze,Le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze,Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze,Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bo,ze,Le],radial:["",ze,Le],conic:[bo,ze,Le]},j4,S4]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,ze,Le]}],"outline-w":[{outline:["",et,Dl,oi]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",p,Xd,Yd]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",m,Xd,Yd]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[et,oi]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",y,Xd,Yd]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[et,ze,Le]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[ze,Le]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ze,Le]}],filter:[{filter:["","none",ze,Le]}],blur:[{blur:Q()}],brightness:[{brightness:[et,ze,Le]}],contrast:[{contrast:[et,ze,Le]}],"drop-shadow":[{"drop-shadow":["","none",x,Xd,Yd]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",et,ze,Le]}],"hue-rotate":[{"hue-rotate":[et,ze,Le]}],invert:[{invert:["",et,ze,Le]}],saturate:[{saturate:[et,ze,Le]}],sepia:[{sepia:["",et,ze,Le]}],"backdrop-filter":[{"backdrop-filter":["","none",ze,Le]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[et,ze,Le]}],"backdrop-contrast":[{"backdrop-contrast":[et,ze,Le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,ze,Le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,ze,Le]}],"backdrop-invert":[{"backdrop-invert":["",et,ze,Le]}],"backdrop-opacity":[{"backdrop-opacity":[et,ze,Le]}],"backdrop-saturate":[{"backdrop-saturate":[et,ze,Le]}],"backdrop-sepia":[{"backdrop-sepia":["",et,ze,Le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ze,Le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",ze,Le]}],ease:[{ease:["linear","initial",C,ze,Le]}],delay:[{delay:[et,ze,Le]}],animate:[{animate:["none",N,ze,Le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ze,Le]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[ze,Le,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze,Le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze,Le]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[et,Dl,oi,gm]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},M4=c4(_4);function Pt(...r){return M4(jC(r))}function ws({delayDuration:r=0,...e}){return i.jsx(UP,{"data-slot":"tooltip-provider",delayDuration:r,...e})}function Mt({...r}){return i.jsx(ws,{children:i.jsx($P,{"data-slot":"tooltip",...r})})}const wt=b.forwardRef((r,e)=>i.jsx(GP,{ref:e,"data-slot":"tooltip-trigger",...r}));wt.displayName="TooltipTrigger";const St=b.forwardRef(({className:r,sideOffset:e=0,children:t,...s},n)=>i.jsx(YP,{children:i.jsxs(XP,{ref:n,"data-slot":"tooltip-content",sideOffset:e,className:Pt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),...s,children:[t,i.jsx(KP,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})}));St.displayName="TooltipContent";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),gw=r=>{const e=P4(r);return e.charAt(0).toUpperCase()+e.slice(1)},FC=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=b.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:n="",children:o,iconNode:l,...d},u)=>b.createElement("svg",{ref:u,...D4,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:FC("lucide",n),...d},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(r,e)=>{const t=b.forwardRef(({className:s,...n},o)=>b.createElement(A4,{ref:o,iconNode:e,className:FC(`lucide-${E4(gw(r))}`,`lucide-${r}`,s),...n}));return t.displayName=gw(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],O4=Ce("archive",R4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nc=Ce("arrow-left",F4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],z4=Ce("award",L4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ch=Ce("bell",I4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Yh=Ce("book-open",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],yg=Ce("bot",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]],yw=Ce("brush",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],U4=Ce("calculator",H4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LC=Ce("calendar",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Y4=Ce("chart-no-axes-column-increasing",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],K4=Ce("check",X4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],G0=Ce("chevron-down",q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],J4=Ce("chevron-left",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eD=Ce("chevron-right",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rD=Ce("chevron-up",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nD=Ce("circle-check-big",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dh=Ce("circle",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ca=Ce("clock",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],uh=Ce("coins",aD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],On=Ce("copy",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hh=Ce("crown",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],uD=Ce("dice-6",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Js=Ce("droplets",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ac=Ce("ellipsis",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mD=Ce("eye-off",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ka=Ce("eye",gD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yl=Ce("file-text",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Y0=Ce("folder-open",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],zC=Ce("folder-plus",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wD=Ce("funnel",bD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]],IC=Ce("gavel",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],kD=Ce("gem",CD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ND=Ce("gift",jD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_D=Ce("globe",TD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ED=Ce("grid-3x3",MD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z",key:"1u8q3z"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor",key:"16onso"}]],DD=Ce("guitar",PD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],X0=Ce("hash",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Eo=Ce("heart",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],FD=Ce("highlighter",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zD=Ce("house",LD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ki=Ce("layers",ID);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],xw=Ce("link-2",BD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],WD=Ce("list",VD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],UD=Ce("lock",HD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],GD=Ce("mail",$D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],XD=Ce("maximize-2",YD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],qD=Ce("medal",KD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],JD=Ce("megaphone",ZD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Sr=Ce("message-circle",QD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],t3=Ce("message-square",e3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],xg=Ce("mic",r3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Tc=Ce("minimize-2",s3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M5 12h14",key:"1ays0h"}]],Hl=Ce("minus",n3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],fh=Ce("move",o3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],BC=Ce("music-2",i3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ja=Ce("music",a3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],c3=Ce("package",l3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],ys=Ce("palette",d3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],h3=Ce("panels-top-left",u3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],VC=Ce("paperclip",f3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Xh=Ce("pause",p3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vg=Ce("pen",m3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]],y3=Ce("piano",g3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],_c=Ce("play",x3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wi=Ce("plus",v3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],w3=Ce("radio",b3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],vw=Ce("redo",S3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ci=Ce("rotate-ccw",C3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yn=Ce("search",k3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mc=Ce("send",j3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],na=Ce("settings",N3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],WC=Ce("share",T3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],M3=Ce("shield",_3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],bg=Ce("shopping-bag",E3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],HC=Ce("shopping-cart",P3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],bw=Ce("sliders-vertical",D3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],UC=Ce("smile",A3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Jr=Ce("sparkles",R3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],xr=Ce("square",O3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rt=Ce("star",F3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4",key:"36rjfy"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]],z3=Ce("sticker",L3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ms=Ce("target",I3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],$C=Ce("timer",B3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lc=Ce("trash-2",V3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],wg=Ce("trending-up",W3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],ww=Ce("triangle",H3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Fa=Ce("trophy",U3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Sg=Ce("type",$3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Sw=Ce("undo",G3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Cg=Ce("upload",Y3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kg=Ce("user-plus",X3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],q3=Ce("user",K3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ss=Ce("users",Z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],GC=Ce("volume-2",J3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],eA=Ce("volume-x",Q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kr=Ce("x",tA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fn=Ce("zap",rA),Cw=["DJ","Lil","Big","MC","Grandpa","Auntie","Sir","Lord","Dumpster","Hotdog","Yeet","Moist","Turbo","Mega","Crispy","Wubby","Thicc","Clout","Baby","Chonk","Dank","Booty","Trash","Farty","Gravy","Beefy","Piss","Shrek","Crab","Daddy","Mommy","Only","Uncle","Aunt","Senator","Baby","Couch","Crypto","DumpsterFire","Mega","Captain","Broke","JuiceBox","Grandpa","Chairman","Liquid","Overlord","Pastor","DeepFried","Quantum","Budget","Nurse","Judge","Detective","Sheriff","Burger","Pizza","Spicy","Rusty","Greasy","Cursed","Sticky","Chunky","Slimy","Chad","Karen","Broccoli","Cabbage","Pickle","Onion","Mayo","Ketchup","Toothless","Grandwizard","Space","Void","Cosmic","Taco","Pancake","Waffle","Biscuit","Lobster","Crab","Clam","DumpsterFire","TrailerPark","Sewer","Yeet","Thicc","Rotten","Soggy","Cheapskate","RentFree","CouchSurfer","NPC","Bald","Hairline","Glizzy","Feral","Rabid","Horny","Zucc"],kw=["Wizard","Guppy","TunaCan","69","420","RimJobs","XxX","Meatspin","McSlap","Dumpster","FeetPics","Goblin","Daddy","Mommy","Fupa","Panda","Clamslam","Chugger","ThighGap","Slamwich","TheThirdLeg","Gobstopper","PogLord","GravyTrain","McNugget","4Prez","Inator","Factory","Eater","Lover","Simulator","Maxxing","Gremlin","Deluxe","Gobstopper","Enthusiast","Enjoyer","Destroyer","Inventor","Palooza","Mania","Afficionado","Collector","420","69","666","9000","Overlord","McNugget","Jr","Sr","the3rd","XD","UwU","OwO","Chan","Kun","Senpai","Thug","Killer","Boy","Girl","Man","Woman","Daddy","Mommy","Goblin","Gremlin","Demon","Angel","Bot","AI",".exe","Virus","Error","Broken","VHS","Tape","Soup","Snack","Meal","Burger","FeetPics","Only","Deluxe","Lite","Plus","Max","Ultra","Pro"],ts=["PixelSmith","VerseWriter","CodeCrafter","SynthMaster","NovaMuse","ArtisanAva","EchoKnox","ProtoPunk","GlyphGuru","CollabCat","BugHunter","SnapSage","DevDruid","GameGarden","PhotoPhantom","BrushBloom","ZineZebra","LoomLark","ByteBarista","PaperPirate","RetroRanger","PolyPanda","CloudCarver","LoopLord","ShaderFox","BeatBuddy","MemeDealer","InkWizard","VectorVoid","DigitalDove","CraftyCrow","AudioArk","VisualViper","StoryStorm","FontForge","ColorCrash","LayerLion","FrameFox","MotionMuse","SoundSage","DesignDragon","ArtAtlas","CreativeCub","MakerMoon","BuilderBee","PaintPaw","SketchSky","DoodleDuck","RenderRaven","ModernMoth","TechTiger","CraftCat","MixMagic","EditElf","FilterFish","EffectEagle","StudioStag","WorkspaceWolf","CanvasChief","PalettePanda","BrushBear","PenPenguin","ToolTurtle","AppApe","BeanCoinInvestor","Shrekonomics","SadBoyEnergy","HotSauceWizard","DankMoth","BuggedOutGoose","urmomsfinancialadvisor","BeatHarderThnMyMeat","thisguyfuqs","YeetMachine9000","socool","SmokingBigDoinks","steverimjobs","ShrekOnXans","PostNutClarity","JpegWarrior","StankSock","McNutt","Tenderloin69","DumpsterDuck","BetaMaleGod","JuulCough","OnlyFrogs","DownBadWizard","ChairSniffer","iLickBatteries","HighCollegeDropout","SkibidiInMe","CertifiedStepBro","Error420Blaze","RawDoggedByLife","GoatedWithTheSauce","HotSingleInUrArea","UncleSpork","VapeChrist","ZuccDaddy","Tom","DumpsterDaddy","LigmaSurvivor","BananaLord","ShrimpOnRoids","ToasterBath","CrotchGoblin","ThugPug","LeanMachine","TurboYEET","Stan","Shartacus","SniffingPens","DustOFF","BenadrylNightmare","InfiniteShrimp","SandyClappedCheeks","LordFarquaadsPlug","ShrekTheThirdLeg","YeetussDeletuss","Backshots4Jesus","HititrawnCode","GravyTrain","GooseOnTheLoose","VibeGoblin","ThiccerThanSnickers","BigMacWithNoDrip","ChugJugMommy","ChugJugDaddy","ObamaPrism","TwoPumpKing","SoggyDorito","LimpBis","BeatEnderDragonNaked","ChairSmash","SigmaGrindsetNPC","BoofedMyHomework","SpicyTendies","BeefCurtain","MilkToast","ChewbaccaOnCrack","ClitYeastWood","BetaFishAlphaMale","GlizzyGoblin","NPCOverlord","ManletMage","NutellaWaterfall","RanchMommy","NightstandLotion","UwUOnMyTaxes","ShlongMcDong","DiscordKitten","SnorlaxInsulin","BillSpanks","BreadstickBandit","CrustSocks","PPPooper","HotdogWater","REEEEEE","IwriteStuff","TwilightRacoonFanFic","SendMeStickers","AnimeThighTax","TunaCan","LoafOfGod","MeatOnTheBeat","DrakesMiddleSchooler","ReleaseTheFiles","OnTheFlightList","KickstartMyFart","GoobyGirl","LeftHandStranger","Doodler","GigaRat","CLAMSLAM","GirthQuake","StepSis","UwUNextTuesday","HotCheetoFingers","OnlyToes","BratzDollFromHell","ThighsOfFury","FeralHelloKitty","SussyCoder","ToxicLipGloss","AnimeMILF","SkrrtSkirt","PastelDumpster","SadBaddie","YeetAndDelete","MoistMermaid","ThiccPixie","GothGF","RunescapeGF","MemeFurnace","Sk8erboi","Twerkules","SoggyPanties","MenaceInMascara","SadGirlVibes","UwuGothGF","ChungusKitten","SnaccGremlin","Zoomies","PeachBandit","QuantumToad","LinkInBio","KittenWithAnAK","BabyBatBitch","SimpStress","CumLaudeDropout","FartBarbie","StepSisWithWifi","SpicySobbing","CockroachCutie","VapeInMyBra","DumpSterKitten","RatchetRapunzel","HoeOnMain","CherryGlock","BananaHoe","HelloClitty","PissBaby","AstroSlut","HotGirlAnxiety","DonttalkToMe","Crippling","IHaveMesothelioma","InfiniteRest","DiscordMOD","PutTheMemesINTHEBAG","TellmeULoveMe","ThighGap","Simp","OnlyGups","LilFishy","TinyTordus","lilbirb","RatPack","TrashPanda","FeralRaccoon","PantryRAT","StealurDad","YouWouldnt","DoItForTheVine","OneOfUsNeeds2Change","IThotWeWereFriends","LifeSavings2CURFeet","Whateven","DoA360","CoughingupVapeJuice","Slime","FapGod","toebane","cursedchair","hotdogwizard","sleepy_goth","glizzygremlin","frogfella","notyourdad","spicyshrimp","yeetwizard","grandmacloud","tax_evasion_420","milkymayo","skibidi_worm","shrekdaddy","breadlord","beatharderthanmymeat","clown_boi","bananaking","toecollector","pixel_goblin","sadworm","eggdealer","mothmom","dumpsterdiva","basicblorbos","bonkpolice","memepriest","susygoblin","flavortown","wifiskeleton","data_lord","chaoschild"];function jg(){const r=Cw[Math.floor(Math.random()*Cw.length)],e=kw[Math.floor(Math.random()*kw.length)];return`${r}${e}`}function Ng(){return ts[Math.floor(Math.random()*ts.length)]}const jw=["First Drop","Community Helper","Beat Master","Collaboration King","Sticker Collector","Legendary Trader","Stream Master","Challenge Champion","Creative Genius","Rising Star","Meme Lord","Pixel Pioneer","Sound Wizard","Remix King","Chat Moderator","Golden Supporter","Hall of Fame","Trendsetter","Innovation Award","Community MVP","Beat Battle Winner","Sample Flip Champion","Lo-Fi Legend","Trap Master","Synthwave Guru","Collab Master","Freestyle Flow","Genre Bender","One-Shot Wonder","Vintage Vibes Expert","Future Funk Pioneer","Emotional Landscape","Rhythm Roulette Winner","Melody Madness","Bass Face Champion","Minimalist Monday","Maximal Thursday","Weird Wednesday","Smooth Saturday","Experimental Hour","Speed Producer","Hardware Hero","Mobile Music Maker","Nostalgic November","Dreamy December"],sA=["Sticker","Card","Badge","Pin","Token","Coin","Gem","Crystal","Artifact","Relic"],nA=["Common","Uncommon","Rare","Epic","Legendary","Mythic","Cursed","Blessed","Ancient","Divine"],oA=[{id:"megaphone-101",message:"yo it’s eggdealer – new sticker pack just dropped go cop it before i cry 😭",active:!0,scope:"global",priority:1},{id:"megaphone-102",message:"SynthMaster here, im live rn cookin up some cursed 808s 🔊 come thru",active:!0,scope:"global",priority:2},{id:"megaphone-103",message:"MemeDealer: stop asking for free packs u broke goblins 😂 buy my clamslam card",active:!0,scope:"global",priority:3},{id:"megaphone-104",message:"BrushBloom megaphone check – new art, same brainrot 🌸",active:!0,scope:"global",priority:4},{id:"megaphone-105",message:"DumpsterDaddy here, just vibin, pls collect my “toilet fire” legendary 💩🔥",active:!0,scope:"global",priority:5},{id:"megaphone-106",message:"HotSauceWizard: just spilled cholula on my midi keyboard send help (or likes)",active:!0,scope:"global",priority:6},{id:"megaphone-107",message:"urmomsfinancialadvisor says BUY LOW SELL HIGH …also buy my stickers 🤡",active:!0,scope:"global",priority:7},{id:"megaphone-108",message:"ShrekTheThirdLeg – i only make ogre beats. deal with it 🟢👹",active:!0,scope:"global",priority:8},{id:"megaphone-109",message:"Tenderloin69: yall asleep on my collab track… wake tf up 😤",active:!0,scope:"global",priority:9},{id:"megaphone-110",message:"LoafOfGod megaphone moment: breadcore is REAL 🍞🔥",active:!0,scope:"global",priority:10},{id:"megaphone-111",message:"SkibidiInMe: bro i minted a skibidi sticker and it already sold out 💀",active:!0,scope:"global",priority:11},{id:"megaphone-112",message:"BuggedOutGoose honk honk mfers 🪿 stream my weird jazz beat",active:!0,scope:"global",priority:12},{id:"megaphone-113",message:"BeefCurtain here… name aside, my track kinda slaps 💯",active:!0,scope:"global",priority:13},{id:"megaphone-114",message:"VerseWriter just vibin in the hub. also pls like my post so i feel something",active:!0,scope:"global",priority:14},{id:"megaphone-115",message:"JpegWarrior: i turned my harddrive crash into a sticker. art is pain lol",active:!0,scope:"global",priority:15},{id:"megaphone-201",message:"DumpsterDaddy: who tf stole my leftover burrito sticker 🌯🤬",active:!0,scope:"global",priority:1},{id:"megaphone-202",message:"ChairSmash: just broke my ikea chair live on stream 💀",active:!0,scope:"global",priority:2},{id:"megaphone-203",message:"LoafOfGod: bread cult applications are open again 🍞✝️",active:!0,scope:"global",priority:3},{id:"megaphone-204",message:"BillSpanks: new card drop — its literally just my tax return",active:!0,scope:"global",priority:4},{id:"megaphone-205",message:"CLAMSLAM: stop asking if i eat raw clams yes i do 🦪",active:!0,scope:"global",priority:5},{id:"megaphone-206",message:"McNutt: petition to add more raccoon emotes 🦝",active:!0,scope:"global",priority:6},{id:"megaphone-207",message:"FeralRaccoon: caught me in ur dumpster AGAIN 🗑️",active:!0,scope:"global",priority:7},{id:"megaphone-208",message:"HotSauceWizard: my lips are still burning from that “challenge” 🌶️🧙‍♂️",active:!0,scope:"global",priority:8},{id:"megaphone-209",message:"GooseOnTheLoose: if u see me in chat honk back pls 🦢",active:!0,scope:"global",priority:9},{id:"megaphone-210",message:"Tenderloin69: dropped my steak sticker and it sold out?? 🥩",active:!0,scope:"global",priority:10},{id:"megaphone-211",message:"BenadrylNightmare: i saw 3 megaphones at once help",active:!0,scope:"global",priority:11},{id:"megaphone-212",message:"ObamaPrism: not obama… just a shape 🌈",active:!0,scope:"global",priority:12},{id:"megaphone-213",message:"ToasterBath: yall ever smell burnt wifi?",active:!0,scope:"global",priority:13},{id:"megaphone-214",message:"Shrekonomics: im taking over wall street with onions 🧅📈",active:!0,scope:"global",priority:14},{id:"megaphone-215",message:"UwUOnMyTaxes: IRS pls stop dming me",active:!0,scope:"global",priority:15},{id:"megaphone-216",message:"StankSock: free smell with every card 💨🧦",active:!0,scope:"global",priority:16},{id:"megaphone-217",message:"TrashPanda: found ur NFT in the garbage 🚮",active:!0,scope:"global",priority:17},{id:"megaphone-218",message:"ShlongMcDong: yall childish stop laughing at my name 😤",active:!0,scope:"global",priority:18},{id:"megaphone-219",message:"QuantumToad: i may be small but im everywhere at once 🐸",active:!0,scope:"global",priority:19},{id:"megaphone-220",message:"Backshots4Jesus: pls stop tagging me in church chat",active:!0,scope:"global",priority:20},{id:"megaphone-221",message:"CrotchGoblin: stop reporting my goblin stickers theyre family friendly 😤",active:!0,scope:"global",priority:1},{id:"megaphone-222",message:"SnaccGremlin: traded my lunchable for a rare card worth it tbh",active:!0,scope:"global",priority:2},{id:"megaphone-223",message:"YeetMachine9000: just launched my microwave across the street 🚀",active:!0,scope:"global",priority:3},{id:"megaphone-224",message:"HotSingleInUrArea: why does nobody ever click my link 💔",active:!0,scope:"global",priority:4},{id:"megaphone-225",message:"DumpsterDuck: quack if u live in the trash too 🦆🗑️",active:!0,scope:"global",priority:5},{id:"megaphone-226",message:"LigmaSurvivor: my doctor said its terminal but i said ligma what",active:!0,scope:"global",priority:6},{id:"megaphone-227",message:"BananaLord: slipped on my own merch 🍌",active:!0,scope:"global",priority:7},{id:"megaphone-228",message:"SandyClappedCheeks: just got banned from the beach again 🏖️",active:!0,scope:"global",priority:8},{id:"megaphone-229",message:"Error420Blaze: system crashed after too many dabs 💨",active:!0,scope:"global",priority:9},{id:"megaphone-230",message:"StepSisWithWifi: help im stuck buffering 😳",active:!0,scope:"global",priority:10},{id:"megaphone-231",message:"GoatedWithTheSauce: spilt the sauce all over my keyboard send help",active:!0,scope:"global",priority:11},{id:"megaphone-232",message:"MoistMermaid: why yall calling me soggy 🧜‍♀️",active:!0,scope:"global",priority:12},{id:"megaphone-233",message:"Shartacus: today i fought my toilet and lost",active:!0,scope:"global",priority:13},{id:"megaphone-234",message:"SpicyTendies: new sticker smells like buffalo sauce ngl",active:!0,scope:"global",priority:14},{id:"megaphone-235",message:"UwUNextTuesday: stop pinging me in serious channels pls 🥺👉👈",active:!0,scope:"global",priority:15},{id:"megaphone-236",message:"McNutt: someone stole my nut stash 💥🥜",active:!0,scope:"global",priority:16},{id:"megaphone-237",message:"CockroachCutie: crawled under ur bed for free rent 🪳",active:!0,scope:"global",priority:17},{id:"megaphone-238",message:"NightstandLotion: my last drop dried up too fast 💦",active:!0,scope:"global",priority:18},{id:"megaphone-239",message:"Twerkules: broke my back on cam again 💃",active:!0,scope:"global",priority:19},{id:"megaphone-240",message:"PissBaby: stop downvoting me i cant help my brand",active:!0,scope:"global",priority:20},{id:"megaphone-241",message:"DumpsterDaddy: @ShrekOnXans stop stealing my sticker ideas bro 💀",active:!0,scope:"global",priority:1},{id:"megaphone-242",message:"SnorlaxInsulin: @JuulCough you owe me 2 burritos from last night 🌯",active:!0,scope:"global",priority:2},{id:"megaphone-243",message:"CLAMSLAM: collab dropping soon w/ @UwUNextTuesday stay tuned 👀",active:!0,scope:"global",priority:3},{id:"megaphone-244",message:"PixelGoblin: @TrashPanda quit DMing me raccoon memes 😂",active:!0,scope:"global",priority:4},{id:"megaphone-245",message:"ShrimpOnRoids: @BananaLord stop flexing ur potassium 💪🍌",active:!0,scope:"global",priority:5},{id:"megaphone-246",message:"GothGF: @SadBoyEnergy ur poetry made me cry in walmart again",active:!0,scope:"global",priority:6},{id:"megaphone-247",message:"LordFarquaadsPlug: trading w/ @GoatedWithTheSauce hit me up rn 🔥",active:!0,scope:"global",priority:7},{id:"megaphone-248",message:"ChairSniffer: @StepSisWithWifi i found ur chair 😳",active:!0,scope:"global",priority:8},{id:"megaphone-249",message:"ObamaPrism: @SigmaGrindsetNPC ur grindset is mid ngl",active:!0,scope:"global",priority:9},{id:"megaphone-250",message:"ZuccDaddy: @DiscordKitten log out of my account rn 🙃",active:!0,scope:"global",priority:10},{id:"megaphone-251",message:"KickstartMyFart: @HotSauceWizard sponsor me already 🔥💨",active:!0,scope:"global",priority:11},{id:"megaphone-252",message:"BeefCurtain: @StankSock duel me in the comments coward",active:!0,scope:"global",priority:12},{id:"megaphone-253",message:"TrashPanda: @DumpsterDuck let’s collab on the trash pack 🗑️",active:!0,scope:"global",priority:13},{id:"megaphone-254",message:"JuulCough: @BeatHarderThnMyMeat ur username still wild as hell 💀",active:!0,scope:"global",priority:14},{id:"megaphone-255",message:"RanchMommy: @HotCheetoFingers stop leaving stains on my posts",active:!0,scope:"global",priority:15},{id:"megaphone-256",message:"MemeDealer: shoutout to @Tom for buying 10 cursed packs in 1 day 🤑",active:!0,scope:"global",priority:16},{id:"megaphone-257",message:"GoobyGirl: @GigaRat ur profile pic gave me nightmares 😭",active:!0,scope:"global",priority:17},{id:"megaphone-258",message:"LoafOfGod: @BreadstickBandit we gotta form a carb gang 🍞",active:!0,scope:"global",priority:18},{id:"megaphone-259",message:"BenadrylNightmare: @FeralRaccoon i saw u in my dreams last night 👀",active:!0,scope:"global",priority:19},{id:"megaphone-260",message:"RawDoggedByLife: @ChairSmash lets start a support group 😩",active:!0,scope:"global",priority:20}],ph=["fire","sick","clean","crisp","smooth","raw","heavy","light","dreamy","atmospheric","bouncy","groovy","funky","soulful","emotional","powerful","delicate","intricate","complex","simple","pure","organic","synthetic","vintage","modern","futuristic","nostalgic","euphoric","melancholic","uplifting","dark","bright","warm","cold","aggressive","gentle","experimental","thicc","juicy","crispy","moist","spicy","toxic","stanky","sussy","basic","cursed","busted","gassy","pogged","feral","broke","soggy","shiny","dank","mid","goated","extra","crusty","horny","girthy"],mh=["chill","hype","moody","ethereal","gritty","polished","lo-fi","hi-fi","analog","digital","sussy","horny","feral","stanky","soggy","based","goblin","clapped","mid","yeetable","unholy","poggy","saucy","moistcore","vibeless","girthquake","emo","gremlin","alpha","sigma","minimal","maximal","spacey","earthy","cosmic","urban","rural","industrial","natural","chaotic","organized","flowing","stuttering","driving","floating","grounding","lifting","fermented","crispless","overcooked","unhinged","beefy","sticky","powdered","sideways","blurry","smelly","illegal","expired","inflated","busted","gassy","meaty","flatulent","caffeinated","burnt","goopy"],cc=["Hip-Hop","Lo-Fi","Trap","Drill","Boom Bap","Jazz Hop","Chillhop","Future Bass","Synthwave","Vaporwave","House","Techno","Ambient","Drum & Bass","Dubstep","UK Garage","Jersey Club","Fartwave","Pornogrind","Clownstep","Nightcore","ShitpostRap","LoFiToiletBeats","Goblincore","SimpHop","DoomerPop","GigaTrap","BrokeWave","StepBroStep","DumpsterSynth","SadBoiAcoustic","EmoPolka","HornyJazz","Weebwave","Afrobeat","Reggaeton","Latin Trap","K-Pop","J-Pop","Indie Pop","Bedroom Pop","Dream Pop","Shoegaze","Post Rock","Math Rock","Emo","Punk","Metal","Folk","Country","Blues","R&B","Soul"],Tg=["FL Studio","Ableton","Logic","Pro Tools","Reaper","GarageBand","Cubase","Studio One","Reason","Bitwig","Audacity","Vegas Pro","Premiere","After Effects","Photoshop","MS Paint","GIMP","Blender","Unity","Unreal","Discord","Zoom","TikTok","Instagram"],_g=["80","90","00","10","20"],Nw=["FL Studio","Ableton","Logic","Pro Tools","Reaper","GarageBand","Cubase","Studio One","Reason","Bitwig","Audacity","Vegas Pro","Premiere","After Effects","Photoshop","MS Paint","GIMP","Blender","Unity","Unreal","Discord","Zoom","TikTok","Instagram","Illustrator","InDesign","Lightroom","DaVinci Resolve","Final Cut Pro","Avid Media Composer","Sony Acid","Traktor","Serato","Virtual DJ","OBS Studio","Streamlabs","XSplit","Cinema 4D","Maya","ZBrush","Substance Painter","Krita","Clip Studio Paint","Paint Tool SAI","CorelDRAW","Canva","Figma","Sketch","Framer","Affinity Designer","Affinity Photo","Procreate","Notion","Slack","Trello","Asana","Jira","Monday.com","ClickUp","Google Docs","Google Sheets","Google Slides","Google Drive","Dropbox","OneDrive","Evernote","Notepad++","Sublime Text","Atom","VS Code","IntelliJ","PyCharm","WebStorm","Eclipse","NetBeans","Android Studio","Xcode","GameMaker Studio","Godot","Construct","RPG Maker","CryEngine","Audition","Sound Forge","WaveLab","Melodyne","Auto-Tune","iZotope Ozone","Kontakt","Massive","Serum","Omnisphere","Sylenth1","Vital","Splice","Loopcloud","LANDR","BandLab","Spotify for Artists","SoundCloud Pro","YouTube Studio","Anchor","Podbean","Buzzsprout","WordPress","Squarespace","Wix","Shopify","BigCommerce","Magento","WooCommerce","Excel","PowerPoint","Word","Outlook","Teams","SharePoint","Steam","Epic Games Launcher","Battle.net","Origin","Uplay","Itch.io","Telegram","WhatsApp","Messenger","Signal","Skype","Reddit","Twitter","Facebook","MidJourney","Stable Diffusion","DALL·E","RunwayML","Topaz Labs","Remini"],iA={supporter:["{user} became a monthly supporter of {target}","{user} renewed support for {target}","{user} upgraded to premium supporter of {target}"],tip:["{user} tipped {amount}⭐ to {target}","{user} sent {amount}⭐ stars to {target}","{user} donated {amount}⭐ during {target}'s stream"],like:["{user} liked {target}'s post","{user} hearted {target}'s latest creation"],follow:["{user} started following {target}","{user} joined {target}'s creative journey"]},Tw=['Just dropped my "{collectible}" sticker. Peak internet chaos achieved.',"Working on a new {genre} track. The vibes are {adjective}! 🎵","New lo-fi track dropping tonight! Perfect for those late night study sessions.","Anyone know why my {software} keeps crashing? Asking for a friend... 😅"],aA=[{emoji:"🔥",name:"fire"},{emoji:"💀",name:"dead"},{emoji:"😂",name:"crying"},{emoji:"🎵",name:"musical"},{emoji:"💯",name:"hundred"},{emoji:"✨",name:"sparkles"}],_w=["yo this {adjective} {genre} drop from @{user} is wild","someone trade me a {collectible}, mine just vanished lol","anyone else crashing in {software}? or is it just me","lmao @{user} your {collectible} looks like a cursed MS Paint doodle","brb gonna mint a sticker of leftover pizza 🍕","anyone down to collab on a {decade} style drop?","dropped my coffee on my MIDI keyboard again send help","why does every {genre} track sound like my washing machine rn","@{user} ur drop literally broke my speakers 🔊🔥","petition to add a “horny jail” sticker to the shop 🚔","ok but who keeps buying all the cat stickers before I can","can we get a “shrek in 4k” collab challenge going pls","ayo someone just paid ⭐500 for a {collectible}… insane","why is my timeline only burritos rn 🌯","thinking about minting a “taxes due” card just to scare ppl","ngl this site is more addictive than {software}","anyone seen the new {adjective} shader pack in {software}? looks sick","the megaphones are just people screaming memes rn and i love it","sticker idea: goth mommy energy","every drop today feels like 2007 MySpace core lol","shoutout to @{user} for gifting me a sticker 🙏","not me accidentally bidding all my ⭐ on “toenail clippings”","this challenge is basically impossible without a time machine ⏰","just released a free {genre} pack, grab it before it disappears","yo @{user} stop flexing your legendary card we get it 💎","lowkey wanna start a group just for cursed drops","made my sticker in MS Paint and it still slaps","is it bad i only come here for the memes and stickers","who else stuck in create drop menu cuz it’s offscreen lol","every time I open chat someone’s yelling about burritos again","@{user} became a monthly supporter of me LET’S GOOO 🚀","bro someone really minted a sticker called “gas station sushi” 🤢","okay but why is the rarest card always food related","i swear {software} auto-saves everything except the stuff i need","imagine explaining to your mom you lost ⭐200 on horny jail bids","daily reminder that {user} is cracked at collabs","yo who just dropped a {adjective} challenge called “sock drawer vibes”","this site feels like Twitch chat but with more stickers","why are the {decade} trends making a comeback AGAIN","can we get a sticker of the community hub being on fire 🔥","this {genre} beat feels like a mental breakdown in HD","the emotes menu is stacked, feels like Discord x2","lmao someone actually minted “bonk hammer 3000”","every time i see a {collectible} i wanna throw money at the screen","can we get more chalkboard drawings in the hub plsss","stop making me spend all my ⭐ im broke now","just copped a {adjective} {collectible} from @{user}, flexing forever","yall sleeping on the {genre} side of DropSource","just realized i can gift stickers… sending cursed ones only","bro the megaphone rn says “tell ur mom i said hi” im crying","community hub glows like vegas lights rn ✨","@{user} you owe me ⭐20 from that auction yesterday","yo imagine if someone minted an NFT of my browser history 😂","half this chat feels like a fever dream tbh","someone pls start streaming, im bored","ayo @{user} your {collectible} just broke the auction house","cant believe i lost ⭐300 on a sticker called “expired milk”","ngl this {adjective} collab feels like cursed jazz from {decade}","someone help me debug {software}, it’s eating my project","new rule: every chat must mention burritos 🌯","i just saw @{user} list “sock lint” as epic rarity","brb drawing the community hub in MS Paint again","shoutout to whoever minted “toothpaste vibes” 💀","petition to add ⭐ inflation to the lore","my chalkboard doodle looks like a crime scene 😭","@{user} you can’t just drop “banana peel energy” and leave","auction war rn feels like pokemon card battles in middle school","this site needs a “bozo of the week” badge fr","why do i keep buying {collectible}s i don’t even like","ok but the {genre} side of DropSource is underrated","yo the megaphone rn says “@{user} owes me a soda” lmao","somebody trade me for my “midnight beans” sticker pls","lowkey {software} tutorials be saving my life rn","gotta flex, i just became a monthly supporter of @{user}","drop idea: 100% sounds recorded in a walmart parking lot","bro my stream had 5 viewers and 3 were bots 💔","watching auctions is basically esports at this point","petition to add a “slap” react button","daily reminder {user} is a menace in auctions","can we get more cursed emotes in chat pls","ngl half these usernames feel like AI fever dreams","community hub rn = chaos simulator","anyone else treating this like second life but with memes","challenge idea: only use {decade} commercials for samples","yo who made the “gas leak vibes” card legendary 💀","shoutout to the random guy minting “uncooked pasta” stickers","stream idea: me crying in {software} for 3 hrs straight","megaphones are just people screaming “follow me @username” rn","petition to make horny jail a real location on site","this drop literally looks like cursed clipart","ok but why is “fartcore” trending rn 💨","brb making a drop about procrastination","someone minted “reheated burrito” and it’s already sold out","chat rn feels like a group project in chaos mode","whoever invented ⭐ economy, i need a word with you","yo @{user} stop flexing your elite {collectible}","auction timer anxiety is too real rn","challenge idea: no plugins, just {software} stock sounds","fun fact: {user} has never missed a daily drop","megaphone idea: “tell ur dog i said hi”","petition to let us trade ⭐ for snacks","who dropped “garfield in 4k” … i need that","bro the new update made everything glow too hard lol","not me losing ⭐50 cuz i misclicked react instead of bid","petition to add “ok boomer” sticker in epic rarity","auction house rn feels like stock market crash simulator","brb gifting randoms “toe bean” stickers","my stream peaked at 12 viewers, i’m basically famous","dropSource shop is wild, who priced “wet sock” at ⭐999","ok but chalkboard doodles need a whole gallery","someone just made “trash panda” legendary, respect 🦝","community hub rn has the energy of {decade} internet forums","petition to let us mint “404 error” as a sticker","challenge: only samples from kazoo and spoons","ayo @{user} why is ur drop just a jpeg of spaghetti","legit this site feels like twitch x ebay x discord","watch me speedrun a collab req in under 10 seconds","petition for a react that’s just 💀💀💀","bro the megaphones are getting unhinged","stream title: “watch me suffer in {software}”","anyone else collecting only cursed food stickers","petition to mint “boneless pizza” as elite rarity","not me donating $5 just for a fart sticker","ayo did someone actually draw that chalkboard meme","community hub rn is all burritos and breakdowns","daily reminder to stay hydrated or ur drops will sound mid","auction rn: ⭐500 on “grandma’s lasagna” card","petition to add “leftover vibes” as a genre tag","this chat has more lore than the marvel universe","megaphone rn says “free hugs at @dumpsterfire” lmao","x started streaming! 100+ ppl watching rn 👀","challenge idea: only use {software} stock sounds","this comment section feels like 2012 YouTube energy","ok who made “beatharderthanmymeat” a real username 💀","cant believe i lost an auction to someone called “clamslam”","this whole place runs on chaos energy and i respect it","why does every drop feel like a group project gone wrong","ayo @{user} mint me a sticker pack pls","watch me drop a “mid” sticker just to piss ppl off","is there a badge for most time wasted in chat","the leaderboard flex is unreal rn","don’t lie, yall only here for the goth mommy sticker","funny how {genre} and {genre} always beef in chat","megaphones rn are basically Twitch donations but louder","auction house rn is a warzone ⚔️","someone actually listed “toe beans” as legendary lmao","yo whoever drew that chalkboard doodle deserves ⭐100","lowkey this feels like RuneScape grand exchange but unhinged","petition to add a “bring back burrito” challenge","we need a button just to mute @{user} for spamming tacos","watch me become top donor by spending $5 😎","ngl, i thought this site was fake until i saw horny jail sticker","the collab requests are either fire or absolute chaos","yall really bidding on “melted ice cream” rn","stop making me laugh i’m trying to be productive in {software}"];class oa{static instance;listeners=new Set;state;channels=[{id:"general",name:"#general",unread:0},{id:"show-and-tell",name:"#show-and-tell",unread:3},{id:"memes",name:"#memes",unread:12},{id:"trades",name:"#trades",unread:5},{id:"stickers",name:"#stickers",unread:0}];messagesByChannel={};messageInterval=null;constructor(){const e=this.loadFromStorage();this.state={isOpen:!1,channelId:e?.lastActiveChannel||"general",isDocked:e?.isDocked||!1,draftByChannel:e?.draftByChannel||{},unreadByChannel:e?.unreadByChannel||{},lastActiveChannel:e?.lastActiveChannel||"general",...e},this.initializeMessages(),this.startMessageGeneration(),this.handleURLParams(),window.addEventListener("popstate",()=>{this.handleURLParams()})}static getInstance(){return oa.instance||(oa.instance=new oa),oa.instance}initializeMessages(){this.channels.forEach(e=>{this.messagesByChannel[e.id]=this.generateSampleMessages(e.id)})}generateSampleMessages(e){return[{content:"hey everyone! 👋",username:"beatmaker2023",type:"text"},{content:"working on some fire beats tonight 🔥",username:"LoFiKing",type:"text"},{content:"anyone up for a collab?",username:"synthwave_sarah",type:"text"}].map((s,n)=>({id:`${e}-${n}`,username:s.username,handle:`@${s.username.toLowerCase()}`,avatar:s.username.slice(0,2).toUpperCase(),content:s.content,timestamp:new Date(Date.now()-n*3e5),type:s.type}))}startMessageGeneration(){this.messageInterval&&clearInterval(this.messageInterval),this.messageInterval=setInterval(()=>{this.generateRandomMessage()},Math.random()*3e3+3e3)}generateRandomMessage(){const e=[{id:"general",weight:40},{id:"show-and-tell",weight:20},{id:"memes",weight:15},{id:"trades",weight:15},{id:"stickers",weight:10}],t=e.reduce((d,u)=>d+u.weight,0);let s=Math.random()*t,n="general";for(const d of e)if(s-=d.weight,s<=0){n=d.id;break}const o=ts[Math.floor(Math.random()*ts.length)];let l=_w[Math.floor(Math.random()*_w.length)];l=l.replace(/{username}/g,ts[Math.floor(Math.random()*ts.length)]).replace(/{genre}/g,cc[Math.floor(Math.random()*cc.length)]).replace(/{adjective}/g,[...ph,...mh][Math.floor(Math.random()*(ph.length+mh.length))]).replace(/{software}/g,Tg[Math.floor(Math.random()*Tg.length)]).replace(/{decade}/g,_g[Math.floor(Math.random()*_g.length)]).replace(/{collectible}/g,["Big Chungus Energy","Dumpster Baby","Clam Slam","GothMommy","Horny Jail"][Math.floor(Math.random()*5)]),this.addMessage(n,{username:o,handle:`@${o.toLowerCase()}`,avatar:o.slice(0,2).toUpperCase(),content:l,type:"text"})}loadFromStorage(){try{const e=sessionStorage.getItem("dropsource:chat");return e?JSON.parse(e):null}catch{return null}}saveToStorage(){try{sessionStorage.setItem("dropsource:chat",JSON.stringify({channelId:this.state.channelId,isDocked:this.state.isDocked,draftByChannel:this.state.draftByChannel,unreadByChannel:this.state.unreadByChannel,lastActiveChannel:this.state.lastActiveChannel}))}catch{}}handleURLParams(){const e=new URL(window.location.href),t=e.searchParams.get("chat")||e.hash.replace("#chat/","");t&&this.channels.find(s=>s.id===t)&&this.open(t)}updateURL(e){const t=new URL(window.location.href);this.state.isOpen&&e?t.searchParams.set("chat",e):t.searchParams.delete("chat"),window.history.replaceState({},"",t.toString())}notify(){this.listeners.forEach(e=>e(this.state)),this.saveToStorage()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}getState(){return{...this.state}}getChannels(){return[...this.channels]}getMessages(e){return this.messagesByChannel[e]||[]}open(e,t){const s=e||this.state.lastActiveChannel||"general";this.state={...this.state,isOpen:!0,channelId:s,lastActiveChannel:s,isDocked:t?.docked??this.state.isDocked},this.state.unreadByChannel[s]=0,this.updateURL(s),this.notify()}close(){this.state={...this.state,isOpen:!1},this.updateURL(),this.notify()}toggle(e){this.state.isOpen?this.close():this.open(e)}switchChannel(e){this.channels.find(t=>t.id===e)&&(this.state={...this.state,channelId:e,lastActiveChannel:e},this.state.unreadByChannel[e]=0,this.updateURL(e),this.notify())}setDocked(e){this.state={...this.state,isDocked:e},this.notify()}setDraft(e,t){this.state.draftByChannel[e]=t,this.notify()}getDraft(e){return this.state.draftByChannel[e]||""}addMessage(e,t){const s={...t,id:`${e}-${Date.now()}`,timestamp:new Date};this.messagesByChannel[e]||(this.messagesByChannel[e]=[]),this.messagesByChannel[e].push(s),this.messagesByChannel[e].length>50&&(this.messagesByChannel[e]=this.messagesByChannel[e].slice(-50)),(!this.state.isOpen||this.state.channelId!==e)&&(this.state.unreadByChannel[e]=(this.state.unreadByChannel[e]||0)+1),this.notify()}focus(){this.state.isOpen&&this.notify()}destroy(){this.messageInterval&&(clearInterval(this.messageInterval),this.messageInterval=null)}}const Tt=oa.getInstance(),YC=b.createContext(null);function lA({children:r}){const[e,t]=b.useState(Tt.getState()),[s]=b.useState(Tt.getChannels()),[n,o]=b.useState(Tt.getMessages(e.channelId));b.useEffect(()=>Tt.subscribe(u=>{t(u),o(Tt.getMessages(u.channelId))}),[]);const l={state:e,channels:s,messages:n,open:Tt.open.bind(Tt),close:Tt.close.bind(Tt),toggle:Tt.toggle.bind(Tt),switchChannel:Tt.switchChannel.bind(Tt),setDocked:Tt.setDocked.bind(Tt),setDraft:Tt.setDraft.bind(Tt),getDraft:Tt.getDraft.bind(Tt),addMessage:Tt.addMessage.bind(Tt),focus:Tt.focus.bind(Tt)};return i.jsx(YC.Provider,{value:l,children:r})}function K0(){const r=b.useContext(YC);if(!r)throw new Error("useChat must be used within a ChatProvider");return r}const Mw=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Ew=jC,XC=(r,e)=>t=>{var s;if(e?.variants==null)return Ew(r,t?.class,t?.className);const{variants:n,defaultVariants:o}=e,l=Object.keys(n).map(h=>{const p=t?.[h],m=o?.[h];if(p===null)return null;const y=Mw(p)||Mw(m);return n[h][y]}),d=t&&Object.entries(t).reduce((h,p)=>{let[m,y]=p;return y===void 0||(h[m]=y),h},{}),u=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let{class:m,className:y,...x}=p;return Object.entries(x).every(v=>{let[w,j]=v;return Array.isArray(j)?j.includes({...o,...d}[w]):{...o,...d}[w]===j})?[...h,m,y]:h},[]);return Ew(r,l,u,t?.class,t?.className)},cA=XC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Se=b.forwardRef(({className:r,variant:e,size:t,asChild:s=!1,...n},o)=>{const l=s?z2:"button";return i.jsx(l,{"data-slot":"button",className:Pt(cA({variant:e,size:t,className:r})),ref:o,...n})});Se.displayName="Button";function Cr({className:r,type:e,...t}){return i.jsx("input",{type:e,"data-slot":"input",className:Pt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}const Pw=XC("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/90",accent:"text-foreground bg-accent hover:bg-accent-foreground/10",ad:["bg-[#FFB039]","text-zinc-900 dark:text-black","border border-[#FFC466]/40","shadow-[inset_0_0_0_1px_rgba(255,255,255,.25)]","hover:brightness-105 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-[#FFB039]","pointer-events-none"].join(" ")}},defaultVariants:{variant:"default"}});function ft({className:r,variant:e,asChild:t=!1,title:s,children:n,...o}){const l=t?z2:"span";return s&&!t?i.jsx(ws,{children:i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(l,{"data-slot":"badge",className:Pt(Pw({variant:e}),r),title:s,"aria-label":s,...o,children:n})}),i.jsx(St,{children:s})]})}):i.jsx(l,{"data-slot":"badge",className:Pt(Pw({variant:e}),r),title:s,"aria-label":s,...o,children:n})}function dA(){const{state:r,channels:e,messages:t,close:s,switchChannel:n,setDraft:o,getDraft:l,addMessage:d}=K0(),[u,h]=b.useState(""),[p,m]=b.useState(!1),y=b.useRef(null),x=b.useRef(null),v=["Share a WIP…","Drop a sticker…","Shout out a creator with @…"],[w,j]=b.useState(0);b.useEffect(()=>{const D=()=>{m(window.innerWidth<768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),b.useEffect(()=>{const D=l(r.channelId);h(D)},[r.channelId,l]),b.useEffect(()=>{o(r.channelId,u)},[u,r.channelId,o]),b.useEffect(()=>{const D=setInterval(()=>{j(M=>(M+1)%v.length)},3e3);return()=>clearInterval(D)},[]),b.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[t]),b.useEffect(()=>{const D=M=>{M.key==="Escape"&&s()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[s]),b.useEffect(()=>{if(r.isOpen){const D=document.querySelector(".chat-input");D&&setTimeout(()=>D.focus(),100)}},[r.isOpen]),b.useEffect(()=>{if(x.current){const D=x.current,M=E=>{const R=E.deltaY<0,O=E.deltaY>0,B=D.scrollTop===0,L=D.scrollTop+D.clientHeight>=D.scrollHeight-1;(R&&!B||O&&!L)&&E.stopPropagation()};return D.addEventListener("wheel",M,{passive:!1}),()=>D.removeEventListener("wheel",M)}},[]);const C=D=>({common:"#22C55E",rare:"#FF70A6",epic:"#60A5FA",legendary:"#F59E0B"})[D]||"#22C55E",N=D=>{const M=D.type==="system";return i.jsxs("div",{className:`flex gap-3 ${M?"justify-center":""} group`,children:[!M&&i.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-xs font-semibold text-white flex-shrink-0",children:D.avatar}),i.jsxs("div",{className:`flex-1 ${M?"text-center":""}`,children:[!M&&i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-semibold text-white",children:D.username}),i.jsx("span",{className:"text-xs text-gray-400",children:D.handle}),i.jsx("span",{className:"text-xs text-gray-500",children:D.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),i.jsx("div",{className:`text-sm ${M?"text-gray-400 italic":"text-gray-200"}`,children:D.content}),D.attachments&&i.jsx("div",{className:"mt-2 flex gap-2",children:D.attachments.map((E,R)=>i.jsxs("div",{className:"relative group/attachment",children:[E.type==="sticker"&&i.jsx("div",{className:"w-24 h-24 rounded border-2 bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold hover:scale-105 transition-transform cursor-pointer",style:{borderColor:C(E.rarity||"common")},children:"🌻"}),E.type==="card"&&i.jsx("div",{className:"w-32 h-20 rounded border-2 bg-gradient-to-br from-blue-600 to-cyan-500 flex items-center justify-center text-white font-bold hover:scale-105 transition-transform cursor-pointer",style:{borderColor:C(E.rarity||"common")},children:"🃏"}),E.type==="image"&&i.jsx("img",{src:E.url,alt:E.title,className:"max-w-xs rounded hover:scale-105 transition-transform cursor-pointer"})]},R))})]})]},D.id)},k=()=>{u.trim()&&(d(r.channelId,{username:"You",handle:"@you",avatar:"👤",content:u,type:"text"}),h(""))};if(!r.isOpen)return null;let _=document.getElementById("portal-root");_||(_=document.createElement("div"),_.id="portal-root",document.body.appendChild(_));const P=i.jsx("div",{className:"fixed inset-0 z-[1000] flex",style:{background:p?"rgba(0, 0, 0, 0.5)":"transparent",pointerEvents:"none"},children:i.jsxs("div",{className:"bg-gray-900 border-l border-gray-700 flex flex-col",style:{width:p?"100%":"400px",height:p?"85vh":"calc(100vh - 80px)",top:p?"auto":"80px",bottom:p?"0":"auto",right:p?"auto":"0",position:"fixed",pointerEvents:"auto",transform:"translateX(0)",transition:"transform 300ms ease-out",willChange:"transform",boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.3)",zIndex:1001},children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-800",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-blue-400"}),i.jsx("h3",{className:"font-semibold text-white",children:"Live Chat"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:i.jsx(yn,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:i.jsx(wi,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:s,className:"text-gray-400 hover:text-red-400",children:i.jsx(kr,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"p-3 border-b border-gray-700 bg-gray-850",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-thin",children:e.map(D=>i.jsxs("button",{onClick:()=>n(D.id),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap transition-all flex items-center gap-2 ${r.channelId===D.id?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[D.name,D.unread>0&&i.jsx(ft,{className:"px-1 py-0 text-xs",style:{backgroundColor:"#EF4444",color:"#FFF",minWidth:"16px",height:"16px",fontSize:"10px"},children:D.unread>99?"99+":D.unread})]},D.id))})}),i.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto p-4 space-y-4",style:{scrollbarWidth:"thin",scrollbarColor:"#374151 #1F2937"},children:[t.map(N),i.jsx("div",{ref:y})]}),i.jsx("div",{className:"p-4 border-t border-gray-700 bg-gray-850",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Cr,{value:u,onChange:D=>h(D.target.value),placeholder:v[w],className:"pr-16 bg-gray-800 border-gray-600 text-white placeholder-gray-400 chat-input",onKeyPress:D=>{D.key==="Enter"&&(D.preventDefault(),k())}}),i.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[i.jsx(Se,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-gray-400 hover:text-white",children:i.jsx(UC,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-gray-400 hover:text-white",children:i.jsx(VC,{className:"w-4 h-4"})})]})]}),i.jsx(Se,{size:"sm",className:"bg-blue-600 hover:bg-blue-500",disabled:!u.trim(),onClick:k,children:i.jsx(Mc,{className:"w-4 h-4"})})]})})]})});return zo.createPortal(P,_)}const uA=["'s","'s","ing","ed","es","s"];function Mg(r){const e=[],t=/[A-Za-z'']+/g;let s;for(;s=t.exec(r);){const n=s[0],o=n.toLowerCase(),l=hA(o);e.push({start:s.index,end:s.index+n.length,text:n,norm:l})}return e}function hA(r){for(const e of uA)if(r.length>e.length+1&&r.endsWith(e))return r.slice(0,-e.length);return r}function Eg(r){return r.length<2?null:r.length>=4?r.slice(-3):r.slice(-2)}function fA(r){let e=5381;for(let t=0;t<r.length;t++)e=(e<<5)+e+r.charCodeAt(t);return e>>>0}const Dw=["var(--rhyme-1)","var(--rhyme-2)","var(--rhyme-3)","var(--rhyme-4)","var(--rhyme-5)","var(--rhyme-6)","var(--rhyme-7)","var(--rhyme-8)","var(--rhyme-9)","var(--rhyme-10)","var(--rhyme-11)","var(--rhyme-12)"];function Aw(r){const e=Mg(r),t=new Map;for(const n of e){const o=Eg(n.norm);o&&(t.has(o)||t.set(o,[]),t.get(o).push(n))}const s=[];for(const[n,o]of t){if(o.length<2)continue;const l=fA(n)%Dw.length,d=Dw[l];for(const u of o)s.push({start:u.start,end:u.end,color:d,key:n})}return s.sort((n,o)=>n.start-o.start)}function Kd(r){return r.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,"&quot;")}function pA({isRhymeHighlightEnabled:r=!1,isDrawingMode:e=!1,onDrawingStart:t,onTextChange:s,onSelectionChange:n,showStats:o=!1,selectedColor:l="#60A5FA",brushSize:d=3,selectedTool:u="brush",onUndo:h,onClearDrawing:p}){const[m,y]=b.useState(""),[x,v]=b.useState(0),[w,j]=b.useState(0),C=b.useRef(null),N=b.useRef(null),[k,_]=b.useState(!1),[P,D]=b.useState({x:0,y:0}),[M,E]=b.useState([]),[R,O]=b.useState(()=>Aw(m)),B=b.useRef(null);b.useEffect(()=>{B.current&&cancelAnimationFrame(B.current);const G=m,Q=r;return B.current=requestAnimationFrame(()=>{O(Q?Aw(G):[])}),()=>{B.current&&cancelAnimationFrame(B.current)}},[m,r]);const L=b.useMemo(()=>{if(!R.length)return Kd(m).replace(/\n/g,"<br/>");let G="",Q=0;for(const de of R){Q<de.start&&(G+=Kd(m.slice(Q,de.start)));const me=Kd(m.slice(de.start,de.end));G+=`<span class="rhyme-span" style="background:${de.color}">${me}</span>`,Q=de.end}return Q<m.length&&(G+=Kd(m.slice(Q))),G.replace(/\n/g,"<br/>")},[m,R]);b.useEffect(()=>{C.current&&(C.current.style.height="auto",C.current.style.height=C.current.scrollHeight+"px")},[m]),b.useEffect(()=>{if(e&&N.current){const G=N.current,Q=G.getContext("2d");if(Q){const de=G.getBoundingClientRect();G.width=de.width,G.height=de.height,Q.lineCap="round",Q.lineJoin="round"}}},[e]);const $=G=>{const Q=G.target.value;y(Q),s&&s(Q)},J=()=>{if(C.current){const G=C.current.selectionStart,Q=C.current.selectionEnd;v(G),j(Q),n&&n({start:G,end:Q})}},ce=G=>{if(G.key==="Tab"){G.preventDefault();const Q=G.currentTarget,de=Q.selectionStart,me=Q.selectionEnd,_e=m.substring(0,de)+"  "+m.substring(me);y(_e),s&&s(_e),setTimeout(()=>{C.current&&(C.current.selectionStart=C.current.selectionEnd=de+2)},0)}},V=G=>{const Q=`
[${G}]
`,de=C.current;if(de){const me=de.selectionStart,_e=m.substring(0,me)+Q+m.substring(me);y(_e),s&&s(_e),setTimeout(()=>{de.selectionStart=de.selectionEnd=me+Q.length,de.focus()},0)}},X=()=>{if(!N.current)return;const G=N.current.getContext("2d");if(G){const Q=G.getImageData(0,0,N.current.width,N.current.height);E(de=>[...de,Q].slice(-20))}},F=()=>{if(M.length===0||!N.current)return;const G=N.current.getContext("2d");if(G){const Q=M[M.length-1];G.putImageData(Q,0,0),E(de=>de.slice(0,-1))}h&&h()},ee=()=>{if(!N.current)return;const G=N.current.getContext("2d");G&&(G.clearRect(0,0,N.current.width,N.current.height),E([])),p&&p()},H=G=>{if(!e||!N.current)return;X(),_(!0);const Q=N.current.getBoundingClientRect(),de=(G.clientX-Q.left)*(N.current.width/Q.width),me=(G.clientY-Q.top)*(N.current.height/Q.height);D({x:de,y:me}),t&&t()},z=G=>{if(!k||!N.current)return;const Q=N.current,de=Q.getContext("2d");if(!de)return;const me=Q.getBoundingClientRect(),_e=(G.clientX-me.left)*(Q.width/me.width),Ve=(G.clientY-me.top)*(Q.height/me.height);switch(de.globalCompositeOperation=u==="eraser"?"destination-out":"source-over",de.strokeStyle=u==="eraser"?"rgba(0,0,0,1)":l,de.lineWidth=d,u){case"pencil":de.globalAlpha=.9,de.lineCap="round",de.lineJoin="round";break;case"brush":de.globalAlpha=.8,de.lineCap="round",de.lineJoin="round";break;case"highlighter":de.globalAlpha=.3,de.lineCap="square",de.lineJoin="miter";break;case"eraser":de.globalAlpha=1,de.lineCap="round",de.lineJoin="round";break}de.beginPath(),de.moveTo(P.x,P.y),de.lineTo(_e,Ve),de.stroke(),D({x:_e,y:Ve})},Z=()=>{_(!1)},q=m.trim().split(/\s+/).filter(G=>G.length>0),oe=m.split(`
`).length,he=G=>{if(!G)return 0;G=G.toLowerCase().replace(/[^a-z]/g,"");let Q=0,de=!1;for(let me=0;me<G.length;me++){const _e="aeiouy".includes(G[me]);_e&&!de&&Q++,de=_e}return G.endsWith("e")&&Q>1&&Q--,Math.max(1,Q)},fe=q.reduce((G,Q)=>{const de=Q.replace(/[^\w]/g,"");return G+he(de)},0);return b.useEffect(()=>{window.insertIntoLyrics=V,window.undoDrawing=F,window.clearDrawing=ee},[]),i.jsxs("div",{className:"h-full dropsource-editor dropsource-inset-shadow rounded-xl relative overflow-hidden",children:[i.jsx("div",{className:"rhyme-layer","aria-hidden":"true",style:{padding:"2rem",fontSize:"18px",lineHeight:"1.8",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace'},dangerouslySetInnerHTML:{__html:L}}),i.jsx("textarea",{ref:C,className:`
          w-full h-full p-8 bg-transparent border-none outline-none resize-none 
          dropsource-text-primary placeholder:dropsource-text-secondary placeholder:opacity-50 
          leading-relaxed font-mono
          ${e?"pointer-events-none":""}
        `,style:{fontSize:"18px",lineHeight:"1.8",caretColor:"#06b6d4",minHeight:"100%"},value:m,onChange:$,onSelect:J,onKeyDown:ce,placeholder:"Start writing here...",spellCheck:!0}),o&&m&&i.jsxs("div",{className:"absolute bottom-4 right-4 px-3 py-2 bg-gray-900/90 rounded-lg border border-gray-700 dropsource-text-secondary text-sm space-y-1 z-20",children:[i.jsxs("div",{children:[q.length," words"]}),i.jsxs("div",{children:[oe," lines"]}),i.jsxs("div",{children:[fe," syllables"]})]}),i.jsx("canvas",{ref:N,className:`absolute inset-0 z-30 ${e?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,onMouseDown:H,onMouseMove:z,onMouseUp:Z,onMouseLeave:Z,style:{width:"100%",height:"100%"}})]})}var mA=b.createContext(void 0);function Ec(r){const e=b.useContext(mA);return r||e||"ltr"}function dc(r,[e,t]){return Math.min(t,Math.max(e,r))}function gA(r,e){return b.useReducer((t,s)=>e[t][s]??t,r)}var q0="ScrollArea",[KC]=bn(q0),[yA,js]=KC(q0),qC=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,type:s="hover",dir:n,scrollHideDelay:o=600,...l}=r,[d,u]=b.useState(null),[h,p]=b.useState(null),[m,y]=b.useState(null),[x,v]=b.useState(null),[w,j]=b.useState(null),[C,N]=b.useState(0),[k,_]=b.useState(0),[P,D]=b.useState(!1),[M,E]=b.useState(!1),R=nt(e,B=>u(B)),O=Ec(n);return i.jsx(yA,{scope:t,type:s,dir:O,scrollHideDelay:o,scrollArea:d,viewport:h,onViewportChange:p,content:m,onContentChange:y,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:P,onScrollbarXEnabledChange:D,scrollbarY:w,onScrollbarYChange:j,scrollbarYEnabled:M,onScrollbarYEnabledChange:E,onCornerWidthChange:N,onCornerHeightChange:_,children:i.jsx(Ze.div,{dir:O,...l,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":k+"px",...r.style}})})});qC.displayName=q0;var ZC="ScrollAreaViewport",JC=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,children:s,nonce:n,...o}=r,l=js(ZC,t),d=b.useRef(null),u=nt(e,d,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...r.style},children:i.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});JC.displayName=ZC;var Sn="ScrollAreaScrollbar",QC=b.forwardRef((r,e)=>{const{forceMount:t,...s}=r,n=js(Sn,r.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=n,d=r.orientation==="horizontal";return b.useEffect(()=>(d?o(!0):l(!0),()=>{d?o(!1):l(!1)}),[d,o,l]),n.type==="hover"?i.jsx(xA,{...s,ref:e,forceMount:t}):n.type==="scroll"?i.jsx(vA,{...s,ref:e,forceMount:t}):n.type==="auto"?i.jsx(ek,{...s,ref:e,forceMount:t}):n.type==="always"?i.jsx(Z0,{...s,ref:e}):null});QC.displayName=Sn;var xA=b.forwardRef((r,e)=>{const{forceMount:t,...s}=r,n=js(Sn,r.__scopeScrollArea),[o,l]=b.useState(!1);return b.useEffect(()=>{const d=n.scrollArea;let u=0;if(d){const h=()=>{window.clearTimeout(u),l(!0)},p=()=>{u=window.setTimeout(()=>l(!1),n.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",p),()=>{window.clearTimeout(u),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",p)}}},[n.scrollArea,n.scrollHideDelay]),i.jsx(Io,{present:t||o,children:i.jsx(ek,{"data-state":o?"visible":"hidden",...s,ref:e})})}),vA=b.forwardRef((r,e)=>{const{forceMount:t,...s}=r,n=js(Sn,r.__scopeScrollArea),o=r.orientation==="horizontal",l=qh(()=>u("SCROLL_END"),100),[d,u]=gA("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>u("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,n.scrollHideDelay,u]),b.useEffect(()=>{const h=n.viewport,p=o?"scrollLeft":"scrollTop";if(h){let m=h[p];const y=()=>{const x=h[p];m!==x&&(u("SCROLL"),l()),m=x};return h.addEventListener("scroll",y),()=>h.removeEventListener("scroll",y)}},[n.viewport,o,u,l]),i.jsx(Io,{present:t||d!=="hidden",children:i.jsx(Z0,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Ye(r.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ye(r.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),ek=b.forwardRef((r,e)=>{const t=js(Sn,r.__scopeScrollArea),{forceMount:s,...n}=r,[o,l]=b.useState(!1),d=r.orientation==="horizontal",u=qh(()=>{if(t.viewport){const h=t.viewport.offsetWidth<t.viewport.scrollWidth,p=t.viewport.offsetHeight<t.viewport.scrollHeight;l(d?h:p)}},10);return Na(t.viewport,u),Na(t.content,u),i.jsx(Io,{present:s||o,children:i.jsx(Z0,{"data-state":o?"visible":"hidden",...n,ref:e})})}),Z0=b.forwardRef((r,e)=>{const{orientation:t="vertical",...s}=r,n=js(Sn,r.__scopeScrollArea),o=b.useRef(null),l=b.useRef(0),[d,u]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=ok(d.viewport,d.content),p={...s,sizes:d,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:y=>o.current=y,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:y=>l.current=y};function m(y,x){return jA(y,l.current,d,x)}return t==="horizontal"?i.jsx(bA,{...p,ref:e,onThumbPositionChange:()=>{if(n.viewport&&o.current){const y=n.viewport.scrollLeft,x=Rw(y,d,n.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:y=>{n.viewport&&(n.viewport.scrollLeft=y)},onDragScroll:y=>{n.viewport&&(n.viewport.scrollLeft=m(y,n.dir))}}):t==="vertical"?i.jsx(wA,{...p,ref:e,onThumbPositionChange:()=>{if(n.viewport&&o.current){const y=n.viewport.scrollTop,x=Rw(y,d);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:y=>{n.viewport&&(n.viewport.scrollTop=y)},onDragScroll:y=>{n.viewport&&(n.viewport.scrollTop=m(y))}}):null}),bA=b.forwardRef((r,e)=>{const{sizes:t,onSizesChange:s,...n}=r,o=js(Sn,r.__scopeScrollArea),[l,d]=b.useState(),u=b.useRef(null),h=nt(e,u,o.onScrollbarXChange);return b.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),i.jsx(rk,{"data-orientation":"horizontal",...n,ref:h,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kh(t)+"px",...r.style},onThumbPointerDown:p=>r.onThumbPointerDown(p.x),onDragScroll:p=>r.onDragScroll(p.x),onWheelScroll:(p,m)=>{if(o.viewport){const y=o.viewport.scrollLeft+p.deltaX;r.onWheelScroll(y),ak(y,m)&&p.preventDefault()}},onResize:()=>{u.current&&o.viewport&&l&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:yh(l.paddingLeft),paddingEnd:yh(l.paddingRight)}})}})}),wA=b.forwardRef((r,e)=>{const{sizes:t,onSizesChange:s,...n}=r,o=js(Sn,r.__scopeScrollArea),[l,d]=b.useState(),u=b.useRef(null),h=nt(e,u,o.onScrollbarYChange);return b.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),i.jsx(rk,{"data-orientation":"vertical",...n,ref:h,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kh(t)+"px",...r.style},onThumbPointerDown:p=>r.onThumbPointerDown(p.y),onDragScroll:p=>r.onDragScroll(p.y),onWheelScroll:(p,m)=>{if(o.viewport){const y=o.viewport.scrollTop+p.deltaY;r.onWheelScroll(y),ak(y,m)&&p.preventDefault()}},onResize:()=>{u.current&&o.viewport&&l&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:yh(l.paddingTop),paddingEnd:yh(l.paddingBottom)}})}})}),[SA,tk]=KC(Sn),rk=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:n,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:d,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:p,onResize:m,...y}=r,x=js(Sn,t),[v,w]=b.useState(null),j=nt(e,R=>w(R)),C=b.useRef(null),N=b.useRef(""),k=x.viewport,_=s.content-s.viewport,P=Er(p),D=Er(u),M=qh(m,10);function E(R){if(C.current){const O=R.clientX-C.current.left,B=R.clientY-C.current.top;h({x:O,y:B})}}return b.useEffect(()=>{const R=O=>{const B=O.target;v?.contains(B)&&P(O,_)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[k,v,_,P]),b.useEffect(D,[s,D]),Na(v,M),Na(x.content,M),i.jsx(SA,{scope:t,scrollbar:v,hasThumb:n,onThumbChange:Er(o),onThumbPointerUp:Er(l),onThumbPositionChange:D,onThumbPointerDown:Er(d),children:i.jsx(Ze.div,{...y,ref:j,style:{position:"absolute",...y.style},onPointerDown:Ye(r.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),C.current=v.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),E(R))}),onPointerMove:Ye(r.onPointerMove,E),onPointerUp:Ye(r.onPointerUp,R=>{const O=R.target;O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=N.current,x.viewport&&(x.viewport.style.scrollBehavior=""),C.current=null})})})}),gh="ScrollAreaThumb",sk=b.forwardRef((r,e)=>{const{forceMount:t,...s}=r,n=tk(gh,r.__scopeScrollArea);return i.jsx(Io,{present:t||n.hasThumb,children:i.jsx(CA,{ref:e,...s})})}),CA=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,style:s,...n}=r,o=js(gh,t),l=tk(gh,t),{onThumbPositionChange:d}=l,u=nt(e,m=>l.onThumbChange(m)),h=b.useRef(void 0),p=qh(()=>{h.current&&(h.current(),h.current=void 0)},100);return b.useEffect(()=>{const m=o.viewport;if(m){const y=()=>{if(p(),!h.current){const x=NA(m,d);h.current=x,d()}};return d(),m.addEventListener("scroll",y),()=>m.removeEventListener("scroll",y)}},[o.viewport,p,d]),i.jsx(Ze.div,{"data-state":l.hasThumb?"visible":"hidden",...n,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ye(r.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),v=m.clientX-x.left,w=m.clientY-x.top;l.onThumbPointerDown({x:v,y:w})}),onPointerUp:Ye(r.onPointerUp,l.onThumbPointerUp)})});sk.displayName=gh;var J0="ScrollAreaCorner",nk=b.forwardRef((r,e)=>{const t=js(J0,r.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?i.jsx(kA,{...r,ref:e}):null});nk.displayName=J0;var kA=b.forwardRef((r,e)=>{const{__scopeScrollArea:t,...s}=r,n=js(J0,t),[o,l]=b.useState(0),[d,u]=b.useState(0),h=!!(o&&d);return Na(n.scrollbarX,()=>{const p=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(p),u(p)}),Na(n.scrollbarY,()=>{const p=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(p),l(p)}),h?i.jsx(Ze.div,{...s,ref:e,style:{width:o,height:d,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function yh(r){return r?parseInt(r,10):0}function ok(r,e){const t=r/e;return isNaN(t)?0:t}function Kh(r){const e=ok(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,s=(r.scrollbar.size-t)*e;return Math.max(s,18)}function jA(r,e,t,s="ltr"){const n=Kh(t),o=n/2,l=e||o,d=n-l,u=t.scrollbar.paddingStart+l,h=t.scrollbar.size-t.scrollbar.paddingEnd-d,p=t.content-t.viewport,m=s==="ltr"?[0,p]:[p*-1,0];return ik([u,h],m)(r)}function Rw(r,e,t="ltr"){const s=Kh(e),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-n,l=e.content-e.viewport,d=o-s,u=t==="ltr"?[0,l]:[l*-1,0],h=dc(r,u);return ik([0,l],[0,d])(h)}function ik(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(r[1]-r[0]);return e[0]+s*(t-r[0])}}function ak(r,e){return r>0&&r<e}var NA=(r,e=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},s=0;return(function n(){const o={left:r.scrollLeft,top:r.scrollTop},l=t.left!==o.left,d=t.top!==o.top;(l||d)&&e(),t=o,s=window.requestAnimationFrame(n)})(),()=>window.cancelAnimationFrame(s)};function qh(r,e){const t=Er(r),s=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),b.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,e)},[t,e])}function Na(r,e){const t=Er(e);ur(()=>{let s=0;if(r){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return n.observe(r),()=>{window.cancelAnimationFrame(s),n.unobserve(r)}}},[r,t])}var TA=qC,_A=JC,MA=nk;const hn=b.forwardRef(({className:r,children:e,...t},s)=>i.jsxs(TA,{ref:s,"data-slot":"scroll-area",className:Pt("relative",r),...t,children:[i.jsx(_A,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),i.jsx(lk,{}),i.jsx(MA,{})]}));hn.displayName="ScrollArea";const lk=b.forwardRef(({className:r,orientation:e="vertical",...t},s)=>i.jsx(QC,{ref:s,"data-slot":"scroll-area-scrollbar",orientation:e,className:Pt("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...t,children:i.jsx(sk,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));lk.displayName="ScrollBar";function EA({isOpen:r,onClose:e,projects:t,currentProjectId:s,onSelectProject:n,onCreateProject:o,onDuplicateProject:l,onDeleteProject:d}){return r?i.jsxs(ws,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:e}),i.jsxs("div",{className:"fixed left-0 top-0 h-full w-80 dropsource-panel border-r border-gray-700 z-50 transform transition-transform duration-300 ease-out dropsource-floating-card",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ja,{className:"w-5 h-5 text-cyan-400"}),i.jsx("h2",{className:"dropsource-text-primary font-medium",children:"Projects"})]}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:e,className:"dropsource-text-secondary hover:dropsource-glow-cyan",children:i.jsx(kr,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"p-4 border-b border-gray-700 space-y-3",children:[i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(Se,{variant:"ghost",size:"sm",className:"flex-1 dropsource-text-secondary hover:dropsource-glow-cyan",children:i.jsx(Jr,{className:"w-4 h-4"})})}),i.jsx(St,{children:"AI organize projects"})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(Se,{variant:"ghost",size:"sm",className:"flex-1 dropsource-text-secondary hover:dropsource-glow-cyan",children:i.jsx(zC,{className:"w-4 h-4"})})}),i.jsx(St,{children:"New folder"})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(Se,{variant:"ghost",size:"sm",className:"flex-1 dropsource-text-secondary hover:dropsource-glow-cyan",children:i.jsx(uD,{className:"w-4 h-4"})})}),i.jsx(St,{children:"Open random project"})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(Se,{variant:"ghost",size:"sm",className:"flex-1 dropsource-text-secondary hover:dropsource-glow-cyan",children:i.jsx(ac,{className:"w-4 h-4"})})}),i.jsx(St,{children:"More options"})]})]}),i.jsxs(Se,{onClick:o,className:"w-full dropsource-gradient hover:dropsource-glow-blue",children:[i.jsx(wi,{className:"w-4 h-4 mr-2"}),"New Project"]})]}),i.jsx(hn,{className:"flex-1 h-[calc(100vh-140px)]",children:i.jsx("div",{className:"p-2 space-y-2",children:t.map(u=>i.jsx("div",{className:`group p-3 rounded-lg border transition-all duration-200 cursor-pointer hover:border-cyan-500/50 ${u.id===s?"bg-cyan-900/20 border-cyan-500/50 dropsource-glow-cyan":"border-gray-700 hover:bg-gray-800/50"}`,onClick:()=>n(u.id),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"dropsource-text-primary font-medium truncate",children:u.title}),u.hasUnreadChanges&&i.jsx(dh,{className:"w-2 h-2 fill-cyan-400 text-cyan-400"})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm dropsource-text-secondary",children:[i.jsxs("span",{children:[u.bpm," BPM"]}),i.jsx("span",{children:"•"}),i.jsx("span",{children:u.key})]}),i.jsx("p",{className:"text-xs dropsource-text-secondary mt-1",children:u.lastModified.toLocaleDateString()})]}),i.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(Se,{variant:"ghost",size:"sm",onClick:h=>{h.stopPropagation(),l(u.id)},className:"h-6 w-6 p-0 dropsource-text-secondary hover:dropsource-glow-cyan",children:i.jsx(On,{className:"w-3 h-3"})})}),i.jsx(St,{children:"Duplicate project"})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(Se,{variant:"ghost",size:"sm",onClick:h=>{h.stopPropagation(),d(u.id)},className:"h-6 w-6 p-0 text-red-400 hover:dropsource-glow-red",children:i.jsx(lc,{className:"w-3 h-3"})})}),i.jsx(St,{children:"Delete project"})]})]})]})},u.id))})})]})]}):null}const PA="modulepreload",DA=function(r){return"/"+r},Ow={},rn=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");n=l(t.map(h=>{if(h=DA(h),h in Ow)return;Ow[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":PA,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((x,v)=>{y.addEventListener("load",x),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return n.then(l=>{for(const d of l||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},AA=[{id:"music",icon:BC,label:"Music"},{id:"writing",icon:vg,label:"Writing"},{id:"drawing",icon:ys,label:"Drawing"},{id:"stickers",icon:z3,label:"Stickers"}],RA={music:[{id:"metronome",icon:$C,label:"Metronome",description:"Keep time and tap BPM"},{id:"chord",icon:BC,label:"Chord Helper",description:"Guitar & piano chords"},{id:"audio",icon:xg,label:"Audio Notes",description:"Record and upload audio"}],writing:[{id:"rhyme-highlight",icon:FD,label:"Highlight Rhymes",description:"Highlight rhyming words inline",isToggle:!0},{id:"rhyme",icon:X0,label:"Rhyme Helper",description:"Find rhymes and suggestions"},{id:"syllable",icon:U4,label:"Syllable Counter",description:"Count syllables and words"},{id:"formatting",icon:Sg,label:"Formatting",description:"Text formatting options"}],drawing:[{id:"brush-pencil",icon:vg,label:"Pencil",description:"Smooth pencil brush"},{id:"brush-marker",icon:yw,label:"Marker",description:"Bold marker brush"},{id:"brush-texture",icon:Jr,label:"Texture",description:"Textured brush"},{id:"brush-smudge",icon:Fn,label:"Smudge",description:"Blend colors"},{id:"brush-airbrush",icon:Js,label:"Airbrush",description:"Soft airbrush"},{id:"brush-watercolor",icon:Js,label:"Watercolor",description:"Watercolor effect"},{id:"brush-oil",icon:ys,label:"Oil Paint",description:"Oil painting brush"},{id:"brush-charcoal",icon:Hl,label:"Charcoal",description:"Charcoal drawing"},{id:"brush-crayon",icon:xr,label:"Crayon",description:"Waxy crayon effect"},{id:"gradient-red-yellow",icon:ys,label:"Red→Yellow",description:"Linear gradient brush"},{id:"gradient-green-blue",icon:ys,label:"Green→Blue",description:"Linear gradient brush"},{id:"gradient-pink-cyan",icon:ys,label:"Pink→Cyan",description:"Linear gradient brush"},{id:"sparkle",icon:Jr,label:"Sparkle",description:"Sparkle particle brush"},{id:"star",icon:rt,label:"Star",description:"Star particle brush"},{id:"confetti",icon:Jr,label:"Confetti",description:"Confetti particle brush"},{id:"shape-rect",icon:xr,label:"Rectangle",description:"Draw rectangles"},{id:"shape-circle",icon:dh,label:"Circle",description:"Draw circles"},{id:"shape-triangle",icon:ww,label:"Triangle",description:"Draw triangles"},{id:"shape-polygon",icon:ms,label:"Polygon",description:"Draw polygons"},{id:"shape-line",icon:Hl,label:"Line",description:"Draw straight lines"},{id:"shape-arrow",icon:ms,label:"Arrow",description:"Draw arrows"},{id:"layer-add",icon:Ki,label:"Add Layer",description:"Add new layer"},{id:"layer-duplicate",icon:On,label:"Duplicate",description:"Duplicate layer"},{id:"layer-merge",icon:Ki,label:"Merge",description:"Merge layers"},{id:"layer-flatten",icon:Ki,label:"Flatten",description:"Flatten all layers"},{id:"layer-opacity",icon:bw,label:"Opacity",description:"Adjust layer opacity"},{id:"layer-visibility",icon:ka,label:"Visibility",description:"Toggle layer visibility"},{id:"transform-move",icon:fh,label:"Move",description:"Move objects"},{id:"transform-rotate",icon:ci,label:"Rotate",description:"Rotate objects"},{id:"transform-scale",icon:xr,label:"Scale",description:"Resize objects"},{id:"transform-flip",icon:ci,label:"Flip",description:"Flip objects"},{id:"transform-skew",icon:xr,label:"Skew",description:"Skew objects"},{id:"effect-blur",icon:Fn,label:"Blur",description:"Apply blur effect"},{id:"effect-sharpen",icon:Fn,label:"Sharpen",description:"Sharpen details"},{id:"effect-glow",icon:Jr,label:"Glow",description:"Add glow effect"},{id:"effect-shadow",icon:xr,label:"Shadow",description:"Add drop shadow"},{id:"effect-gradient",icon:Js,label:"Gradient",description:"Create gradients"},{id:"effect-noise",icon:Jr,label:"Noise",description:"Add texture noise"},{id:"color-picker",icon:ms,label:"Color Picker",description:"Pick colors from canvas"},{id:"color-fill",icon:Js,label:"Fill",description:"Fill with color"},{id:"color-gradient",icon:Js,label:"Gradient",description:"Create color gradients"},{id:"color-palette",icon:ys,label:"Palette",description:"Color palette"},{id:"color-history",icon:ci,label:"History",description:"Color history"},{id:"color-swatches",icon:xr,label:"Swatches",description:"Color swatches"},{id:"tool-undo",icon:Sw,label:"Undo",description:"Undo last action"},{id:"tool-redo",icon:vw,label:"Redo",description:"Redo last action"},{id:"tool-copy",icon:On,label:"Copy",description:"Copy selection"},{id:"tool-paste",icon:On,label:"Paste",description:"Paste clipboard"},{id:"tool-clear",icon:lc,label:"Clear",description:"Clear canvas"},{id:"tool-select",icon:ms,label:"Select",description:"Select objects"},{id:"tool-crop",icon:xr,label:"Crop",description:"Crop canvas"},{id:"settings-brush",icon:na,label:"Brush Settings",description:"Configure brush"},{id:"settings-canvas",icon:na,label:"Canvas Settings",description:"Configure canvas"}],stickers:[{id:"minting",icon:uh,label:"Mint Sticker",description:"Create collectible stickers"},{id:"brush-pencil",icon:vg,label:"Pencil",description:"Smooth pencil brush"},{id:"brush-marker",icon:yw,label:"Marker",description:"Bold marker brush"},{id:"brush-texture",icon:Jr,label:"Texture",description:"Textured brush"},{id:"brush-smudge",icon:Fn,label:"Smudge",description:"Blend colors"},{id:"brush-airbrush",icon:Js,label:"Airbrush",description:"Soft airbrush"},{id:"brush-watercolor",icon:Js,label:"Watercolor",description:"Watercolor effect"},{id:"brush-oil",icon:ys,label:"Oil Paint",description:"Oil painting brush"},{id:"brush-charcoal",icon:Hl,label:"Charcoal",description:"Charcoal drawing"},{id:"brush-crayon",icon:xr,label:"Crayon",description:"Waxy crayon effect"},{id:"shape-rect",icon:xr,label:"Rectangle",description:"Draw rectangles"},{id:"shape-circle",icon:dh,label:"Circle",description:"Draw circles"},{id:"shape-triangle",icon:ww,label:"Triangle",description:"Draw triangles"},{id:"shape-polygon",icon:ms,label:"Polygon",description:"Draw polygons"},{id:"shape-line",icon:Hl,label:"Line",description:"Draw straight lines"},{id:"shape-arrow",icon:ms,label:"Arrow",description:"Draw arrows"},{id:"layer-add",icon:Ki,label:"Add Layer",description:"Add new layer"},{id:"layer-duplicate",icon:On,label:"Duplicate",description:"Duplicate layer"},{id:"layer-merge",icon:Ki,label:"Merge",description:"Merge layers"},{id:"layer-flatten",icon:Ki,label:"Flatten",description:"Flatten all layers"},{id:"layer-opacity",icon:bw,label:"Opacity",description:"Adjust layer opacity"},{id:"layer-visibility",icon:ka,label:"Visibility",description:"Toggle layer visibility"},{id:"transform-move",icon:fh,label:"Move",description:"Move objects"},{id:"transform-rotate",icon:ci,label:"Rotate",description:"Rotate objects"},{id:"transform-scale",icon:xr,label:"Scale",description:"Resize objects"},{id:"transform-flip",icon:ci,label:"Flip",description:"Flip objects"},{id:"transform-skew",icon:xr,label:"Skew",description:"Skew objects"},{id:"effect-blur",icon:Fn,label:"Blur",description:"Apply blur effect"},{id:"effect-sharpen",icon:Fn,label:"Sharpen",description:"Sharpen details"},{id:"effect-glow",icon:Jr,label:"Glow",description:"Add glow effect"},{id:"effect-shadow",icon:xr,label:"Shadow",description:"Add drop shadow"},{id:"effect-gradient",icon:Js,label:"Gradient",description:"Create gradients"},{id:"effect-noise",icon:Jr,label:"Noise",description:"Add texture noise"},{id:"color-picker",icon:ms,label:"Color Picker",description:"Pick colors from canvas"},{id:"color-fill",icon:Js,label:"Fill",description:"Fill with color"},{id:"color-gradient",icon:Js,label:"Gradient",description:"Create color gradients"},{id:"color-palette",icon:ys,label:"Palette",description:"Color palette"},{id:"color-history",icon:ci,label:"History",description:"Color history"},{id:"color-swatches",icon:xr,label:"Swatches",description:"Color swatches"},{id:"tool-undo",icon:Sw,label:"Undo",description:"Undo last action"},{id:"tool-redo",icon:vw,label:"Redo",description:"Redo last action"},{id:"tool-copy",icon:On,label:"Copy",description:"Copy selection"},{id:"tool-paste",icon:On,label:"Paste",description:"Paste clipboard"},{id:"tool-clear",icon:lc,label:"Clear",description:"Clear canvas"},{id:"tool-select",icon:ms,label:"Select",description:"Select objects"},{id:"tool-crop",icon:xr,label:"Crop",description:"Crop canvas"},{id:"settings-brush",icon:na,label:"Brush Settings",description:"Configure brush"},{id:"settings-canvas",icon:na,label:"Canvas Settings",description:"Configure canvas"}]};function OA({onOpenFeature:r,activeFeatures:e,onToggleRhymeHighlight:t,onToggleDrawing:s,isRhymeHighlightActive:n=!1,isDrawingActive:o=!1,isStickerMode:l=!1,onEnterStickerMode:d,onExitStickerMode:u,isBarVisible:h=!0,onToggleBarVisibility:p}){const[m,y]=b.useState(null),[x,v]=b.useState(null),[w,j]=b.useState(!1),[C,N]=b.useState("#FF0000"),[k,_]=b.useState(5),[P,D]=b.useState(1),[M,E]=b.useState(1),[R,O]=b.useState("gradient-red-yellow"),[B,L]=b.useState({x:320,y:80}),[$,J]=b.useState(!1),[ce,V]=b.useState({x:0,y:0}),X=ue=>{ue==="stickers"&&!l?(d?.(),y(ue)):m===ue?(ue==="stickers"&&l&&u?.(),y(null)):y(ue)},F=async ue=>{if(v(ue.id),ue.id==="rhyme-highlight"&&t)t();else if(ue.id==="minting")r("minting");else if(l)try{const Ne=await rn(()=>Promise.resolve().then(()=>ai),void 0),we=Ne.ProStickerModule||Ne.default||Ne;console.log("[CategoryToolbar] Module imported:",we),console.log("[CategoryToolbar] selectTool function available:",typeof we.selectTool);let Me=ue.id;if(Me={"brush-pencil":"pencil","brush-marker":"marker","brush-texture":"texture","brush-smudge":"smudge","brush-airbrush":"airbrush","brush-watercolor":"watercolor","brush-oil":"oil","brush-charcoal":"crayon","brush-crayon":"crayon","shape-rect":"rectangle","shape-circle":"circle","shape-triangle":"triangle","shape-polygon":"polygon","shape-line":"line","shape-arrow":"arrow","effect-blur":"blur","effect-sharpen":"sharpen","effect-glow":"glow","effect-shadow":"shadow","effect-noise":"noise","tool-undo":"undo","tool-redo":"redo","tool-copy":"copy","tool-paste":"paste","tool-clear":"clear","tool-select":"select","tool-crop":"crop","color-picker":"colorpicker","color-fill":"fill","transform-move":"move","transform-rotate":"rotate","transform-scale":"scale","transform-flip":"flip"}[Me]||Me,console.log("[CategoryToolbar] Original tool ID:",ue.id,"Mapped to:",Me),typeof we.selectTool=="function"){if(Me==="colorpicker"){Gs(we);return}we.selectTool(Me),v(ue.id),O(Me),vt(`Applied: ${ue.label}`)}else we.toolActions&&typeof we.toolActions[Me]=="function"?(we.toolActions[Me](),v(ue.id),O(Me),vt(`Applied: ${ue.label}`)):(console.warn("[CategoryToolbar] no tool handler for",Me),ee(ue));typeof we.debugStatus=="function"&&we.debugStatus()}catch(Ne){console.error("Tool action failed:",Ne),vt(`Error: ${ue.label}`)}else ee(ue)},ee=async ue=>{try{if(document.querySelector(".pad-container")){const we=await rn(()=>Promise.resolve().then(()=>ai),void 0),Me=we.ProStickerModule||we.default||we;if(typeof Me.selectTool=="function"){let We=ue.id;We.startsWith("brush-")&&(We=We.replace("brush-","")),We.startsWith("shape-")&&(We=We.replace("shape-","")),We.startsWith("layer-")&&(We=We.replace("layer-",""),We==="add"&&(We="addLayer"),We==="visibility"&&(We="toggleVisibility"),We==="opacity"&&(We="setOpacity")),We.startsWith("transform-")&&(We=We.replace("transform-",""),We==="rotate-cw"&&(We="rotateCW"),We==="rotate-ccw"&&(We="rotateCCW"),We==="flip-x"&&(We="flipX"),We==="flip-y"&&(We="flipY")),We.startsWith("effect-")&&(We=We.replace("effect-","")),Me.selectTool(We),v(ue.id),O(We),vt(`Applied: ${ue.label}`);return}}}catch{console.warn("ProStickerModule not available, using fallback behavior")}if(ue.id.startsWith("brush-")){const Ne=ue.id.replace("brush-","");console.log(`Switched to ${Ne} brush`),s&&s(),window.currentBrushType=Ne,j(!0),q(Ne)}else if(ue.id.startsWith("shape-")){const Ne=ue.id.replace("shape-","");console.log(`Drawing ${Ne} shape`),s&&s(),window.currentShapeType=Ne,j(!0),he(Ne)}else if(ue.id.startsWith("layer-")){const Ne=ue.id.replace("layer-","");console.log(`Layer action: ${Ne}`),j(!0),Ne==="add"?fe():Ne==="duplicate"?G():Ne==="merge"?Q():Ne==="flatten"?de():Ne==="visibility"&&me()}else if(ue.id.startsWith("transform-")){const Ne=ue.id.replace("transform-","");console.log(`Transform mode: ${Ne}`),window.currentTransformMode=Ne,j(!0),_e(Ne)}else if(ue.id.startsWith("effect-")){const Ne=ue.id.replace("effect-","");console.log(`Applying ${Ne} effect`),j(!0),Ne==="blur"?Ve():Ne==="sharpen"?be():Ne==="glow"?pe():Ne==="shadow"?re():Ne==="gradient"?ge():Ne==="noise"&&ae()}else if(ue.id.startsWith("color-")){const Ne=ue.id.replace("color-","");console.log(`Color action: ${Ne}`),j(!0),Ne==="picker"?console.log("Color picker selected"):Ne==="fill"?ve():Ne==="gradient"?Re():Ne==="palette"?Pe():Ne==="history"?Je():Ne==="swatches"&&He()}else if(ue.id.startsWith("tool-")){const Ne=ue.id.replace("tool-","");console.log(`Tool action: ${Ne}`),Ne==="undo"?window.undoDrawing&&(window.undoDrawing(),vt("Undid last action")):Ne==="redo"?window.redoDrawing&&(window.redoDrawing(),vt("Redid last action")):Ne==="clear"?window.clearDrawing&&(window.clearDrawing(),vt("Cleared canvas")):Ne==="copy"?le():Ne==="paste"?Ge():Ne==="select"?st():Ne==="crop"&&ct()}else if(ue.id.startsWith("settings-")){const Ne=ue.id.replace("settings-","");console.log(`Opening ${Ne} settings`),j(!0)}else console.log(`Tool clicked: ${ue.label}`),vt(`Tool: ${ue.label}`)},H=ue=>{J(!0),V({x:ue.clientX-B.x,y:ue.clientY-B.y})},z=ue=>{$&&L({x:ue.clientX-ce.x,y:ue.clientY-ce.y})},Z=()=>{J(!1)},q=ue=>{const Ne=document.querySelector("canvas");if(Ne){const we=Ne.getContext("2d");if(we){switch(we.strokeStyle=C,we.lineWidth=k,we.globalAlpha=P,ue){case"pencil":we.lineCap="round",we.lineJoin="round";break;case"marker":we.lineCap="square",we.lineJoin="miter";break;case"airbrush":we.lineCap="round",we.lineJoin="round";break;default:we.lineCap="round",we.lineJoin="round"}window.brushSettings={color:C,size:k,opacity:P,type:ue}}}},oe=()=>{if(x&&x.startsWith("brush-")){const ue=x.replace("brush-","");q(ue)}},he=ue=>{window.drawingMode="shape",window.currentShape=ue},fe=()=>{console.log("Creating new drawing layer")},G=()=>{console.log("Duplicating current layer")},Q=()=>{console.log("Merging all layers")},de=()=>{console.log("Flattening all layers")},me=()=>{console.log("Toggling layer visibility")},_e=ue=>{window.transformMode=ue},Ve=()=>{const ue=document.querySelector("canvas");ue&&(ue.style.filter="blur(2px)",setTimeout(()=>ue.style.filter="",1e3))},be=()=>{const ue=document.querySelector("canvas");ue&&(ue.style.filter="contrast(1.5) brightness(1.1)",setTimeout(()=>ue.style.filter="",1e3))},pe=()=>{const ue=document.querySelector("canvas");ue&&(ue.style.filter="drop-shadow(0 0 10px rgba(255, 255, 255, 0.5))",setTimeout(()=>ue.style.filter="",1e3))},re=()=>{const ue=document.querySelector("canvas");ue&&(ue.style.filter="drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5))",setTimeout(()=>ue.style.filter="",1e3))},ge=()=>{const ue=document.querySelector("canvas");ue&&(ue.style.filter="hue-rotate(90deg) saturate(1.5)",setTimeout(()=>ue.style.filter="",1e3))},ae=()=>{const ue=document.querySelector("canvas");ue&&(ue.style.filter="contrast(1.2) brightness(0.9)",setTimeout(()=>ue.style.filter="",1e3))},ve=()=>{console.log("Filling selection with current color")},Re=()=>{console.log("Creating color gradient")},Pe=()=>{console.log("Opening color palette")},Je=()=>{console.log("Showing color history")},He=()=>{console.log("Opening color swatches")},le=()=>{console.log("Copying selection to clipboard")},Ge=()=>{console.log("Pasting from clipboard")},st=()=>{window.selectionMode=!0},ct=()=>{window.cropMode=!0},vt=ue=>{const Ne=document.createElement("div");if(Ne.textContent=ue,Ne.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      z-index: 9999;
      pointer-events: none;
      animation: fadeInOut 2s ease-in-out;
    `,!document.querySelector("#tool-feedback-styles")){const we=document.createElement("style");we.id="tool-feedback-styles",we.textContent=`
        @keyframes fadeInOut {
          0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
          20% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
          80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
          100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }
      `,document.head.appendChild(we)}document.body.appendChild(Ne),setTimeout(()=>{Ne.parentNode&&Ne.parentNode.removeChild(Ne)},2e3)},jr=ue=>{if(ue.startsWith("gradient-")){const we={"gradient-red-yellow":{start:"#FF6B35",end:"#FFD700"},"gradient-green-blue":{start:"#00B4DB",end:"#4ECDC4"},"gradient-pink-cyan":{start:"#FF69B4",end:"#00CED1"}}[ue];if(we)return i.jsx("div",{className:"gradient-preview",style:{"--gradient-start":we.start,"--gradient-end":we.end}})}return["sparkle","star","confetti"].includes(ue)?i.jsx("div",{className:"particle-preview"}):null},Gs=async ue=>{try{const Ne=document.createElement("input");Ne.type="color",Ne.value=C,Ne.onchange=we=>{const Me=we.target.value;N(Me),typeof ue.setColor=="function"&&ue.setColor(Me),vt(`Color set to ${Me}`)},Ne.click()}catch(Ne){console.error("Color picker failed:",Ne)}},Dt=m?RA[m]:[],hr=()=>{if(!w||!x)return null;const Ne=(we=>we.startsWith("brush-")?"brush":we.startsWith("shape-")?"shape":we.startsWith("layer-")?"layer":we.startsWith("transform-")?"transform":we.startsWith("effect-")?"effect":we.startsWith("color-")?"color":we.startsWith("settings-")?"settings":"default")(x);return i.jsxs("div",{className:"fixed w-64 bg-gray-800/95 backdrop-blur-md border border-gray-600 rounded-lg p-4 z-50 cursor-move",style:{left:`${B.x}px`,top:`${B.y}px`,cursor:$?"grabbing":"grab"},onMouseDown:H,onMouseMove:z,onMouseUp:Z,onMouseLeave:Z,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-white font-medium select-none",children:x.replace(/^(brush-|shape-|layer-|transform-|effect-|color-|settings-)/,"").replace(/-/g," ").replace(/\b\w/g,we=>we.toUpperCase())}),i.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-white cursor-pointer",children:"✕"})]}),Ne==="brush"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-white text-sm mb-2 block",children:"Color"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"color",value:C,onChange:async we=>{if(N(we.target.value),l)try{const Me=await rn(()=>Promise.resolve().then(()=>ai),void 0),We=Me&&Me.ProStickerModule?Me.ProStickerModule:Me&&Me.default?Me.default:Me;typeof We.setBrush=="function"&&We.setBrush(we.target.value,k,P)}catch(Me){console.error("Failed to update brush color:",Me)}else oe()},className:"w-8 h-8 rounded border border-gray-600"}),i.jsx("span",{className:"text-white text-sm",children:C})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-white text-sm mb-2 block",children:["Brush Size: ",k,"px"]}),i.jsx("input",{type:"range",min:"1",max:"50",value:k,onChange:async we=>{if(_(Number(we.target.value)),l)try{const Me=await rn(()=>Promise.resolve().then(()=>ai),void 0),We=Me&&Me.ProStickerModule?Me.ProStickerModule:Me&&Me.default?Me.default:Me;typeof We.setBrushWidth=="function"&&We.setBrushWidth(Number(we.target.value))}catch(Me){console.error("Failed to update brush size:",Me)}else oe()},className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-white text-sm mb-2 block",children:["Opacity: ",Math.round(P*100),"%"]}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:P,onChange:async we=>{if(D(Number(we.target.value)),l)try{const Me=await rn(()=>Promise.resolve().then(()=>ai),void 0),We=Me&&Me.ProStickerModule?Me.ProStickerModule:Me&&Me.default?Me.default:Me;typeof We.setBrushOpacity=="function"&&We.setBrushOpacity(Number(we.target.value))}catch(Me){console.error("Failed to update brush opacity:",Me)}else oe()},className:"w-full"})]}),i.jsx("div",{className:"pt-2",children:i.jsxs("div",{className:"w-full h-8 rounded border border-gray-600 flex items-center justify-center text-white text-sm",style:{backgroundColor:C,opacity:P},children:["Preview: ",x.replace("brush-","")," brush"]})})]}),Ne==="shape"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-white text-sm mb-2 block",children:"Fill Color"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"color",value:C,onChange:we=>{N(we.target.value),window.shapeSettings={fillColor:we.target.value,strokeWidth:k,fillOpacity:P,type:x.replace("shape-","")}},className:"w-8 h-8 rounded border border-gray-600"}),i.jsx("span",{className:"text-white text-sm",children:C})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-white text-sm mb-2 block",children:["Stroke Width: ",k,"px"]}),i.jsx("input",{type:"range",min:"1",max:"20",value:k,onChange:we=>{_(Number(we.target.value)),window.shapeSettings&&(window.shapeSettings.strokeWidth=Number(we.target.value))},className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-white text-sm mb-2 block",children:["Fill Opacity: ",Math.round(P*100),"%"]}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:P,onChange:we=>{D(Number(we.target.value)),window.shapeSettings&&(window.shapeSettings.fillOpacity=Number(we.target.value))},className:"w-full"})]}),i.jsx("div",{className:"pt-2",children:i.jsxs("div",{className:"w-full h-8 rounded border border-gray-600 flex items-center justify-center text-white text-sm",style:{backgroundColor:C,opacity:P},children:["Shape: ",x.replace("shape-","")]})})]}),Ne==="layer"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-white text-sm mb-2 block",children:["Layer Opacity: ",Math.round(M*100),"%"]}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:M,onChange:we=>E(Number(we.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded text-sm",children:"Add New Layer"}),i.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded text-sm",children:"Duplicate Layer"}),i.jsx("button",{className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded text-sm",children:"Merge Layers"}),i.jsx("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded text-sm",children:"Flatten All"})]})]}),Ne==="effect"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-white text-sm mb-2 block",children:["Effect Intensity: ",k,"%"]}),i.jsx("input",{type:"range",min:"1",max:"100",value:k,onChange:we=>_(Number(we.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-white text-sm mb-2 block",children:["Effect Opacity: ",Math.round(P*100),"%"]}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:P,onChange:we=>D(Number(we.target.value)),className:"w-full"})]}),i.jsx("div",{className:"pt-2",children:i.jsxs("div",{className:"w-full h-8 rounded border border-gray-600 flex items-center justify-center text-white text-sm",children:["Effect: ",x.replace("effect-","")]})})]}),Ne==="color"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-white text-sm mb-2 block",children:"Primary Color"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"color",value:C,onChange:async we=>{if(N(we.target.value),l)try{const Me=await rn(()=>Promise.resolve().then(()=>ai),void 0),We=Me&&Me.ProStickerModule?Me.ProStickerModule:Me&&Me.default?Me.default:Me;typeof We.setBrush=="function"&&We.setBrush(we.target.value,k,P)}catch(Me){console.error("Failed to update color:",Me)}else window.currentColor=we.target.value,oe()},className:"w-8 h-8 rounded border border-gray-600"}),i.jsx("span",{className:"text-white text-sm",children:C})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFFFFF","#000000"].map(we=>i.jsx("button",{onClick:async()=>{if(N(we),l)try{const Me=await rn(()=>Promise.resolve().then(()=>ai),void 0),We=Me&&Me.ProStickerModule?Me.ProStickerModule:Me&&Me.default?Me.default:Me;typeof We.setBrush=="function"&&We.setBrush(we,k,P)}catch(Me){console.error("Failed to update color:",Me)}else window.currentColor=we,oe()},className:"w-8 h-8 rounded border border-gray-600 hover:scale-110 transition-transform",style:{backgroundColor:we}},we))}),i.jsx("div",{className:"pt-2",children:i.jsxs("div",{className:"w-full h-8 rounded border border-gray-600 flex items-center justify-center text-white text-sm",style:{backgroundColor:C},children:["Color: ",x.replace("color-","")]})})]}),Ne==="settings"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-white text-sm mb-2 block",children:"Canvas Quality"}),i.jsxs("select",{className:"w-full bg-gray-700 text-white border border-gray-600 rounded px-3 py-2",children:[i.jsx("option",{children:"High (2x)"}),i.jsx("option",{children:"Medium (1.5x)"}),i.jsx("option",{children:"Low (1x)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-white text-sm mb-2 block",children:"Grid Size"}),i.jsx("input",{type:"range",min:"5",max:"50",value:"20",className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center text-white text-sm",children:[i.jsx("input",{type:"checkbox",className:"mr-2"}),"Show Grid"]}),i.jsxs("label",{className:"flex items-center text-white text-sm",children:[i.jsx("input",{type:"checkbox",className:"mr-2"}),"Snap to Grid"]}),i.jsxs("label",{className:"flex items-center text-white text-sm",children:[i.jsx("input",{type:"checkbox",className:"mr-2"}),"Show Rulers"]})]})]})]})};return h?i.jsxs(ws,{children:[hr(),i.jsx("div",{className:"fixed z-30 transition-all duration-300",style:{right:"24px",top:"50%",transform:"translateY(-50%)"},children:i.jsxs("div",{className:`dropsource-toolbar-enhanced flex flex-col transition-all duration-300 ${l?"border-2 border-yellow-400 shadow-lg shadow-yellow-400/20":""}`,style:{gap:"calc(var(--spacing-unit) * 0.75)",width:m?"80px":"64px",padding:"calc(var(--spacing-unit) * 1.5)",maxHeight:"80vh",overflow:"hidden"},children:[i.jsx("div",{className:"flex justify-between items-center mb-2",children:i.jsx("button",{onClick:p,className:"dropsource-toolbar-button p-1",style:{width:"24px",height:"8px",borderRadius:"4px",padding:"0"},children:i.jsx("div",{className:"w-3 h-1 rounded-full bg-current mx-auto"})})}),i.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto dropsource-custom-scrollbar",children:m?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{m==="stickers"&&l&&u?.(),y(null)},className:"dropsource-toolbar-button mb-2",style:{width:"48px",height:"32px",padding:"0",borderRadius:"8px",fontSize:"var(--text-xs)"},children:"←"}),Dt.map(ue=>{const Ne=ue.icon,we=ue.isToggle?ue.id==="rhyme-highlight"?n:ue.id==="drawing-tools"?o:!1:e.has(ue.id),Me=x===ue.id,We=ue.id==="minting",Uo=We?{width:"48px",height:"48px",padding:"0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%)",border:"2px solid #FFD700",boxShadow:"0 0 20px rgba(255, 215, 0, 0.5), inset 0 0 10px rgba(255, 255, 255, 0.2)",animation:"golden-pulse 2s ease-in-out infinite"}:{width:"48px",height:"48px",padding:"0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:Me?"#4A5568":"transparent",border:Me?"2px solid #718096":"2px solid transparent"};return i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>F(ue),className:`dropsource-toolbar-button ${we?"active dropsource-pulse-border":""} ${Me?"tool-active":""}`,style:Uo,children:i.jsxs("div",{className:"flex items-center justify-center w-full h-full",children:[jr(ue.id),i.jsx(Ne,{className:`w-5 h-5 ${We?"text-white":"dropsource-icon-outlined"}`})]})})}),i.jsx(St,{side:"left",className:"dropsource-card",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",style:{fontSize:"var(--text-sm)"},children:ue.label}),i.jsx("p",{className:"text-xs opacity-75",children:ue.description}),Me&&i.jsx("p",{className:"text-xs text-green-400 mt-1",children:"✓ Active"})]})})]},ue.id)})]}):i.jsxs(i.Fragment,{children:[AA.map(ue=>{const Ne=ue.icon,we=ue.id==="stickers"&&l;return i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>X(ue.id),className:`dropsource-toolbar-button ${we?"active":""}`,style:{width:"48px",height:"48px",padding:"0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(Ne,{className:"w-5 h-5 dropsource-icon-outlined"})})}),i.jsx(St,{side:"left",className:"dropsource-card",children:i.jsx("div",{children:i.jsx("p",{className:"font-medium",style:{fontSize:"var(--text-sm)"},children:ue.label})})})]},ue.id)}),i.jsx("div",{className:"w-full h-px bg-gray-600 my-2 opacity-30"}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>r("ai"),className:`dropsource-toolbar-button ${e.has("ai")?"active":""}`,style:{width:"48px",height:"48px",padding:"0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(yg,{className:"w-5 h-5 dropsource-icon-outlined"})})}),i.jsx(St,{side:"left",className:"dropsource-card",children:i.jsx("div",{children:i.jsx("p",{className:"font-medium",style:{fontSize:"var(--text-sm)"},children:"AI Assist"})})})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>r("buddy"),className:`dropsource-toolbar-button ${e.has("buddy")?"active":""}`,style:{width:"48px",height:"48px",padding:"0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(ss,{className:"w-5 h-5 dropsource-icon-outlined"})})}),i.jsx(St,{side:"left",className:"dropsource-card",children:i.jsx("div",{children:i.jsx("p",{className:"font-medium",style:{fontSize:"var(--text-sm)"},children:"Collaborate"})})})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>r("minting"),className:`dropsource-toolbar-button ${e.has("minting")?"active":""}`,style:{width:"48px",height:"48px",padding:"0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(uh,{className:"w-5 h-5 dropsource-icon-outlined"})})}),i.jsx(St,{side:"left",className:"dropsource-card",children:i.jsx("div",{children:i.jsx("p",{className:"font-medium",style:{fontSize:"var(--text-sm)"},children:"Mint Sticker"})})})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>r("projects"),className:`dropsource-toolbar-button ${e.has("projects")?"active":""}`,style:{width:"48px",height:"48px",padding:"0",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(Y0,{className:"w-5 h-5 dropsource-icon-outlined"})})}),i.jsx(St,{side:"left",className:"dropsource-card",children:i.jsx("div",{children:i.jsx("p",{className:"font-medium",style:{fontSize:"var(--text-sm)"},children:"Projects"})})})]})]})})]})})]}):i.jsx(ws,{children:i.jsx("div",{className:"fixed z-30 cursor-pointer",style:{right:"8px",top:"50%",transform:"translateY(-50%)"},onClick:p,children:i.jsx("div",{className:"w-1 h-24 bg-gradient-to-b from-transparent via-blue-400 to-transparent opacity-60 hover:opacity-100 transition-opacity rounded-l"})})})}const Q0=b.createContext({});function ey(r){const e=b.useRef(null);return e.current===null&&(e.current=r()),e.current}const ty=typeof window<"u",ck=ty?b.useLayoutEffect:b.useEffect,Zh=b.createContext(null);function ry(r,e){r.indexOf(e)===-1&&r.push(e)}function sy(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const Hn=(r,e,t)=>t>e?e:t<r?r:t;let ny=()=>{};const Un={},dk=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function uk(r){return typeof r=="object"&&r!==null}const hk=r=>/^0[^.\s]+$/u.test(r);function oy(r){let e;return()=>(e===void 0&&(e=r()),e)}const Ss=r=>r,FA=(r,e)=>t=>e(r(t)),Pc=(...r)=>r.reduce(FA),uc=(r,e,t)=>{const s=e-r;return s===0?1:(t-r)/s};class iy{constructor(){this.subscriptions=[]}add(e){return ry(this.subscriptions,e),()=>sy(this.subscriptions,e)}notify(e,t,s){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,t,s);else for(let o=0;o<n;o++){const l=this.subscriptions[o];l&&l(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fn=r=>r*1e3,pn=r=>r/1e3;function fk(r,e){return e?r*(1e3/e):0}const pk=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,LA=1e-7,zA=12;function IA(r,e,t,s,n){let o,l,d=0;do l=e+(t-e)/2,o=pk(l,s,n)-r,o>0?t=l:e=l;while(Math.abs(o)>LA&&++d<zA);return l}function Dc(r,e,t,s){if(r===e&&t===s)return Ss;const n=o=>IA(o,0,1,r,t);return o=>o===0||o===1?o:pk(n(o),e,s)}const mk=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,gk=r=>e=>1-r(1-e),yk=Dc(.33,1.53,.69,.99),ay=gk(yk),xk=mk(ay),vk=r=>(r*=2)<1?.5*ay(r):.5*(2-Math.pow(2,-10*(r-1))),ly=r=>1-Math.sin(Math.acos(r)),bk=gk(ly),wk=mk(ly),BA=Dc(.42,0,1,1),VA=Dc(0,0,.58,1),Sk=Dc(.42,0,.58,1),WA=r=>Array.isArray(r)&&typeof r[0]!="number",Ck=r=>Array.isArray(r)&&typeof r[0]=="number",HA={linear:Ss,easeIn:BA,easeInOut:Sk,easeOut:VA,circIn:ly,circInOut:wk,circOut:bk,backIn:ay,backInOut:xk,backOut:yk,anticipate:vk},UA=r=>typeof r=="string",Fw=r=>{if(Ck(r)){ny(r.length===4);const[e,t,s,n]=r;return Dc(e,t,s,n)}else if(UA(r))return HA[r];return r},qd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $A(r,e){let t=new Set,s=new Set,n=!1,o=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function u(p){l.has(p)&&(h.schedule(p),r()),p(d)}const h={schedule:(p,m=!1,y=!1)=>{const v=y&&n?t:s;return m&&l.add(p),v.has(p)||v.add(p),p},cancel:p=>{s.delete(p),l.delete(p)},process:p=>{if(d=p,n){o=!0;return}n=!0,[t,s]=[s,t],t.forEach(u),t.clear(),n=!1,o&&(o=!1,h.process(p))}};return h}const GA=40;function kk(r,e){let t=!1,s=!0;const n={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=qd.reduce((k,_)=>(k[_]=$A(o),k),{}),{setup:d,read:u,resolveKeyframes:h,preUpdate:p,update:m,preRender:y,render:x,postRender:v}=l,w=()=>{const k=Un.useManualTiming?n.timestamp:performance.now();t=!1,Un.useManualTiming||(n.delta=s?1e3/60:Math.max(Math.min(k-n.timestamp,GA),1)),n.timestamp=k,n.isProcessing=!0,d.process(n),u.process(n),h.process(n),p.process(n),m.process(n),y.process(n),x.process(n),v.process(n),n.isProcessing=!1,t&&e&&(s=!1,r(w))},j=()=>{t=!0,s=!0,n.isProcessing||r(w)};return{schedule:qd.reduce((k,_)=>{const P=l[_];return k[_]=(D,M=!1,E=!1)=>(t||j(),P.schedule(D,M,E)),k},{}),cancel:k=>{for(let _=0;_<qd.length;_++)l[qd[_]].cancel(k)},state:n,steps:l}}const{schedule:Ct,cancel:Ro,state:cr,steps:ym}=kk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ss,!0);let $u;function YA(){$u=void 0}const Vr={now:()=>($u===void 0&&Vr.set(cr.isProcessing||Un.useManualTiming?cr.timestamp:performance.now()),$u),set:r=>{$u=r,queueMicrotask(YA)}},jk=r=>e=>typeof e=="string"&&e.startsWith(r),cy=jk("--"),XA=jk("var(--"),dy=r=>XA(r)?KA.test(r.split("/*")[0].trim()):!1,KA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,La={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},hc={...La,transform:r=>Hn(0,1,r)},Zd={...La,default:1},Xl=r=>Math.round(r*1e5)/1e5,uy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qA(r){return r==null}const ZA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hy=(r,e)=>t=>!!(typeof t=="string"&&ZA.test(t)&&t.startsWith(r)||e&&!qA(t)&&Object.prototype.hasOwnProperty.call(t,e)),Nk=(r,e,t)=>s=>{if(typeof s!="string")return s;const[n,o,l,d]=s.match(uy);return{[r]:parseFloat(n),[e]:parseFloat(o),[t]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},JA=r=>Hn(0,255,r),xm={...La,transform:r=>Math.round(JA(r))},hi={test:hy("rgb","red"),parse:Nk("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:s=1})=>"rgba("+xm.transform(r)+", "+xm.transform(e)+", "+xm.transform(t)+", "+Xl(hc.transform(s))+")"};function QA(r){let e="",t="",s="",n="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),s=r.substring(5,7),n=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),s=r.substring(3,4),n=r.substring(4,5),e+=e,t+=t,s+=s,n+=n),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}}const Pg={test:hy("#"),parse:QA,transform:hi.transform},Ac=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),jo=Ac("deg"),mn=Ac("%"),Xe=Ac("px"),eR=Ac("vh"),tR=Ac("vw"),Lw={...mn,parse:r=>mn.parse(r)/100,transform:r=>mn.transform(r*100)},ia={test:hy("hsl","hue"),parse:Nk("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(r)+", "+mn.transform(Xl(e))+", "+mn.transform(Xl(t))+", "+Xl(hc.transform(s))+")"},Yt={test:r=>hi.test(r)||Pg.test(r)||ia.test(r),parse:r=>hi.test(r)?hi.parse(r):ia.test(r)?ia.parse(r):Pg.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?hi.transform(r):ia.transform(r),getAnimatableNone:r=>{const e=Yt.parse(r);return e.alpha=0,Yt.transform(e)}},rR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sR(r){return isNaN(r)&&typeof r=="string"&&(r.match(uy)?.length||0)+(r.match(rR)?.length||0)>0}const Tk="number",_k="color",nR="var",oR="var(",zw="${}",iR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fc(r){const e=r.toString(),t=[],s={color:[],number:[],var:[]},n=[];let o=0;const d=e.replace(iR,u=>(Yt.test(u)?(s.color.push(o),n.push(_k),t.push(Yt.parse(u))):u.startsWith(oR)?(s.var.push(o),n.push(nR),t.push(u)):(s.number.push(o),n.push(Tk),t.push(parseFloat(u))),++o,zw)).split(zw);return{values:t,split:d,indexes:s,types:n}}function Mk(r){return fc(r).values}function Ek(r){const{split:e,types:t}=fc(r),s=e.length;return n=>{let o="";for(let l=0;l<s;l++)if(o+=e[l],n[l]!==void 0){const d=t[l];d===Tk?o+=Xl(n[l]):d===_k?o+=Yt.transform(n[l]):o+=n[l]}return o}}const aR=r=>typeof r=="number"?0:Yt.test(r)?Yt.getAnimatableNone(r):r;function lR(r){const e=Mk(r);return Ek(r)(e.map(aR))}const Oo={test:sR,parse:Mk,createTransformer:Ek,getAnimatableNone:lR};function vm(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function cR({hue:r,saturation:e,lightness:t,alpha:s}){r/=360,e/=100,t/=100;let n=0,o=0,l=0;if(!e)n=o=l=t;else{const d=t<.5?t*(1+e):t+e-t*e,u=2*t-d;n=vm(u,d,r+1/3),o=vm(u,d,r),l=vm(u,d,r-1/3)}return{red:Math.round(n*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function xh(r,e){return t=>t>0?e:r}const Et=(r,e,t)=>r+(e-r)*t,bm=(r,e,t)=>{const s=r*r,n=t*(e*e-s)+s;return n<0?0:Math.sqrt(n)},dR=[Pg,hi,ia],uR=r=>dR.find(e=>e.test(r));function Iw(r){const e=uR(r);if(!e)return!1;let t=e.parse(r);return e===ia&&(t=cR(t)),t}const Bw=(r,e)=>{const t=Iw(r),s=Iw(e);if(!t||!s)return xh(r,e);const n={...t};return o=>(n.red=bm(t.red,s.red,o),n.green=bm(t.green,s.green,o),n.blue=bm(t.blue,s.blue,o),n.alpha=Et(t.alpha,s.alpha,o),hi.transform(n))},Dg=new Set(["none","hidden"]);function hR(r,e){return Dg.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function fR(r,e){return t=>Et(r,e,t)}function fy(r){return typeof r=="number"?fR:typeof r=="string"?dy(r)?xh:Yt.test(r)?Bw:gR:Array.isArray(r)?Pk:typeof r=="object"?Yt.test(r)?Bw:pR:xh}function Pk(r,e){const t=[...r],s=t.length,n=r.map((o,l)=>fy(o)(o,e[l]));return o=>{for(let l=0;l<s;l++)t[l]=n[l](o);return t}}function pR(r,e){const t={...r,...e},s={};for(const n in t)r[n]!==void 0&&e[n]!==void 0&&(s[n]=fy(r[n])(r[n],e[n]));return n=>{for(const o in s)t[o]=s[o](n);return t}}function mR(r,e){const t=[],s={color:0,var:0,number:0};for(let n=0;n<e.values.length;n++){const o=e.types[n],l=r.indexes[o][s[o]],d=r.values[l]??0;t[n]=d,s[o]++}return t}const gR=(r,e)=>{const t=Oo.createTransformer(e),s=fc(r),n=fc(e);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?Dg.has(r)&&!n.values.length||Dg.has(e)&&!s.values.length?hR(r,e):Pc(Pk(mR(s,n),n.values),t):xh(r,e)};function Dk(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?Et(r,e,t):fy(r)(r,e)}const yR=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>Ct.update(e,t),stop:()=>Ro(e),now:()=>cr.isProcessing?cr.timestamp:Vr.now()}},Ak=(r,e,t=10)=>{let s="";const n=Math.max(Math.round(e/t),2);for(let o=0;o<n;o++)s+=Math.round(r(o/(n-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vh=2e4;function py(r){let e=0;const t=50;let s=r.next(e);for(;!s.done&&e<vh;)e+=t,s=r.next(e);return e>=vh?1/0:e}function xR(r,e=100,t){const s=t({...r,keyframes:[0,e]}),n=Math.min(py(s),vh);return{type:"keyframes",ease:o=>s.next(n*o).value/e,duration:pn(n)}}const vR=5;function Rk(r,e,t){const s=Math.max(e-vR,0);return fk(t-r(s),e-s)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wm=.001;function bR({duration:r=Rt.duration,bounce:e=Rt.bounce,velocity:t=Rt.velocity,mass:s=Rt.mass}){let n,o,l=1-e;l=Hn(Rt.minDamping,Rt.maxDamping,l),r=Hn(Rt.minDuration,Rt.maxDuration,pn(r)),l<1?(n=h=>{const p=h*l,m=p*r,y=p-t,x=Ag(h,l),v=Math.exp(-m);return wm-y/x*v},o=h=>{const m=h*l*r,y=m*t+t,x=Math.pow(l,2)*Math.pow(h,2)*r,v=Math.exp(-m),w=Ag(Math.pow(h,2),l);return(-n(h)+wm>0?-1:1)*((y-x)*v)/w}):(n=h=>{const p=Math.exp(-h*r),m=(h-t)*r+1;return-wm+p*m},o=h=>{const p=Math.exp(-h*r),m=(t-h)*(r*r);return p*m});const d=5/r,u=SR(n,o,d);if(r=fn(r),isNaN(u))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:r};{const h=Math.pow(u,2)*s;return{stiffness:h,damping:l*2*Math.sqrt(s*h),duration:r}}}const wR=12;function SR(r,e,t){let s=t;for(let n=1;n<wR;n++)s=s-r(s)/e(s);return s}function Ag(r,e){return r*Math.sqrt(1-e*e)}const CR=["duration","bounce"],kR=["stiffness","damping","mass"];function Vw(r,e){return e.some(t=>r[t]!==void 0)}function jR(r){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...r};if(!Vw(r,kR)&&Vw(r,CR))if(r.visualDuration){const t=r.visualDuration,s=2*Math.PI/(t*1.2),n=s*s,o=2*Hn(.05,1,1-(r.bounce||0))*Math.sqrt(n);e={...e,mass:Rt.mass,stiffness:n,damping:o}}else{const t=bR(r);e={...e,...t,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function bh(r=Rt.visualDuration,e=Rt.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:s,restDelta:n}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],d={done:!1,value:o},{stiffness:u,damping:h,mass:p,duration:m,velocity:y,isResolvedFromDuration:x}=jR({...t,velocity:-pn(t.velocity||0)}),v=y||0,w=h/(2*Math.sqrt(u*p)),j=l-o,C=pn(Math.sqrt(u/p)),N=Math.abs(j)<5;s||(s=N?Rt.restSpeed.granular:Rt.restSpeed.default),n||(n=N?Rt.restDelta.granular:Rt.restDelta.default);let k;if(w<1){const P=Ag(C,w);k=D=>{const M=Math.exp(-w*C*D);return l-M*((v+w*C*j)/P*Math.sin(P*D)+j*Math.cos(P*D))}}else if(w===1)k=P=>l-Math.exp(-C*P)*(j+(v+C*j)*P);else{const P=C*Math.sqrt(w*w-1);k=D=>{const M=Math.exp(-w*C*D),E=Math.min(P*D,300);return l-M*((v+w*C*j)*Math.sinh(E)+P*j*Math.cosh(E))/P}}const _={calculatedDuration:x&&m||null,next:P=>{const D=k(P);if(x)d.done=P>=m;else{let M=P===0?v:0;w<1&&(M=P===0?fn(v):Rk(k,P,D));const E=Math.abs(M)<=s,R=Math.abs(l-D)<=n;d.done=E&&R}return d.value=d.done?l:D,d},toString:()=>{const P=Math.min(py(_),vh),D=Ak(M=>_.next(P*M).value,P,30);return P+"ms "+D},toTransition:()=>{}};return _}bh.applyToOptions=r=>{const e=xR(r,100,bh);return r.ease=e.ease,r.duration=fn(e.duration),r.type="keyframes",r};function Rg({keyframes:r,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:l,min:d,max:u,restDelta:h=.5,restSpeed:p}){const m=r[0],y={done:!1,value:m},x=E=>d!==void 0&&E<d||u!==void 0&&E>u,v=E=>d===void 0?u:u===void 0||Math.abs(d-E)<Math.abs(u-E)?d:u;let w=t*e;const j=m+w,C=l===void 0?j:l(j);C!==j&&(w=C-m);const N=E=>-w*Math.exp(-E/s),k=E=>C+N(E),_=E=>{const R=N(E),O=k(E);y.done=Math.abs(R)<=h,y.value=y.done?C:O};let P,D;const M=E=>{x(y.value)&&(P=E,D=bh({keyframes:[y.value,v(y.value)],velocity:Rk(k,E,y.value),damping:n,stiffness:o,restDelta:h,restSpeed:p}))};return M(0),{calculatedDuration:null,next:E=>{let R=!1;return!D&&P===void 0&&(R=!0,_(E),M(E)),P!==void 0&&E>=P?D.next(E-P):(!R&&_(E),y)}}}function NR(r,e,t){const s=[],n=t||Un.mix||Dk,o=r.length-1;for(let l=0;l<o;l++){let d=n(r[l],r[l+1]);if(e){const u=Array.isArray(e)?e[l]||Ss:e;d=Pc(u,d)}s.push(d)}return s}function TR(r,e,{clamp:t=!0,ease:s,mixer:n}={}){const o=r.length;if(ny(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=r[0]===r[1];r[0]>r[o-1]&&(r=[...r].reverse(),e=[...e].reverse());const d=NR(e,s,n),u=d.length,h=p=>{if(l&&p<r[0])return e[0];let m=0;if(u>1)for(;m<r.length-2&&!(p<r[m+1]);m++);const y=uc(r[m],r[m+1],p);return d[m](y)};return t?p=>h(Hn(r[0],r[o-1],p)):h}function _R(r,e){const t=r[r.length-1];for(let s=1;s<=e;s++){const n=uc(0,e,s);r.push(Et(t,1,n))}}function MR(r){const e=[0];return _R(e,r.length-1),e}function ER(r,e){return r.map(t=>t*e)}function PR(r,e){return r.map(()=>e||Sk).splice(0,r.length-1)}function Kl({duration:r=300,keyframes:e,times:t,ease:s="easeInOut"}){const n=WA(s)?s.map(Fw):Fw(s),o={done:!1,value:e[0]},l=ER(t&&t.length===e.length?t:MR(e),r),d=TR(l,e,{ease:Array.isArray(n)?n:PR(e,n)});return{calculatedDuration:r,next:u=>(o.value=d(u),o.done=u>=r,o)}}const DR=r=>r!==null;function my(r,{repeat:e,repeatType:t="loop"},s,n=1){const o=r.filter(DR),d=n<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!d||s===void 0?o[d]:s}const AR={decay:Rg,inertia:Rg,tween:Kl,keyframes:Kl,spring:bh};function Ok(r){typeof r.type=="string"&&(r.type=AR[r.type])}class gy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const RR=r=>r/100;class yy extends gy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Vr.now()&&this.tick(Vr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ok(e);const{type:t=Kl,repeat:s=0,repeatDelay:n=0,repeatType:o,velocity:l=0}=e;let{keyframes:d}=e;const u=t||Kl;u!==Kl&&typeof d[0]!="number"&&(this.mixKeyframes=Pc(RR,Dk(d[0],d[1])),d=[0,100]);const h=u({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...d].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=py(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+n,this.totalDuration=this.resolvedDuration*(s+1)-n,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:n,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:x,type:v,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?C<0:C>n;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let k=this.currentTime,_=s;if(m){const E=Math.min(this.currentTime,n)/d;let R=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(y==="reverse"?(O=1-O,x&&(O-=x/d)):y==="mirror"&&(_=l)),k=Hn(0,1,O)*d}const P=N?{done:!1,value:p[0]}:_.next(k);o&&(P.value=o(P.value));let{done:D}=P;!N&&u!==null&&(D=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return M&&v!==Rg&&(P.value=my(p,this.options,j,this.speed)),w&&w(P.value),M&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return pn(this.calculatedDuration)}get time(){return pn(this.currentTime)}set time(e){e=fn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=pn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=yR,startTime:t}=this.options;this.driver||(this.driver=e(n=>this.tick(n))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function OR(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const fi=r=>r*180/Math.PI,Og=r=>{const e=fi(Math.atan2(r[1],r[0]));return Fg(e)},FR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Og,rotateZ:Og,skewX:r=>fi(Math.atan(r[1])),skewY:r=>fi(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Fg=r=>(r=r%360,r<0&&(r+=360),r),Ww=Og,Hw=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),Uw=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),LR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hw,scaleY:Uw,scale:r=>(Hw(r)+Uw(r))/2,rotateX:r=>Fg(fi(Math.atan2(r[6],r[5]))),rotateY:r=>Fg(fi(Math.atan2(-r[2],r[0]))),rotateZ:Ww,rotate:Ww,skewX:r=>fi(Math.atan(r[4])),skewY:r=>fi(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Lg(r){return r.includes("scale")?1:0}function zg(r,e){if(!r||r==="none")return Lg(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,n;if(t)s=LR,n=t;else{const d=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=FR,n=d}if(!n)return Lg(e);const o=s[e],l=n[1].split(",").map(IR);return typeof o=="function"?o(l):l[o]}const zR=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return zg(t,e)};function IR(r){return parseFloat(r.trim())}const za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ia=new Set(za),$w=r=>r===La||r===Xe,BR=new Set(["x","y","z"]),VR=za.filter(r=>!BR.has(r));function WR(r){const e=[];return VR.forEach(t=>{const s=r.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const yi={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>zg(e,"x"),y:(r,{transform:e})=>zg(e,"y")};yi.translateX=yi.x;yi.translateY=yi.y;const xi=new Set;let Ig=!1,Bg=!1,Vg=!1;function Fk(){if(Bg){const r=Array.from(xi).filter(s=>s.needsMeasurement),e=new Set(r.map(s=>s.element)),t=new Map;e.forEach(s=>{const n=WR(s);n.length&&(t.set(s,n),s.render())}),r.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const n=t.get(s);n&&n.forEach(([o,l])=>{s.getValue(o)?.set(l)})}),r.forEach(s=>s.measureEndState()),r.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Bg=!1,Ig=!1,xi.forEach(r=>r.complete(Vg)),xi.clear()}function Lk(){xi.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Bg=!0)})}function HR(){Vg=!0,Lk(),Fk(),Vg=!1}class xy{constructor(e,t,s,n,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=n,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(xi.add(this),Ig||(Ig=!0,Ct.read(Lk),Ct.resolveKeyframes(Fk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:n}=this;if(e[0]===null){const o=n?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&t){const d=s.readValue(t,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),n&&o===void 0&&n.set(e[0])}OR(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xi.delete(this)}cancel(){this.state==="scheduled"&&(xi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UR=r=>r.startsWith("--");function $R(r,e,t){UR(e)?r.style.setProperty(e,t):r.style[e]=t}const GR=oy(()=>window.ScrollTimeline!==void 0),YR={};function XR(r,e){const t=oy(r);return()=>YR[e]??t()}const zk=XR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ul=([r,e,t,s])=>`cubic-bezier(${r}, ${e}, ${t}, ${s})`,Gw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function Ik(r,e){if(r)return typeof r=="function"?zk()?Ak(r,e):"ease-out":Ck(r)?Ul(r):Array.isArray(r)?r.map(t=>Ik(t,e)||Gw.easeOut):Gw[r]}function KR(r,e,t,{delay:s=0,duration:n=300,repeat:o=0,repeatType:l="loop",ease:d="easeOut",times:u}={},h=void 0){const p={[e]:t};u&&(p.offset=u);const m=Ik(d,n);Array.isArray(m)&&(p.easing=m);const y={delay:s,duration:n,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),r.animate(p,y)}function Bk(r){return typeof r=="function"&&"applyToOptions"in r}function qR({type:r,...e}){return Bk(r)&&zk()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ZR extends gy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:n,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:d,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,ny(typeof e.type!="string");const h=qR(e);this.animation=KR(t,s,n,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=my(n,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):$R(t,s,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return pn(Number(e))}get time(){return pn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=fn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&GR()?(this.animation.timeline=e,Ss):t(this)}}const Vk={anticipate:vk,backInOut:xk,circInOut:wk};function JR(r){return r in Vk}function QR(r){typeof r.ease=="string"&&JR(r.ease)&&(r.ease=Vk[r.ease])}const Yw=10;class eO extends ZR{constructor(e){QR(e),Ok(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:n,element:o,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new yy({...l,autoplay:!1}),u=fn(this.finishedTime??this.time);t.setWithVelocity(d.sample(u-Yw).value,d.sample(u).value,Yw),d.stop()}}const Xw=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Oo.test(r)||r==="0")&&!r.startsWith("url("));function tO(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function rO(r,e,t,s){const n=r[0];if(n===null)return!1;if(e==="display"||e==="visibility")return!0;const o=r[r.length-1],l=Xw(n,e),d=Xw(o,e);return!l||!d?!1:tO(r)||(t==="spring"||Bk(t))&&s}function Wg(r){r.duration=0,r.type}const sO=new Set(["opacity","clipPath","filter","transform"]),nO=oy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oO(r){const{motionValue:e,name:t,repeatDelay:s,repeatType:n,damping:o,type:l}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return nO()&&t&&sO.has(t)&&(t!=="transform"||!h)&&!u&&!s&&n!=="mirror"&&o!==0&&l!=="inertia"}const iO=40;class aO extends gy{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:l="loop",keyframes:d,name:u,motionValue:h,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vr.now();const y={autoplay:e,delay:t,type:s,repeat:n,repeatDelay:o,repeatType:l,name:u,motionValue:h,element:p,...m},x=p?.KeyframeResolver||xy;this.keyframeResolver=new x(d,(v,w,j)=>this.onKeyframesResolved(v,w,y,!j),u,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,n){this.keyframeResolver=void 0;const{name:o,type:l,velocity:d,delay:u,isHandoff:h,onUpdate:p}=s;this.resolvedAt=Vr.now(),rO(e,o,l,d)||((Un.instantAnimations||!u)&&p?.(my(e,s,t)),e[0]=e[e.length-1],Wg(s),s.repeat=0);const y={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>iO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},x=!h&&oO(y)?new eO({...y,element:y.motionValue.owner.current}):new yy(y);x.finished.then(()=>this.notifyFinished()).catch(Ss),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HR()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const lO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cO(r){const e=lO.exec(r);if(!e)return[,];const[,t,s,n]=e;return[`--${t??s}`,n]}function Wk(r,e,t=1){const[s,n]=cO(r);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const l=o.trim();return dk(l)?parseFloat(l):l}return dy(n)?Wk(n,e,t+1):n}function vy(r,e){return r?.[e]??r?.default??r}const Hk=new Set(["width","height","top","left","right","bottom",...za]),dO={test:r=>r==="auto",parse:r=>r},Uk=r=>e=>e.test(r),$k=[La,Xe,mn,jo,tR,eR,dO],Kw=r=>$k.find(Uk(r));function uO(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||hk(r):!0}const hO=new Set(["brightness","contrast","saturate","opacity"]);function fO(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[s]=t.match(uy)||[];if(!s)return r;const n=t.replace(s,"");let o=hO.has(e)?1:0;return s!==t&&(o*=100),e+"("+o+n+")"}const pO=/\b([a-z-]*)\(.*?\)/gu,Hg={...Oo,getAnimatableNone:r=>{const e=r.match(pO);return e?e.map(fO).join(" "):r}},qw={...La,transform:Math.round},mO={rotate:jo,rotateX:jo,rotateY:jo,rotateZ:jo,scale:Zd,scaleX:Zd,scaleY:Zd,scaleZ:Zd,skew:jo,skewX:jo,skewY:jo,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:hc,originX:Lw,originY:Lw,originZ:Xe},by={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe,...mO,zIndex:qw,fillOpacity:hc,strokeOpacity:hc,numOctaves:qw},gO={...by,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Hg,WebkitFilter:Hg},Gk=r=>gO[r];function Yk(r,e){let t=Gk(r);return t!==Hg&&(t=Oo),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const yO=new Set(["auto","none","0"]);function xO(r,e,t){let s=0,n;for(;s<r.length&&!n;){const o=r[s];typeof o=="string"&&!yO.has(o)&&fc(o).values.length&&(n=r[s]),s++}if(n&&t)for(const o of e)r[o]=Yk(t,n)}class vO extends xy{constructor(e,t,s,n,o){super(e,t,s,n,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),dy(h))){const p=Wk(h,t.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Hk.has(s)||e.length!==2)return;const[n,o]=e,l=Kw(n),d=Kw(o);if(l!==d)if($w(l)&&$w(d))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else yi[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let n=0;n<e.length;n++)(e[n]===null||uO(e[n]))&&s.push(n);s.length&&xO(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];n!==void 0&&e.getValue(s,n).jump(n,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const n=e.getValue(t);n&&n.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=yi[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,u])=>{e.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function bO(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let s=document;const n=t?.[r]??s.querySelectorAll(r);return n?Array.from(n):[]}return Array.from(r)}const Xk=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function Kk(r){return uk(r)&&"offsetHeight"in r}const Zw=30,wO=r=>!isNaN(parseFloat(r));class SO{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const n=Vr.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new iy);const s=this.events[e].add(t);return e==="change"?()=>{s(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Zw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Zw);return fk(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ta(r,e){return new SO(r,e)}const{schedule:wy}=kk(queueMicrotask,!1),Rs={x:!1,y:!1};function qk(){return Rs.x||Rs.y}function CO(r){return r==="x"||r==="y"?Rs[r]?null:(Rs[r]=!0,()=>{Rs[r]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function Zk(r,e){const t=bO(r),s=new AbortController,n={passive:!0,...e,signal:s.signal};return[t,n,()=>s.abort()]}function Jw(r){return!(r.pointerType==="touch"||qk())}function kO(r,e,t={}){const[s,n,o]=Zk(r,t),l=d=>{if(!Jw(d))return;const{target:u}=d,h=e(u,d);if(typeof h!="function"||!u)return;const p=m=>{Jw(m)&&(h(m),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,n)};return s.forEach(d=>{d.addEventListener("pointerenter",l,n)}),o}const Jk=(r,e)=>e?r===e?!0:Jk(r,e.parentElement):!1,Sy=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,jO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NO(r){return jO.has(r.tagName)||r.tabIndex!==-1}const Gu=new WeakSet;function Qw(r){return e=>{e.key==="Enter"&&r(e)}}function Sm(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TO=(r,e)=>{const t=r.currentTarget;if(!t)return;const s=Qw(()=>{if(Gu.has(t))return;Sm(t,"down");const n=Qw(()=>{Sm(t,"up")}),o=()=>Sm(t,"cancel");t.addEventListener("keyup",n,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function e1(r){return Sy(r)&&!qk()}function _O(r,e,t={}){const[s,n,o]=Zk(r,t),l=d=>{const u=d.currentTarget;if(!e1(d))return;Gu.add(u);const h=e(u,d),p=(x,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Gu.has(u)&&Gu.delete(u),e1(x)&&typeof h=="function"&&h(x,{success:v})},m=x=>{p(x,u===window||u===document||t.useGlobalTarget||Jk(u,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",m,n),window.addEventListener("pointercancel",y,n)};return s.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",l,n),Kk(d)&&(d.addEventListener("focus",h=>TO(h,n)),!NO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function Qk(r){return uk(r)&&"ownerSVGElement"in r}function MO(r){return Qk(r)&&r.tagName==="svg"}const vr=r=>!!(r&&r.getVelocity),EO=[...$k,Yt,Oo],PO=r=>EO.find(Uk(r)),Cy=b.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function t1(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function DO(...r){return e=>{let t=!1;const s=r.map(n=>{const o=t1(n,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let n=0;n<s.length;n++){const o=s[n];typeof o=="function"?o():t1(r[n],null)}}}}function AO(...r){return b.useCallback(DO(...r),r)}class RO extends b.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=t.offsetParent,n=Kk(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=n-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function OO({children:r,isPresent:e,anchorX:t,root:s}){const n=b.useId(),o=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=b.useContext(Cy),u=AO(o,r?.ref);return b.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:y,right:x}=l.current;if(e||!o.current||!h||!p)return;const v=t==="left"?`left: ${y}`:`right: ${x}`;o.current.dataset.motionPopId=n;const w=document.createElement("style");d&&(w.nonce=d);const j=s??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${v}px !important;
            top: ${m}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[e]),i.jsx(RO,{isPresent:e,childRef:o,sizeRef:l,children:b.cloneElement(r,{ref:u})})}const FO=({children:r,initial:e,isPresent:t,onExitComplete:s,custom:n,presenceAffectsLayout:o,mode:l,anchorX:d,root:u})=>{const h=ey(LO),p=b.useId();let m=!0,y=b.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:t,custom:n,onExitComplete:x=>{h.set(x,!0);for(const v of h.values())if(!v)return;s&&s()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[t,h,s]);return o&&m&&(y={...y}),b.useMemo(()=>{h.forEach((x,v)=>h.set(v,!1))},[t]),b.useEffect(()=>{!t&&!h.size&&s&&s()},[t]),l==="popLayout"&&(r=i.jsx(OO,{isPresent:t,anchorX:d,root:u,children:r})),i.jsx(Zh.Provider,{value:y,children:r})};function LO(){return new Map}function ej(r=!0){const e=b.useContext(Zh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,o=b.useId();b.useEffect(()=>{if(r)return n(o)},[r]);const l=b.useCallback(()=>r&&s&&s(o),[o,s,r]);return!t&&s?[!1,l]:[!0]}const Jd=r=>r.key||"";function r1(r){const e=[];return b.Children.forEach(r,t=>{b.isValidElement(t)&&e.push(t)}),e}const Ug=({children:r,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:n=!0,mode:o="sync",propagate:l=!1,anchorX:d="left",root:u})=>{const[h,p]=ej(l),m=b.useMemo(()=>r1(r),[r]),y=l&&!h?[]:m.map(Jd),x=b.useRef(!0),v=b.useRef(m),w=ey(()=>new Map),[j,C]=b.useState(m),[N,k]=b.useState(m);ck(()=>{x.current=!1,v.current=m;for(let D=0;D<N.length;D++){const M=Jd(N[D]);y.includes(M)?w.delete(M):w.get(M)!==!0&&w.set(M,!1)}},[N,y.length,y.join("-")]);const _=[];if(m!==j){let D=[...m];for(let M=0;M<N.length;M++){const E=N[M],R=Jd(E);y.includes(R)||(D.splice(M,0,E),_.push(E))}return o==="wait"&&_.length&&(D=_),k(r1(D)),C(m),null}const{forceRender:P}=b.useContext(Q0);return i.jsx(i.Fragment,{children:N.map(D=>{const M=Jd(D),E=l&&!h?!1:m===N||y.includes(M),R=()=>{if(w.has(M))w.set(M,!0);else return;let O=!0;w.forEach(B=>{B||(O=!1)}),O&&(P?.(),k(v.current),l&&p?.(),s&&s())};return i.jsx(FO,{isPresent:E,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:n,mode:o,root:u,onExitComplete:E?void 0:R,anchorX:d,children:D},M)})})},tj=b.createContext({strict:!1}),s1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_a={};for(const r in s1)_a[r]={isEnabled:e=>s1[r].some(t=>!!e[t])};function zO(r){for(const e in r)_a[e]={..._a[e],...r[e]}}const IO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wh(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||IO.has(r)}let rj=r=>!wh(r);function BO(r){typeof r=="function"&&(rj=e=>e.startsWith("on")?!wh(e):r(e))}try{BO(require("@emotion/is-prop-valid").default)}catch{}function VO(r,e,t){const s={};for(const n in r)n==="values"&&typeof r.values=="object"||(rj(n)||t===!0&&wh(n)||!e&&!wh(n)||r.draggable&&n.startsWith("onDrag"))&&(s[n]=r[n]);return s}const Jh=b.createContext({});function Qh(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function pc(r){return typeof r=="string"||Array.isArray(r)}const ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jy=["initial",...ky];function ef(r){return Qh(r.animate)||jy.some(e=>pc(r[e]))}function sj(r){return!!(ef(r)||r.variants)}function WO(r,e){if(ef(r)){const{initial:t,animate:s}=r;return{initial:t===!1||pc(t)?t:void 0,animate:pc(s)?s:void 0}}return r.inherit!==!1?e:{}}function HO(r){const{initial:e,animate:t}=WO(r,b.useContext(Jh));return b.useMemo(()=>({initial:e,animate:t}),[n1(e),n1(t)])}function n1(r){return Array.isArray(r)?r.join(" "):r}const mc={};function UO(r){for(const e in r)mc[e]=r[e],cy(e)&&(mc[e].isCSSVariable=!0)}function nj(r,{layout:e,layoutId:t}){return Ia.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!mc[r]||r==="opacity")}const $O={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GO=za.length;function YO(r,e,t){let s="",n=!0;for(let o=0;o<GO;o++){const l=za[o],d=r[l];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(l.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||t){const h=Xk(d,by[l]);if(!u){n=!1;const p=$O[l]||l;s+=`${p}(${h}) `}t&&(e[l]=h)}}return s=s.trim(),t?s=t(e,n?"":s):n&&(s="none"),s}function Ny(r,e,t){const{style:s,vars:n,transformOrigin:o}=r;let l=!1,d=!1;for(const u in e){const h=e[u];if(Ia.has(u)){l=!0;continue}else if(cy(u)){n[u]=h;continue}else{const p=Xk(h,by[u]);u.startsWith("origin")?(d=!0,o[u]=p):s[u]=p}}if(e.transform||(l||t?s.transform=YO(e,r.transform,t):s.transform&&(s.transform="none")),d){const{originX:u="50%",originY:h="50%",originZ:p=0}=o;s.transformOrigin=`${u} ${h} ${p}`}}const Ty=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oj(r,e,t){for(const s in e)!vr(e[s])&&!nj(s,t)&&(r[s]=e[s])}function XO({transformTemplate:r},e){return b.useMemo(()=>{const t=Ty();return Ny(t,e,r),Object.assign({},t.vars,t.style)},[e])}function KO(r,e){const t=r.style||{},s={};return oj(s,t,r),Object.assign(s,XO(r,e)),s}function qO(r,e){const t={},s=KO(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=s,t}const ZO={offset:"stroke-dashoffset",array:"stroke-dasharray"},JO={offset:"strokeDashoffset",array:"strokeDasharray"};function QO(r,e,t=1,s=0,n=!0){r.pathLength=1;const o=n?ZO:JO;r[o.offset]=Xe.transform(-s);const l=Xe.transform(e),d=Xe.transform(t);r[o.array]=`${l} ${d}`}function ij(r,{attrX:e,attrY:t,attrScale:s,pathLength:n,pathSpacing:o=1,pathOffset:l=0,...d},u,h,p){if(Ny(r,d,h),u){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:m,style:y}=r;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),s!==void 0&&(m.scale=s),n!==void 0&&QO(m,n,o,l,!1)}const aj=()=>({...Ty(),attrs:{}}),lj=r=>typeof r=="string"&&r.toLowerCase()==="svg";function eF(r,e,t,s){const n=b.useMemo(()=>{const o=aj();return ij(o,e,lj(s),r.transformTemplate,r.style),{...o.attrs,style:{...o.style}}},[e]);if(r.style){const o={};oj(o,r.style,r),n.style={...o,...n.style}}return n}const tF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _y(r){return typeof r!="string"||r.includes("-")?!1:!!(tF.indexOf(r)>-1||/[A-Z]/u.test(r))}function rF(r,e,t,{latestValues:s},n,o=!1){const d=(_y(r)?eF:qO)(e,s,n,r),u=VO(e,typeof r=="string",o),h=r!==b.Fragment?{...u,...d,ref:t}:{},{children:p}=e,m=b.useMemo(()=>vr(p)?p.get():p,[p]);return b.createElement(r,{...h,children:m})}function o1(r){const e=[{},{}];return r?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function My(r,e,t,s){if(typeof e=="function"){const[n,o]=o1(s);e=e(t!==void 0?t:r.custom,n,o)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[n,o]=o1(s);e=e(t!==void 0?t:r.custom,n,o)}return e}function Yu(r){return vr(r)?r.get():r}function sF({scrapeMotionValuesFromProps:r,createRenderState:e},t,s,n){return{latestValues:nF(t,s,n,r),renderState:e()}}function nF(r,e,t,s){const n={},o=s(r,{});for(const y in o)n[y]=Yu(o[y]);let{initial:l,animate:d}=r;const u=ef(r),h=sj(r);e&&h&&!u&&r.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let p=t?t.initial===!1:!1;p=p||l===!1;const m=p?d:l;if(m&&typeof m!="boolean"&&!Qh(m)){const y=Array.isArray(m)?m:[m];for(let x=0;x<y.length;x++){const v=My(r,y[x]);if(v){const{transitionEnd:w,transition:j,...C}=v;for(const N in C){let k=C[N];if(Array.isArray(k)){const _=p?k.length-1:0;k=k[_]}k!==null&&(n[N]=k)}for(const N in w)n[N]=w[N]}}}return n}const cj=r=>(e,t)=>{const s=b.useContext(Jh),n=b.useContext(Zh),o=()=>sF(r,e,s,n);return t?o():ey(o)};function Ey(r,e,t){const{style:s}=r,n={};for(const o in s)(vr(s[o])||e.style&&vr(e.style[o])||nj(o,r)||t?.getValue(o)?.liveStyle!==void 0)&&(n[o]=s[o]);return n}const oF=cj({scrapeMotionValuesFromProps:Ey,createRenderState:Ty});function dj(r,e,t){const s=Ey(r,e,t);for(const n in r)if(vr(r[n])||vr(e[n])){const o=za.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[o]=r[n]}return s}const iF=cj({scrapeMotionValuesFromProps:dj,createRenderState:aj}),aF=Symbol.for("motionComponentSymbol");function aa(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function lF(r,e,t){return b.useCallback(s=>{s&&r.onMount&&r.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):aa(t)&&(t.current=s))},[e])}const Py=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cF="framerAppearId",uj="data-"+Py(cF),hj=b.createContext({});function dF(r,e,t,s,n){const{visualElement:o}=b.useContext(Jh),l=b.useContext(tj),d=b.useContext(Zh),u=b.useContext(Cy).reducedMotion,h=b.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(r,{visualState:e,parent:o,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const p=h.current,m=b.useContext(hj);p&&!p.projection&&n&&(p.type==="html"||p.type==="svg")&&uF(h.current,t,n,m);const y=b.useRef(!1);b.useInsertionEffect(()=>{p&&y.current&&p.update(t,d)});const x=t[uj],v=b.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return ck(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),v.current=!1),p.enteringChildren=void 0)}),p}function uF(r,e,t,s){const{layoutId:n,layout:o,drag:l,dragConstraints:d,layoutScroll:u,layoutRoot:h,layoutCrossfade:p}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:fj(r.parent)),r.projection.setOptions({layoutId:n,layout:o,alwaysMeasureLayout:!!l||d&&aa(d),visualElement:r,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:u,layoutRoot:h})}function fj(r){if(r)return r.options.allowProjection!==!1?r.projection:fj(r.parent)}function Cm(r,{forwardMotionProps:e=!1}={},t,s){t&&zO(t);const n=_y(r)?iF:oF;function o(d,u){let h;const p={...b.useContext(Cy),...d,layoutId:hF(d)},{isStatic:m}=p,y=HO(d),x=n(d,m);if(!m&&ty){fF();const v=pF(p);h=v.MeasureLayout,y.visualElement=dF(r,x,p,s,v.ProjectionNode)}return i.jsxs(Jh.Provider,{value:y,children:[h&&y.visualElement?i.jsx(h,{visualElement:y.visualElement,...p}):null,rF(r,d,lF(x,y.visualElement,u),x,m,e)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const l=b.forwardRef(o);return l[aF]=r,l}function hF({layoutId:r}){const e=b.useContext(Q0).id;return e&&r!==void 0?e+"-"+r:r}function fF(r,e){b.useContext(tj).strict}function pF(r){const{drag:e,layout:t}=_a;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function mF(r,e){if(typeof Proxy>"u")return Cm;const t=new Map,s=(o,l)=>Cm(o,l,r,e),n=(o,l)=>s(o,l);return new Proxy(n,{get:(o,l)=>l==="create"?s:(t.has(l)||t.set(l,Cm(l,void 0,r,e)),t.get(l))})}function pj({top:r,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:r,max:s}}}function gF({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function yF(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),s=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function km(r){return r===void 0||r===1}function $g({scale:r,scaleX:e,scaleY:t}){return!km(r)||!km(e)||!km(t)}function di(r){return $g(r)||mj(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function mj(r){return i1(r.x)||i1(r.y)}function i1(r){return r&&r!=="0%"}function Sh(r,e,t){const s=r-t,n=e*s;return t+n}function a1(r,e,t,s,n){return n!==void 0&&(r=Sh(r,n,s)),Sh(r,t,s)+e}function Gg(r,e=0,t=1,s,n){r.min=a1(r.min,e,t,s,n),r.max=a1(r.max,e,t,s,n)}function gj(r,{x:e,y:t}){Gg(r.x,e.translate,e.scale,e.originPoint),Gg(r.y,t.translate,t.scale,t.originPoint)}const l1=.999999999999,c1=1.0000000000001;function xF(r,e,t,s=!1){const n=t.length;if(!n)return;e.x=e.y=1;let o,l;for(let d=0;d<n;d++){o=t[d],l=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ca(r,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,gj(r,l)),s&&di(o.latestValues)&&ca(r,o.latestValues))}e.x<c1&&e.x>l1&&(e.x=1),e.y<c1&&e.y>l1&&(e.y=1)}function la(r,e){r.min=r.min+e,r.max=r.max+e}function d1(r,e,t,s,n=.5){const o=Et(r.min,r.max,n);Gg(r,e,t,o,s)}function ca(r,e){d1(r.x,e.x,e.scaleX,e.scale,e.originX),d1(r.y,e.y,e.scaleY,e.scale,e.originY)}function yj(r,e){return pj(yF(r.getBoundingClientRect(),e))}function vF(r,e,t){const s=yj(r,t),{scroll:n}=e;return n&&(la(s.x,n.offset.x),la(s.y,n.offset.y)),s}const u1=()=>({translate:0,scale:1,origin:0,originPoint:0}),da=()=>({x:u1(),y:u1()}),h1=()=>({min:0,max:0}),It=()=>({x:h1(),y:h1()}),Yg={current:null},xj={current:!1};function bF(){if(xj.current=!0,!!ty)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yg.current=r.matches;r.addEventListener("change",e),e()}else Yg.current=!1}const wF=new WeakMap;function SF(r,e,t){for(const s in e){const n=e[s],o=t[s];if(vr(n))r.addValue(s,n);else if(vr(o))r.addValue(s,Ta(n,{owner:r}));else if(o!==n)if(r.hasValue(s)){const l=r.getValue(s);l.liveStyle===!0?l.jump(n):l.hasAnimated||l.set(n)}else{const l=r.getStaticValue(s);r.addValue(s,Ta(l!==void 0?l:n,{owner:r}))}}for(const s in t)e[s]===void 0&&r.removeValue(s);return e}const f1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CF{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:o,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Vr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ct.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=ef(t),this.isVariantNode=sj(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in m){const x=m[y];u[y]!==void 0&&vr(x)&&x.set(u[y])}}mount(e){this.current=e,wF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),xj.current||bF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ro(this.notifyUpdate),Ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ia.has(e);s&&this.onBindTransform&&this.onBindTransform();const n=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _a){const t=_a[e];if(!t)continue;const{isEnabled:s,Feature:n}=t;if(!this.features[e]&&n&&s(this.props)&&(this.features[e]=new n(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<f1.length;s++){const n=f1[s];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const o="on"+n,l=e[o];l&&(this.propEventSubscriptions[n]=this.on(n,l))}this.prevMotionValues=SF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=Ta(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(dk(s)||hk(s))?s=parseFloat(s):!PO(s)&&Oo.test(t)&&(s=Yk(e,t)),this.setBaseTarget(e,vr(s)?s.get():s)),vr(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const o=My(this.props,t,this.presenceContext?.custom);o&&(s=o[e])}if(t&&s!==void 0)return s;const n=this.getBaseTargetFromProps(this.props,e);return n!==void 0&&!vr(n)?n:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new iy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){wy.render(this.render)}}class vj extends CF{constructor(){super(...arguments),this.KeyframeResolver=vO}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function bj(r,{style:e,vars:t},s,n){const o=r.style;let l;for(l in e)o[l]=e[l];n?.applyProjectionStyles(o,s);for(l in t)o.setProperty(l,t[l])}function kF(r){return window.getComputedStyle(r)}class jF extends vj{constructor(){super(...arguments),this.type="html",this.renderInstance=bj}readValueFromInstance(e,t){if(Ia.has(t))return this.projection?.isProjecting?Lg(t):zR(e,t);{const s=kF(e),n=(cy(t)?s.getPropertyValue(t):s[t])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yj(e,t)}build(e,t,s){Ny(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Ey(e,t,s)}}const wj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NF(r,e,t,s){bj(r,e,void 0,s);for(const n in e.attrs)r.setAttribute(wj.has(n)?n:Py(n),e.attrs[n])}class TF extends vj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ia.has(t)){const s=Gk(t);return s&&s.default||0}return t=wj.has(t)?t:Py(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return dj(e,t,s)}build(e,t,s){ij(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,n){NF(e,t,s,n)}mount(e){this.isSVGTag=lj(e.tagName),super.mount(e)}}const _F=(r,e)=>_y(r)?new TF(e):new jF(e,{allowProjection:r!==b.Fragment});function ma(r,e,t){const s=r.getProps();return My(s,e,t!==void 0?t:s.custom,r)}const Xg=r=>Array.isArray(r);function MF(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Ta(t))}function EF(r){return Xg(r)?r[r.length-1]||0:r}function PF(r,e){const t=ma(r,e);let{transitionEnd:s={},transition:n={},...o}=t||{};o={...o,...s};for(const l in o){const d=EF(o[l]);MF(r,l,d)}}function DF(r){return!!(vr(r)&&r.add)}function Kg(r,e){const t=r.getValue("willChange");if(DF(t))return t.add(e);if(!t&&Un.WillChange){const s=new Un.WillChange("auto");r.addValue("willChange",s),s.add(e)}}function Sj(r){return r.props[uj]}const AF=r=>r!==null;function RF(r,{repeat:e,repeatType:t="loop"},s){const n=r.filter(AF),o=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[o]}const OF={type:"spring",stiffness:500,damping:25,restSpeed:10},FF=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),LF={type:"keyframes",duration:.8},zF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IF=(r,{keyframes:e})=>e.length>2?LF:Ia.has(r)?r.startsWith("scale")?FF(e[1]):OF:zF;function BF({when:r,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:n,repeat:o,repeatType:l,repeatDelay:d,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const Dy=(r,e,t,s={},n,o)=>l=>{const d=vy(s,r)||{},u=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-fn(u);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:y=>{e.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:r,motionValue:e,element:o?void 0:n};BF(d)||Object.assign(p,IF(r,p)),p.duration&&(p.duration=fn(p.duration)),p.repeatDelay&&(p.repeatDelay=fn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Wg(p),p.delay===0&&(m=!0)),(Un.instantAnimations||Un.skipAnimations)&&(m=!0,Wg(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,m&&!o&&e.get()!==void 0){const y=RF(p.keyframes,d);if(y!==void 0){Ct.update(()=>{p.onUpdate(y),p.onComplete()});return}}return d.isSync?new yy(p):new aO(p)};function VF({protectedKeys:r,needsAnimating:e},t){const s=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function Cj(r,e,{delay:t=0,transitionOverride:s,type:n}={}){let{transition:o=r.getDefaultTransition(),transitionEnd:l,...d}=e;s&&(o=s);const u=[],h=n&&r.animationState&&r.animationState.getState()[n];for(const p in d){const m=r.getValue(p,r.latestValues[p]??null),y=d[p];if(y===void 0||h&&VF(h,p))continue;const x={delay:t,...vy(o||{},p)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===v&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=Sj(r);if(C){const N=window.MotionHandoffAnimation(C,p,Ct);N!==null&&(x.startTime=N,w=!0)}}Kg(r,p),m.start(Dy(p,m,y,r.shouldReduceMotion&&Hk.has(p)?{type:!1}:x,r,w));const j=m.animation;j&&u.push(j)}return l&&Promise.all(u).then(()=>{Ct.update(()=>{l&&PF(r,l)})}),u}function kj(r,e,t,s=0,n=1){const o=Array.from(r).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),l=r.size,d=(l-1)*s;return typeof t=="function"?t(o,l):n===1?o*s:d-o*s}function qg(r,e,t={}){const s=ma(r,e,t.type==="exit"?r.presenceContext?.custom:void 0);let{transition:n=r.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(n=t.transitionOverride);const o=s?()=>Promise.all(Cj(r,s,t)):()=>Promise.resolve(),l=r.variantChildren&&r.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:m}=n;return WF(r,e,u,h,p,m,t)}:()=>Promise.resolve(),{when:d}=n;if(d){const[u,h]=d==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(t.delay)])}function WF(r,e,t=0,s=0,n=0,o=1,l){const d=[];for(const u of r.variantChildren)u.notify("AnimationStart",e),d.push(qg(u,e,{...l,delay:t+(typeof s=="function"?0:s)+kj(r.variantChildren,u,s,n,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(d)}function HF(r,e,t={}){r.notify("AnimationStart",e);let s;if(Array.isArray(e)){const n=e.map(o=>qg(r,o,t));s=Promise.all(n)}else if(typeof e=="string")s=qg(r,e,t);else{const n=typeof e=="function"?ma(r,e,t.custom):e;s=Promise.all(Cj(r,n,t))}return s.then(()=>{r.notify("AnimationComplete",e)})}function jj(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let s=0;s<t;s++)if(e[s]!==r[s])return!1;return!0}const UF=jy.length;function Nj(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?Nj(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<UF;t++){const s=jy[t],n=r.props[s];(pc(n)||n===!1)&&(e[s]=n)}return e}const $F=[...ky].reverse(),GF=ky.length;function YF(r){return e=>Promise.all(e.map(({animation:t,options:s})=>HF(r,t,s)))}function XF(r){let e=YF(r),t=p1(),s=!0;const n=u=>(h,p)=>{const m=ma(r,p,u==="exit"?r.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:x,...v}=m;h={...h,...v,...x}}return h};function o(u){e=u(r)}function l(u){const{props:h}=r,p=Nj(r.parent)||{},m=[],y=new Set;let x={},v=1/0;for(let j=0;j<GF;j++){const C=$F[j],N=t[C],k=h[C]!==void 0?h[C]:p[C],_=pc(k),P=C===u?N.isActive:null;P===!1&&(v=j);let D=k===p[C]&&k!==h[C]&&_;if(D&&s&&r.manuallyAnimateOnMount&&(D=!1),N.protectedKeys={...x},!N.isActive&&P===null||!k&&!N.prevProp||Qh(k)||typeof k=="boolean")continue;const M=KF(N.prevProp,k);let E=M||C===u&&N.isActive&&!D&&_||j>v&&_,R=!1;const O=Array.isArray(k)?k:[k];let B=O.reduce(n(C),{});P===!1&&(B={});const{prevResolvedValues:L={}}=N,$={...L,...B},J=X=>{E=!0,y.has(X)&&(R=!0,y.delete(X)),N.needsAnimating[X]=!0;const F=r.getValue(X);F&&(F.liveStyle=!1)};for(const X in $){const F=B[X],ee=L[X];if(x.hasOwnProperty(X))continue;let H=!1;Xg(F)&&Xg(ee)?H=!jj(F,ee):H=F!==ee,H?F!=null?J(X):y.add(X):F!==void 0&&y.has(X)?J(X):N.protectedKeys[X]=!0}N.prevProp=k,N.prevResolvedValues=B,N.isActive&&(x={...x,...B}),s&&r.blockInitialAnimation&&(E=!1);const ce=D&&M;E&&(!ce||R)&&m.push(...O.map(X=>{const F={type:C};if(typeof X=="string"&&s&&!ce&&r.manuallyAnimateOnMount&&r.parent){const{parent:ee}=r,H=ma(ee,X);if(ee.enteringChildren&&H){const{delayChildren:z}=H.transition||{};F.delay=kj(ee.enteringChildren,r,z)}}return{animation:X,options:F}}))}if(y.size){const j={};if(typeof h.initial!="boolean"){const C=ma(r,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(j.transition=C.transition)}y.forEach(C=>{const N=r.getBaseTarget(C),k=r.getValue(C);k&&(k.liveStyle=!0),j[C]=N??null}),m.push({animation:j})}let w=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!r.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(m):Promise.resolve()}function d(u,h){if(t[u].isActive===h)return Promise.resolve();r.variantChildren?.forEach(m=>m.animationState?.setActive(u,h)),t[u].isActive=h;const p=l(u);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:l,setActive:d,setAnimateFunction:o,getState:()=>t,reset:()=>{t=p1(),s=!0}}}function KF(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!jj(e,r):!1}function ii(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p1(){return{animate:ii(!0),whileInView:ii(),whileHover:ii(),whileTap:ii(),whileDrag:ii(),whileFocus:ii(),exit:ii()}}class Bo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qF extends Bo{constructor(e){super(e),e.animationState||(e.animationState=XF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZF=0;class JF extends Bo{constructor(){super(...arguments),this.id=ZF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const QF={animation:{Feature:qF},exit:{Feature:JF}};function gc(r,e,t,s={passive:!0}){return r.addEventListener(e,t,s),()=>r.removeEventListener(e,t)}function Rc(r){return{point:{x:r.pageX,y:r.pageY}}}const eL=r=>e=>Sy(e)&&r(e,Rc(e));function ql(r,e,t,s){return gc(r,e,eL(t),s)}const Tj=1e-4,tL=1-Tj,rL=1+Tj,_j=.01,sL=0-_j,nL=0+_j;function Pr(r){return r.max-r.min}function oL(r,e,t){return Math.abs(r-e)<=t}function m1(r,e,t,s=.5){r.origin=s,r.originPoint=Et(e.min,e.max,r.origin),r.scale=Pr(t)/Pr(e),r.translate=Et(t.min,t.max,r.origin)-r.originPoint,(r.scale>=tL&&r.scale<=rL||isNaN(r.scale))&&(r.scale=1),(r.translate>=sL&&r.translate<=nL||isNaN(r.translate))&&(r.translate=0)}function Zl(r,e,t,s){m1(r.x,e.x,t.x,s?s.originX:void 0),m1(r.y,e.y,t.y,s?s.originY:void 0)}function g1(r,e,t){r.min=t.min+e.min,r.max=r.min+Pr(e)}function iL(r,e,t){g1(r.x,e.x,t.x),g1(r.y,e.y,t.y)}function y1(r,e,t){r.min=e.min-t.min,r.max=r.min+Pr(e)}function Jl(r,e,t){y1(r.x,e.x,t.x),y1(r.y,e.y,t.y)}function ps(r){return[r("x"),r("y")]}const Mj=({current:r})=>r?r.ownerDocument.defaultView:null,x1=(r,e)=>Math.abs(r-e);function aL(r,e){const t=x1(r.x,e.x),s=x1(r.y,e.y);return Math.sqrt(t**2+s**2)}class Ej{constructor(e,t,{transformPagePoint:s,contextWindow:n=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Nm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,v=aL(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!v)return;const{point:w}=y,{timestamp:j}=cr;this.history.push({...w,timestamp:j});const{onStart:C,onMove:N}=this.handlers;x||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=jm(x,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Nm(y.type==="pointercancel"?this.lastMoveEventInfo:jm(x,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,C),w&&w(y,C)},!Sy(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=n||window;const d=Rc(e),u=jm(d,this.transformPagePoint),{point:h}=u,{timestamp:p}=cr;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=t;m&&m(e,Nm(u,this.history)),this.removeListeners=Pc(ql(this.contextWindow,"pointermove",this.handlePointerMove),ql(this.contextWindow,"pointerup",this.handlePointerUp),ql(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ro(this.updatePoint)}}function jm(r,e){return e?{point:e(r.point)}:r}function v1(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Nm({point:r},e){return{point:r,delta:v1(r,Pj(e)),offset:v1(r,lL(e)),velocity:cL(e,.1)}}function lL(r){return r[0]}function Pj(r){return r[r.length-1]}function cL(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,s=null;const n=Pj(r);for(;t>=0&&(s=r[t],!(n.timestamp-s.timestamp>fn(e)));)t--;if(!s)return{x:0,y:0};const o=pn(n.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(n.x-s.x)/o,y:(n.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function dL(r,{min:e,max:t},s){return e!==void 0&&r<e?r=s?Et(e,r,s.min):Math.max(r,e):t!==void 0&&r>t&&(r=s?Et(t,r,s.max):Math.min(r,t)),r}function b1(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function uL(r,{top:e,left:t,bottom:s,right:n}){return{x:b1(r.x,t,n),y:b1(r.y,e,s)}}function w1(r,e){let t=e.min-r.min,s=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,s]=[s,t]),{min:t,max:s}}function hL(r,e){return{x:w1(r.x,e.x),y:w1(r.y,e.y)}}function fL(r,e){let t=.5;const s=Pr(r),n=Pr(e);return n>s?t=uc(e.min,e.max-s,r.min):s>n&&(t=uc(r.min,r.max-n,e.min)),Hn(0,1,t)}function pL(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const Zg=.35;function mL(r=Zg){return r===!1?r=0:r===!0&&(r=Zg),{x:S1(r,"left","right"),y:S1(r,"top","bottom")}}function S1(r,e,t){return{min:C1(r,e),max:C1(r,t)}}function C1(r,e){return typeof r=="number"?r:r[e]||0}const gL=new WeakMap;class yL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Rc(m).point)},l=(m,y)=>{const{drag:x,dragPropagation:v,onDragStart:w}=this.getProps();if(x&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CO(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ps(C=>{let N=this.getAxisMotionValue(C).get()||0;if(mn.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const _=k.layout.layoutBox[C];_&&(N=Pr(_)*(parseFloat(N)/100))}}this.originPoint[C]=N}),w&&Ct.postRender(()=>w(m,y)),Kg(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:x,dragDirectionLock:v,onDirectionLock:w,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=y;if(v&&this.currentDirection===null){this.currentDirection=xL(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),j&&j(m,y)},u=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>ps(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Ej(e,{onSessionStart:o,onStart:l,onMove:d,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:Mj(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,n=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!n||!s)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Ct.postRender(()=>d(s,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:n}=this.getProps();if(!s||!Qd(e,n,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=dL(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;e&&aa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=uL(s.layoutBox,e):this.constraints=!1,this.elastic=mL(t),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ps(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=pL(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!aa(e))return!1;const s=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=vF(s,n.root,this.visualElement.getTransformPagePoint());let l=hL(n.layout.layoutBox,o);if(t){const d=t(gF(l));this.hasMutatedConstraints=!!d,d&&(l=pj(d))}return l}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:n,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},h=ps(p=>{if(!Qd(p,t,this.currentDirection))return;let m=u&&u[p]||{};l&&(m={min:0,max:0});const y=n?200:1e6,x=n?40:1e7,v={type:"inertia",velocity:s?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,v)});return Promise.all(h).then(d)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Kg(this.visualElement,e),s.start(Dy(e,s,0,t,this.visualElement,!1))}stopAnimation(){ps(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ps(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),n=s[t];return n||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ps(t=>{const{drag:s}=this.getProps();if(!Qd(t,s,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(t);if(n&&n.layout){const{min:l,max:d}=n.layout.layoutBox[t];o.set(e[t]-Et(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!aa(t)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ps(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const u=d.get();n[l]=fL({min:u,max:u},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ps(l=>{if(!Qd(l,e,null))return;const d=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];d.set(Et(u,h,n[l]))})}addListeners(){if(!this.visualElement.current)return;gL.set(this.visualElement,this);const e=this.visualElement.current,t=ql(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();aa(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",s);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ct.read(s);const l=gc(window,"resize",()=>this.scalePositionWithinConstraints()),d=n.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(ps(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())}));return()=>{l(),t(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:l=Zg,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:n,dragConstraints:o,dragElastic:l,dragMomentum:d}}}function Qd(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function xL(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class vL extends Bo{constructor(e){super(e),this.removeGroupControls=Ss,this.removeListeners=Ss,this.controls=new yL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ss}unmount(){this.removeGroupControls(),this.removeListeners()}}const k1=r=>(e,t)=>{r&&Ct.postRender(()=>r(e,t))};class bL extends Bo{constructor(){super(...arguments),this.removePointerDownListener=Ss}onPointerDown(e){this.session=new Ej(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:k1(e),onStart:k1(t),onMove:s,onEnd:(o,l)=>{delete this.session,n&&Ct.postRender(()=>n(o,l))}}}mount(){this.removePointerDownListener=ql(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j1(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const Al={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Xe.test(r))r=parseFloat(r);else return r;const t=j1(r,e.target.x),s=j1(r,e.target.y);return`${t}% ${s}%`}},wL={correct:(r,{treeScale:e,projectionDelta:t})=>{const s=r,n=Oo.parse(r);if(n.length>5)return s;const o=Oo.createTransformer(r),l=typeof n[0]!="number"?1:0,d=t.x.scale*e.x,u=t.y.scale*e.y;n[0+l]/=d,n[1+l]/=u;const h=Et(d,u,.5);return typeof n[2+l]=="number"&&(n[2+l]/=h),typeof n[3+l]=="number"&&(n[3+l]/=h),o(n)}};let Tm=!1;class SL extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:n}=this.props,{projection:o}=e;UO(CL),o&&(t.group&&t.group.add(o),s&&s.register&&n&&s.register(o),Tm&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Xu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:n,isPresent:o}=this.props,{projection:l}=s;return l&&(l.isPresent=o,Tm=!0,n||e.layoutDependency!==t||t===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Ct.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:n}=e;Tm=!0,n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Dj(r){const[e,t]=ej(),s=b.useContext(Q0);return i.jsx(SL,{...r,layoutGroup:s,switchLayoutGroup:b.useContext(hj),isPresent:e,safeToRemove:t})}const CL={borderRadius:{...Al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Al,borderTopRightRadius:Al,borderBottomLeftRadius:Al,borderBottomRightRadius:Al,boxShadow:wL};function kL(r,e,t){const s=vr(r)?r:Ta(r);return s.start(Dy("",s,e,t)),s.animation}const jL=(r,e)=>r.depth-e.depth;class NL{constructor(){this.children=[],this.isDirty=!1}add(e){ry(this.children,e),this.isDirty=!0}remove(e){sy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jL),this.isDirty=!1,this.children.forEach(e)}}function TL(r,e){const t=Vr.now(),s=({timestamp:n})=>{const o=n-t;o>=e&&(Ro(s),r(o-e))};return Ct.setup(s,!0),()=>Ro(s)}const Aj=["TopLeft","TopRight","BottomLeft","BottomRight"],_L=Aj.length,N1=r=>typeof r=="string"?parseFloat(r):r,T1=r=>typeof r=="number"||Xe.test(r);function ML(r,e,t,s,n,o){n?(r.opacity=Et(0,t.opacity??1,EL(s)),r.opacityExit=Et(e.opacity??1,0,PL(s))):o&&(r.opacity=Et(e.opacity??1,t.opacity??1,s));for(let l=0;l<_L;l++){const d=`border${Aj[l]}Radius`;let u=_1(e,d),h=_1(t,d);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||T1(u)===T1(h)?(r[d]=Math.max(Et(N1(u),N1(h),s),0),(mn.test(h)||mn.test(u))&&(r[d]+="%")):r[d]=h}(e.rotate||t.rotate)&&(r.rotate=Et(e.rotate||0,t.rotate||0,s))}function _1(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const EL=Rj(0,.5,bk),PL=Rj(.5,.95,Ss);function Rj(r,e,t){return s=>s<r?0:s>e?1:t(uc(r,e,s))}function M1(r,e){r.min=e.min,r.max=e.max}function hs(r,e){M1(r.x,e.x),M1(r.y,e.y)}function E1(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function P1(r,e,t,s,n){return r-=e,r=Sh(r,1/t,s),n!==void 0&&(r=Sh(r,1/n,s)),r}function DL(r,e=0,t=1,s=.5,n,o=r,l=r){if(mn.test(e)&&(e=parseFloat(e),e=Et(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=Et(o.min,o.max,s);r===o&&(d-=e),r.min=P1(r.min,e,t,d,n),r.max=P1(r.max,e,t,d,n)}function D1(r,e,[t,s,n],o,l){DL(r,e[t],e[s],e[n],e.scale,o,l)}const AL=["x","scaleX","originX"],RL=["y","scaleY","originY"];function A1(r,e,t,s){D1(r.x,e,AL,t?t.x:void 0,s?s.x:void 0),D1(r.y,e,RL,t?t.y:void 0,s?s.y:void 0)}function R1(r){return r.translate===0&&r.scale===1}function Oj(r){return R1(r.x)&&R1(r.y)}function O1(r,e){return r.min===e.min&&r.max===e.max}function OL(r,e){return O1(r.x,e.x)&&O1(r.y,e.y)}function F1(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function Fj(r,e){return F1(r.x,e.x)&&F1(r.y,e.y)}function L1(r){return Pr(r.x)/Pr(r.y)}function z1(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class FL{constructor(){this.members=[]}add(e){ry(this.members,e),e.scheduleRender()}remove(e){if(sy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(n=>e===n);if(t===0)return!1;let s;for(let n=t;n>=0;n--){const o=this.members[n];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;n===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LL(r,e,t){let s="";const n=r.x.translate/e.x,o=r.y.translate/e.y,l=t?.z||0;if((n||o||l)&&(s=`translate3d(${n}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:p,rotateX:m,rotateY:y,skewX:x,skewY:v}=t;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),m&&(s+=`rotateX(${m}deg) `),y&&(s+=`rotateY(${y}deg) `),x&&(s+=`skewX(${x}deg) `),v&&(s+=`skewY(${v}deg) `)}const d=r.x.scale*e.x,u=r.y.scale*e.y;return(d!==1||u!==1)&&(s+=`scale(${d}, ${u})`),s||"none"}const _m=["","X","Y","Z"],zL=1e3;let IL=0;function Mm(r,e,t,s){const{latestValues:n}=e;n[r]&&(t[r]=n[r],e.setStaticValue(r,0),s&&(s[r]=0))}function Lj(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=Sj(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:n,layoutId:o}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",Ct,!(n||o))}const{parent:s}=r;s&&!s.hasCheckedOptimisedAppear&&Lj(s)}function zj({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:n}){return class{constructor(l={},d=e?.()){this.id=IL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WL),this.nodes.forEach(GL),this.nodes.forEach(YL),this.nodes.forEach(HL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new NL)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new iy),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const u=this.eventHandlers.get(l);u&&u.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Qk(l)&&!MO(l),this.instance=l;const{layoutId:d,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||d)&&(this.isLayoutDirty=!0),r){let p,m=0;const y=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{m=window.innerWidth}),r(l,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,p&&p(),p=TL(y,250),Xu.hasAnimatedSinceResize&&(Xu.hasAnimatedSinceResize=!1,this.nodes.forEach(V1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||JL,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=h.getProps(),C=!this.targetLayout||!Fj(this.targetLayout,x),N=!m&&y;if(this.options.layoutRoot||this.resumeFrom||N||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...vy(v,"layout"),onPlay:w,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(p,N)}else m||V1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XL),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(B1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($L),this.nodes.forEach(BL),this.nodes.forEach(VL)):this.nodes.forEach(B1),this.clearAllSnapshots();const d=Vr.now();cr.delta=Hn(0,1e3/60,d-cr.timestamp),cr.timestamp=d,cr.isProcessing=!0,ym.update.process(cr),ym.preRender.process(cr),ym.render.process(cr),cr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UL),this.sharedNodes.forEach(KL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pr(this.snapshot.measuredBox.x)&&!Pr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Oj(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(d||di(this.latestValues)||p)&&(n(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return l&&(u=this.removeTransform(u)),QL(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return It();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(e6))){const{scroll:h}=this.root;h&&(la(d.x,h.offset.x),la(d.y,h.offset.y))}return d}removeElementScroll(l){const d=It();if(hs(d,l),this.scroll?.wasRoot)return d;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:p,options:m}=h;h!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&hs(d,l),la(d.x,p.offset.x),la(d.y,p.offset.y))}return d}applyTransform(l,d=!1){const u=It();hs(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ca(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),di(p.latestValues)&&ca(u,p.latestValues)}return di(this.latestValues)&&ca(u,this.latestValues),u}removeTransform(l){const d=It();hs(d,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!di(h.latestValues))continue;$g(h.latestValues)&&h.updateSnapshot();const p=It(),m=h.measurePageBox();hs(p,m),A1(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return di(this.latestValues)&&A1(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=cr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Jl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hs(this.target,this.layout.layoutBox),gj(this.target,this.targetDelta)):hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Jl(this.relativeTargetOrigin,this.target,y.target),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$g(this.parent.latestValues)||mj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===cr.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;hs(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;xF(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=It());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E1(this.prevProjectionDelta.x,this.projectionDelta.x),E1(this.prevProjectionDelta.y,this.projectionDelta.y)),Zl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!z1(this.projectionDelta.x,this.prevProjectionDelta.x)||!z1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=da(),this.projectionDelta=da(),this.projectionDeltaWithTransform=da()}setAnimationOrigin(l,d=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},m=da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=It(),x=u?u.source:void 0,v=this.layout?this.layout.source:void 0,w=x!==v,j=this.getStack(),C=!j||j.members.length<=1,N=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(ZL));this.animationProgress=0;let k;this.mixTargetDelta=_=>{const P=_/1e3;W1(m.x,l.x,P),W1(m.y,l.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jl(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qL(this.relativeTarget,this.relativeTargetOrigin,y,P),k&&OL(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=It()),hs(k,this.relativeTarget)),w&&(this.animationValues=p,ML(p,h,this.latestValues,P,N,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{Xu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ta(0)),this.currentAnimation=kL(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:u,layout:h,latestValues:p}=l;if(!(!d||!u||!h)){if(this!==l&&this.layout&&h&&Ij(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||It();const m=Pr(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+m;const y=Pr(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+y}hs(d,u),ca(d,p),Zl(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new FL),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const h={};u.z&&Mm("z",l,h,this.animationValues);for(let p=0;p<_m.length;p++)Mm(`rotate${_m[p]}`,l,h,this.animationValues),Mm(`skew${_m[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Yu(d?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Yu(d?.pointerEvents)||""),this.hasProjected&&!di(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=LL(this.projectionDeltaWithTransform,this.treeScale,p);u&&(m=u(p,m)),l.transform=m;const{x:y,y:x}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,h.animationValues?l.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in mc){if(p[v]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:C}=mc[v],N=m==="none"?p[v]:w(p[v],h);if(j){const k=j.length;for(let _=0;_<k;_++)l[j[_]]=N}else C?this.options.visualElement.renderState.vars[v]=N:l[v]=N}this.options.layoutId&&(l.pointerEvents=h===this?Yu(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(I1),this.root.sharedNodes.clear()}}}function BL(r){r.updateLayout()}function VL(r){const e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=r.layout,{animationType:n}=r.options,o=e.source!==r.layout.source;n==="size"?ps(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=Pr(m);m.min=t[p].min,m.max=m.min+y}):Ij(n,e.layoutBox,t)&&ps(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=Pr(t[p]);m.max=m.min+y,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[p].max=r.relativeTarget[p].min+y)});const l=da();Zl(l,t,e.layoutBox);const d=da();o?Zl(d,r.applyTransform(s,!0),e.measuredBox):Zl(d,t,e.layoutBox);const u=!Oj(l);let h=!1;if(!r.resumeFrom){const p=r.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const x=It();Jl(x,e.layoutBox,m.layoutBox);const v=It();Jl(v,t,y.layoutBox),Fj(x,v)||(h=!0),p.options.layoutRoot&&(r.relativeTarget=v,r.relativeTargetOrigin=x,r.relativeParent=p)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(r.isLead()){const{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function WL(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function HL(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function UL(r){r.clearSnapshot()}function I1(r){r.clearMeasurements()}function B1(r){r.isLayoutDirty=!1}function $L(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function V1(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function GL(r){r.resolveTargetDelta()}function YL(r){r.calcProjection()}function XL(r){r.resetSkewAndRotation()}function KL(r){r.removeLeadSnapshot()}function W1(r,e,t){r.translate=Et(e.translate,0,t),r.scale=Et(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function H1(r,e,t,s){r.min=Et(e.min,t.min,s),r.max=Et(e.max,t.max,s)}function qL(r,e,t,s){H1(r.x,e.x,t.x,s),H1(r.y,e.y,t.y,s)}function ZL(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const JL={duration:.45,ease:[.4,0,.1,1]},U1=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),$1=U1("applewebkit/")&&!U1("chrome/")?Math.round:Ss;function G1(r){r.min=$1(r.min),r.max=$1(r.max)}function QL(r){G1(r.x),G1(r.y)}function Ij(r,e,t){return r==="position"||r==="preserve-aspect"&&!oL(L1(e),L1(t),.2)}function e6(r){return r!==r.root&&r.scroll?.wasRoot}const t6=zj({attachResizeListener:(r,e)=>gc(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Em={current:void 0},Bj=zj({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Em.current){const r=new t6({});r.mount(window),r.setOptions({layoutScroll:!0}),Em.current=r}return Em.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),r6={pan:{Feature:bL},drag:{Feature:vL,ProjectionNode:Bj,MeasureLayout:Dj}};function Y1(r,e,t){const{props:s}=r;r.animationState&&s.whileHover&&r.animationState.setActive("whileHover",t==="Start");const n="onHover"+t,o=s[n];o&&Ct.postRender(()=>o(e,Rc(e)))}class s6 extends Bo{mount(){const{current:e}=this.node;e&&(this.unmount=kO(e,(t,s)=>(Y1(this.node,s,"Start"),n=>Y1(this.node,n,"End"))))}unmount(){}}class n6 extends Bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pc(gc(this.node.current,"focus",()=>this.onFocus()),gc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function X1(r,e,t){const{props:s}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&s.whileTap&&r.animationState.setActive("whileTap",t==="Start");const n="onTap"+(t==="End"?"":t),o=s[n];o&&Ct.postRender(()=>o(e,Rc(e)))}class o6 extends Bo{mount(){const{current:e}=this.node;e&&(this.unmount=_O(e,(t,s)=>(X1(this.node,s,"Start"),(n,{success:o})=>X1(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jg=new WeakMap,Pm=new WeakMap,i6=r=>{const e=Jg.get(r.target);e&&e(r)},a6=r=>{r.forEach(i6)};function l6({root:r,...e}){const t=r||document;Pm.has(t)||Pm.set(t,{});const s=Pm.get(t),n=JSON.stringify(e);return s[n]||(s[n]=new IntersectionObserver(a6,{root:r,...e})),s[n]}function c6(r,e,t){const s=l6(e);return Jg.set(r,t),s.observe(r),()=>{Jg.delete(r),s.unobserve(r)}}const d6={some:0,all:1};class u6 extends Bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:n="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:s,threshold:typeof n=="number"?n:d6[n]},d=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=h?p:m;y&&y(u)};return c6(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(h6(e,t))&&this.startObserver()}unmount(){}}function h6({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const f6={inView:{Feature:u6},tap:{Feature:o6},focus:{Feature:n6},hover:{Feature:s6}},p6={layout:{ProjectionNode:Bj,MeasureLayout:Dj}},m6={...QF,...f6,...r6,...p6},pi=mF(m6,_F),g6=[{id:"1",title:"Summer Vibes",lastModified:new Date("2024-01-15"),bpm:110,key:"G",hasUnreadChanges:!0,genre:"Pop",duration:"3:24"},{id:"2",title:"Midnight Dreams",lastModified:new Date("2024-01-14"),bpm:85,key:"Am",genre:"R&B",duration:"2:58"},{id:"3",title:"Electric Soul",lastModified:new Date("2024-01-13"),bpm:128,key:"Em",hasUnreadChanges:!0,genre:"Electronic",duration:"4:12"},{id:"4",title:"Coffee Shop Acoustic",lastModified:new Date("2024-01-12"),bpm:95,key:"D",genre:"Folk",duration:"2:45"},{id:"5",title:"City Lights",lastModified:new Date("2024-01-11"),bpm:120,key:"F#m",genre:"Hip-Hop",duration:"3:38"}];function y6({isOpen:r,onClose:e,onSelectProject:t}){const[s,n]=b.useState(""),[o,l]=b.useState("all"),d=g6.filter(h=>{const p=h.title.toLowerCase().includes(s.toLowerCase())||h.genre?.toLowerCase().includes(s.toLowerCase());switch(o){case"recent":return p&&h.lastModified>new Date("2024-01-14");case"starred":return p&&h.hasUnreadChanges;default:return p}}),u=h=>{const m=Math.floor((new Date().getTime()-h.getTime())/(1e3*60*60));return m<1?"Just now":m<24?`${m}h ago`:m<48?"Yesterday":h.toLocaleDateString()};return i.jsxs(i.Fragment,{children:[i.jsx(Ug,{children:r&&i.jsx(pi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:e})}),i.jsx(Ug,{children:r&&i.jsxs(pi.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed left-0 top-0 h-full w-80 z-50",style:{background:"var(--dropsource-panel)",borderRight:"1px solid var(--dropsource-border)",backdropFilter:"blur(12px)"},children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--dropsource-border)"},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Y0,{className:"w-5 h-5",style:{color:"var(--dropsource-brand)"}}),i.jsx("span",{className:"font-semibold",style:{fontSize:"var(--text-lg)",color:"var(--dropsource-primary)"},children:"Projects"})]}),i.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-700/50 transition-colors",children:i.jsx(kr,{className:"w-4 h-4",style:{color:"var(--dropsource-secondary)"}})})]}),i.jsxs("div",{className:"p-4 h-full overflow-auto dropsource-custom-scrollbar",children:[i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(Cr,{placeholder:"Search projects...",value:s,onChange:h=>n(h.target.value),className:"pl-10 dropsource-input",style:{fontSize:"var(--text-sm)"}})]}),i.jsx("div",{className:"flex gap-2",children:["all","recent","starred"].map(h=>i.jsx("button",{onClick:()=>l(h),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${o===h?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:h==="all"?"All":h==="recent"?"Recent":"Starred"},h))})]}),i.jsxs(Se,{className:"w-full mb-4 dropsource-btn-primary flex items-center gap-2",style:{height:"40px"},children:[i.jsx(zC,{className:"w-4 h-4"}),"New Project"]}),i.jsx("div",{className:"space-y-3",children:d.map(h=>i.jsxs(pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"dropsource-card p-3 hover:scale-[1.02] transition-all cursor-pointer group",onClick:()=>{t?.(h.id),e()},children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--dropsource-primary)"},children:h.title}),h.hasUnreadChanges&&i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs",style:{color:"var(--dropsource-tertiary)"},children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ca,{className:"w-3 h-3"}),u(h.lastModified)]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ja,{className:"w-3 h-3"}),h.bpm," BPM • ",h.key]})]})]}),i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[i.jsx("button",{className:"p-1 rounded hover:bg-gray-600 transition-colors",onClick:p=>{p.stopPropagation()},children:i.jsx(On,{className:"w-3 h-3 text-gray-400"})}),i.jsx("button",{className:"p-1 rounded hover:bg-red-600 transition-colors",onClick:p=>{p.stopPropagation()},children:i.jsx(lc,{className:"w-3 h-3 text-gray-400"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex gap-2",children:[h.genre&&i.jsx(ft,{variant:"secondary",className:"text-xs px-2 py-0.5",style:{backgroundColor:"rgba(99, 179, 255, 0.1)",color:"#63B3FF"},children:h.genre}),h.duration&&i.jsx("span",{className:"text-xs",style:{color:"var(--dropsource-tertiary)"},children:h.duration})]}),h.hasUnreadChanges&&i.jsx(rt,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"})]})]},h.id))}),d.length===0&&i.jsxs("div",{className:"text-center py-8",style:{color:"var(--dropsource-tertiary)"},children:[i.jsx(Yl,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No projects found"}),i.jsx("p",{className:"text-xs opacity-75",children:"Try adjusting your search or filter"})]})]})]})})]})}var Gt=function(){return Gt=Object.assign||function(r){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Gt.apply(this,arguments)},K1={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},q1={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},eu={width:"20px",height:"20px",position:"absolute",zIndex:1},x6={top:Gt(Gt({},K1),{top:"-5px"}),right:Gt(Gt({},q1),{left:void 0,right:"-5px"}),bottom:Gt(Gt({},K1),{top:void 0,bottom:"-5px"}),left:Gt(Gt({},q1),{left:"-5px"}),topRight:Gt(Gt({},eu),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Gt(Gt({},eu),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Gt(Gt({},eu),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Gt(Gt({},eu),{left:"-10px",top:"-10px",cursor:"nw-resize"})},v6=b.memo(function(r){var e=r.onResizeStart,t=r.direction,s=r.children,n=r.replaceStyles,o=r.className,l=b.useCallback(function(h){e(h,t)},[e,t]),d=b.useCallback(function(h){e(h,t)},[e,t]),u=b.useMemo(function(){return Gt(Gt({position:"absolute",userSelect:"none"},x6[t]),n??{})},[n,t]);return i.jsx("div",{className:o||void 0,style:u,onMouseDown:l,onTouchStart:d,children:s})}),b6=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}})(),tn=function(){return tn=Object.assign||function(r){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},tn.apply(this,arguments)},w6={width:"auto",height:"auto"},tu=function(r,e,t){return Math.max(Math.min(r,t),e)},Z1=function(r,e,t){var s=Math.round(r/e);return s*e+t*(s-1)},qi=function(r,e){return new RegExp(r,"i").test(e)},ru=function(r){return!!(r.touches&&r.touches.length)},S6=function(r){return!!((r.clientX||r.clientX===0)&&(r.clientY||r.clientY===0))},J1=function(r,e,t){t===void 0&&(t=0);var s=e.reduce(function(o,l,d){return Math.abs(l-r)<Math.abs(e[o]-r)?d:o},0),n=Math.abs(e[s]-r);return t===0||n<t?e[s]:r},Dm=function(r){return r=r.toString(),r==="auto"||r.endsWith("px")||r.endsWith("%")||r.endsWith("vh")||r.endsWith("vw")||r.endsWith("vmax")||r.endsWith("vmin")?r:"".concat(r,"px")},su=function(r,e,t,s){if(r&&typeof r=="string"){if(r.endsWith("px"))return Number(r.replace("px",""));if(r.endsWith("%")){var n=Number(r.replace("%",""))/100;return e*n}if(r.endsWith("vw")){var n=Number(r.replace("vw",""))/100;return t*n}if(r.endsWith("vh")){var n=Number(r.replace("vh",""))/100;return s*n}}return r},C6=function(r,e,t,s,n,o,l){return s=su(s,r.width,e,t),n=su(n,r.height,e,t),o=su(o,r.width,e,t),l=su(l,r.height,e,t),{maxWidth:typeof s>"u"?void 0:Number(s),maxHeight:typeof n>"u"?void 0:Number(n),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof l>"u"?void 0:Number(l)}},k6=function(r){return Array.isArray(r)?r:[r,r]},j6=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Q1="__resizable_base__",Vj=(function(r){b6(e,r);function e(t){var s,n,o,l,d=r.call(this,t)||this;return d.ratio=1,d.resizable=null,d.parentLeft=0,d.parentTop=0,d.resizableLeft=0,d.resizableRight=0,d.resizableTop=0,d.resizableBottom=0,d.targetLeft=0,d.targetTop=0,d.delta={width:0,height:0},d.appendBase=function(){if(!d.resizable||!d.window)return null;var u=d.parentNode;if(!u)return null;var h=d.window.document.createElement("div");return h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.transform="scale(0, 0)",h.style.left="0",h.style.flex="0 0 100%",h.classList?h.classList.add(Q1):h.className+=Q1,u.appendChild(h),h},d.removeBase=function(u){var h=d.parentNode;h&&h.removeChild(u)},d.state={isResizing:!1,width:(n=(s=d.propsSize)===null||s===void 0?void 0:s.width)!==null&&n!==void 0?n:"auto",height:(l=(o=d.propsSize)===null||o===void 0?void 0:o.height)!==null&&l!==void 0?l:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},d.onResizeStart=d.onResizeStart.bind(d),d.onMouseMove=d.onMouseMove.bind(d),d.onMouseUp=d.onMouseUp.bind(d),d}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||w6},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var t=0,s=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,o=this.resizable.offsetHeight,l=this.resizable.style.position;l!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:n,s=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=l}return{width:t,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var t=this,s=this.props.size,n=function(d){var u;if(typeof t.state[d]>"u"||t.state[d]==="auto")return"auto";if(t.propsSize&&t.propsSize[d]&&(!((u=t.propsSize[d])===null||u===void 0)&&u.toString().endsWith("%"))){if(t.state[d].toString().endsWith("%"))return t.state[d].toString();var h=t.getParentSize(),p=Number(t.state[d].toString().replace("px","")),m=p/h[d]*100;return"".concat(m,"%")}return Dm(t.state[d])},o=s&&typeof s.width<"u"&&!this.state.isResizing?Dm(s.width):n("width"),l=s&&typeof s.height<"u"&&!this.state.isResizing?Dm(s.height):n("height");return{width:o,height:l}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var s=!1,n=this.parentNode.style.flexWrap;n!=="wrap"&&(s=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var o={width:t.offsetWidth,height:t.offsetHeight};return s&&(this.parentNode.style.flexWrap=n),this.removeBase(t),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(t,s){var n=this.propsSize&&this.propsSize[s];return this.state[s]==="auto"&&this.state.original[s]===t&&(typeof n>"u"||n==="auto")?"auto":t},e.prototype.calculateNewMaxFromBoundary=function(t,s){var n=this.props.boundsByDirection,o=this.state.direction,l=n&&qi("left",o),d=n&&qi("top",o),u,h;if(this.props.bounds==="parent"){var p=this.parentNode;p&&(u=l?this.resizableRight-this.parentLeft:p.offsetWidth+(this.parentLeft-this.resizableLeft),h=d?this.resizableBottom-this.parentTop:p.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(u=l?this.resizableRight:this.window.innerWidth-this.resizableLeft,h=d?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(u=l?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),h=d?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return u&&Number.isFinite(u)&&(t=t&&t<u?t:u),h&&Number.isFinite(h)&&(s=s&&s<h?s:h),{maxWidth:t,maxHeight:s}},e.prototype.calculateNewSizeFromDirection=function(t,s){var n=this.props.scale||1,o=k6(this.props.resizeRatio||1),l=o[0],d=o[1],u=this.state,h=u.direction,p=u.original,m=this.props,y=m.lockAspectRatio,x=m.lockAspectRatioExtraHeight,v=m.lockAspectRatioExtraWidth,w=p.width,j=p.height,C=x||0,N=v||0;return qi("right",h)&&(w=p.width+(t-p.x)*l/n,y&&(j=(w-N)/this.ratio+C)),qi("left",h)&&(w=p.width-(t-p.x)*l/n,y&&(j=(w-N)/this.ratio+C)),qi("bottom",h)&&(j=p.height+(s-p.y)*d/n,y&&(w=(j-C)*this.ratio+N)),qi("top",h)&&(j=p.height-(s-p.y)*d/n,y&&(w=(j-C)*this.ratio+N)),{newWidth:w,newHeight:j}},e.prototype.calculateNewSizeFromAspectRatio=function(t,s,n,o){var l=this.props,d=l.lockAspectRatio,u=l.lockAspectRatioExtraHeight,h=l.lockAspectRatioExtraWidth,p=typeof o.width>"u"?10:o.width,m=typeof n.width>"u"||n.width<0?t:n.width,y=typeof o.height>"u"?10:o.height,x=typeof n.height>"u"||n.height<0?s:n.height,v=u||0,w=h||0;if(d){var j=(y-v)*this.ratio+w,C=(x-v)*this.ratio+w,N=(p-w)/this.ratio+v,k=(m-w)/this.ratio+v,_=Math.max(p,j),P=Math.min(m,C),D=Math.max(y,N),M=Math.min(x,k);t=tu(t,_,P),s=tu(s,D,M)}else t=tu(t,p,m),s=tu(s,y,x);return{newWidth:t,newHeight:s}},e.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var s=this.parentNode;if(s){var n=s.getBoundingClientRect();this.parentLeft=n.left*t,this.parentTop=n.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*t,this.targetTop=o.top*t}if(this.resizable){var l=this.resizable.getBoundingClientRect(),d=l.left,u=l.top,h=l.right,p=l.bottom;this.resizableLeft=d*t,this.resizableRight=h*t,this.resizableTop=u*t,this.resizableBottom=p*t}},e.prototype.onResizeStart=function(t,s){if(!(!this.resizable||!this.window)){var n=0,o=0;if(t.nativeEvent&&S6(t.nativeEvent)?(n=t.nativeEvent.clientX,o=t.nativeEvent.clientY):t.nativeEvent&&ru(t.nativeEvent)&&(n=t.nativeEvent.touches[0].clientX,o=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var l=this.props.onResizeStart(t,s,this.resizable);if(l===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var d,u=this.window.getComputedStyle(this.resizable);if(u.flexBasis!=="auto"){var h=this.parentNode;if(h){var p=this.window.getComputedStyle(h).flexDirection;this.flexDir=p.startsWith("row")?"row":"column",d=u.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var m={original:{x:n,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:tn(tn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:s,flexBasis:d};this.setState(m)}},e.prototype.onMouseMove=function(t){var s=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ru(t))try{t.preventDefault(),t.stopPropagation()}catch{}var n=this.props,o=n.maxWidth,l=n.maxHeight,d=n.minWidth,u=n.minHeight,h=ru(t)?t.touches[0].clientX:t.clientX,p=ru(t)?t.touches[0].clientY:t.clientY,m=this.state,y=m.direction,x=m.original,v=m.width,w=m.height,j=this.getParentSize(),C=C6(j,this.window.innerWidth,this.window.innerHeight,o,l,d,u);o=C.maxWidth,l=C.maxHeight,d=C.minWidth,u=C.minHeight;var N=this.calculateNewSizeFromDirection(h,p),k=N.newHeight,_=N.newWidth,P=this.calculateNewMaxFromBoundary(o,l);this.props.snap&&this.props.snap.x&&(_=J1(_,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(k=J1(k,this.props.snap.y,this.props.snapGap));var D=this.calculateNewSizeFromAspectRatio(_,k,{width:P.maxWidth,height:P.maxHeight},{width:d,height:u});if(_=D.newWidth,k=D.newHeight,this.props.grid){var M=Z1(_,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),E=Z1(k,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),R=this.props.snapGap||0,O=R===0||Math.abs(M-_)<=R?M:_,B=R===0||Math.abs(E-k)<=R?E:k;_=O,k=B}var L={width:_-x.width,height:k-x.height};if(this.delta=L,v&&typeof v=="string"){if(v.endsWith("%")){var $=_/j.width*100;_="".concat($,"%")}else if(v.endsWith("vw")){var J=_/this.window.innerWidth*100;_="".concat(J,"vw")}else if(v.endsWith("vh")){var ce=_/this.window.innerHeight*100;_="".concat(ce,"vh")}}if(w&&typeof w=="string"){if(w.endsWith("%")){var $=k/j.height*100;k="".concat($,"%")}else if(w.endsWith("vw")){var J=k/this.window.innerWidth*100;k="".concat(J,"vw")}else if(w.endsWith("vh")){var ce=k/this.window.innerHeight*100;k="".concat(ce,"vh")}}var V={width:this.createSizeForCssProperty(_,"width"),height:this.createSizeForCssProperty(k,"height")};this.flexDir==="row"?V.flexBasis=V.width:this.flexDir==="column"&&(V.flexBasis=V.height);var X=this.state.width!==V.width,F=this.state.height!==V.height,ee=this.state.flexBasis!==V.flexBasis,H=X||F||ee;H&&zo.flushSync(function(){s.setState(V)}),this.props.onResize&&H&&this.props.onResize(t,y,this.resizable,L)}},e.prototype.onMouseUp=function(t){var s,n,o=this.state,l=o.isResizing,d=o.direction;o.original,!(!l||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,d,this.resizable,this.delta),this.props.size&&this.setState({width:(s=this.props.size.width)!==null&&s!==void 0?s:"auto",height:(n=this.props.size.height)!==null&&n!==void 0?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:tn(tn({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(t){var s,n;this.setState({width:(s=t.width)!==null&&s!==void 0?s:"auto",height:(n=t.height)!==null&&n!==void 0?n:"auto"})},e.prototype.renderResizer=function(){var t=this,s=this.props,n=s.enable,o=s.handleStyles,l=s.handleClasses,d=s.handleWrapperStyle,u=s.handleWrapperClass,h=s.handleComponent;if(!n)return null;var p=Object.keys(n).map(function(m){return n[m]!==!1?i.jsx(v6,{direction:m,onResizeStart:t.onResizeStart,replaceStyles:o&&o[m],className:l&&l[m],children:h&&h[m]?h[m]:null},m):null});return i.jsx("div",{className:u,style:d,children:p})},e.prototype.render=function(){var t=this,s=Object.keys(this.props).reduce(function(l,d){return j6.indexOf(d)!==-1||(l[d]=t.props[d]),l},{}),n=tn(tn(tn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return i.jsxs(o,tn({style:n,className:this.props.className},s,{ref:function(l){l&&(t.resizable=l)},children:[this.state.isResizing&&i.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e})(b.PureComponent);function tf({title:r,children:e,onClose:t,onMinimize:s,initialPosition:n,width:o=400,height:l=500,onPositionChange:d,onSizeChange:u,zIndex:h=50,onFocus:p}){const[m,y]=b.useState(n),[x,v]=b.useState(!1),[w,j]=b.useState(!1),[C,N]=b.useState({width:o,height:l}),[k,_]=b.useState({x:0,y:0}),[P,D]=b.useState(null),[M,E]=b.useState(!1),[R,O]=b.useState({width:o,height:l}),[B,L]=b.useState(n),[$,J]=b.useState(!1),ce=b.useRef(null),V=b.useRef(null),X=20,F=64,ee={top:F+10,left:10},H=b.useCallback((G,Q,de,me)=>{let _e=G,Ve=Q,be=null;return Q<F&&(Ve=F,be="top"),Math.abs(G)<X?(_e=ee.left,be="left"):Math.abs(G+de-window.innerWidth)<X&&(_e=window.innerWidth-de-ee.left,be="right"),Math.abs(Q-F)<X?(Ve=ee.top,be=be?`${be}-top`:"top"):Math.abs(Q+me-window.innerHeight)<X&&(Ve=window.innerHeight-me-ee.left,be=be?`${be}-bottom`:"bottom"),_e=Math.max(ee.left,Math.min(_e,window.innerWidth-de-ee.left)),Ve=Math.max(F,Math.min(Ve,window.innerHeight-me-ee.left)),{x:_e,y:Ve,indicator:be}},[F,X]),z=b.useCallback(G=>{const Q=G.target;if(console.log("FloatingCard mousedown on:",Q.tagName,Q.className),Q.tagName==="BUTTON"||Q.closest("button")){console.log("Prevented drag: button element");return}if(Q.tagName==="INPUT"||Q.closest("input")){console.log("Prevented drag: input element");return}if(Q.tagName==="SELECT"||Q.closest("select")){console.log("Prevented drag: select element");return}if(Q.tagName==="A"||Q.closest("a")){console.log("Prevented drag: link element");return}if(Q.closest("[data-no-drag]")){console.log("Prevented drag: data-no-drag area");return}if(Q.closest(".auction-content")){console.log("Prevented drag: auction content area");return}if(Q.closest(".menu-content")){console.log("Prevented drag: menu content area");return}if(!V.current?.contains(Q)){console.log("Prevented drag: not in drag ref area");return}if(!(Q===V.current||V.current.contains(Q)||Q.classList.contains("move-handle")||Q.closest(".move-handle"))){console.log("Prevented drag: not a header click");return}console.log("Starting drag for:",r),G.preventDefault(),G.stopPropagation(),v(!0);const me=ce.current?.getBoundingClientRect();me&&_({x:G.clientX-me.left,y:G.clientY-me.top})},[r]),Z=b.useCallback(G=>{if(!x||!ce.current)return;G.preventDefault();const Q=G.clientX-k.x,de=G.clientY-k.y,me=H(Q,de,C.width,C.height);requestAnimationFrame(()=>{x&&(y({x:me.x,y:me.y}),D(me.indicator))})},[x,k,C,H]),q=b.useCallback(()=>{v(!1),D(null),d&&d(m)},[m,d]),oe=b.useCallback(()=>{if(M){const G=R,Q=B;N(G),y(Q),E(!1),u&&u(G),d&&d(Q)}else{O(C),L(m);const G={width:window.innerWidth-40,height:window.innerHeight-F-40},Q={x:20,y:F+20};N(G),y(Q),E(!0),u&&u(G),d&&d(Q)}},[M,C,m,R,B,F,u,d]),he=b.useCallback(()=>{J(!0),p&&p()},[p]);b.useCallback(()=>{J(!1)},[]);const fe=b.useCallback((G,Q,de,me)=>{const _e={width:C.width+me.width,height:C.height+me.height};N(_e),u&&u(_e)},[C,u]);return b.useEffect(()=>(x?(document.addEventListener("mousemove",Z),document.addEventListener("mouseup",q),document.body.style.cursor="grabbing",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",q),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",q),document.body.style.cursor="",document.body.style.userSelect=""}),[x,Z,q]),b.useEffect(()=>{const G=()=>{const Q=H(m.x,m.y,C.width,C.height);y({x:Q.x,y:Q.y})};return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[m,C,H]),i.jsxs(i.Fragment,{children:[P&&i.jsx("div",{className:"fixed z-40 dropsource-snap-indicator rounded-lg pointer-events-none",style:{left:m.x,top:m.y,width:C.width,height:C.height}}),i.jsx(Vj,{size:{width:C.width,height:C.height},onResizeStop:fe,onResizeStart:()=>j(!0),onResize:()=>j(!0),minWidth:280,minHeight:180,maxWidth:window.innerWidth-40,maxHeight:window.innerHeight-F-40,enable:{top:!M,right:!M,bottom:!M,left:!M,topRight:!M,bottomRight:!M,bottomLeft:!M,topLeft:!M},className:`fixed select-none ${x?"dragging":""} ${$?"dropsource-panel-focused":""}`,style:{left:m.x,top:m.y,zIndex:$?h+10:h,transition:x||w?"none":"all var(--transition-fast)","--floating-z-index":$?h+10:h},onMouseDown:he,tabIndex:0,"data-floating-menu":"true",children:i.jsxs("div",{ref:ce,className:"dropsource-floating-card w-full h-full",style:{borderRadius:"var(--radius-sharp)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.16), 0 2px 8px rgba(0, 0, 0, 0.08)"},children:[i.jsxs("div",{ref:V,className:`flex items-center justify-between border-b select-none move-handle ${x?"dropsource-surface cursor-grabbing":"dropsource-panel cursor-grab"}`,style:{padding:"calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2)",borderBottomColor:"var(--dropsource-border)",borderTopLeftRadius:"var(--radius-sharp)",borderTopRightRadius:"var(--radius-sharp)",transition:"background-color var(--transition-fast)",minHeight:"48px",userSelect:"none"},onMouseDown:z,children:[i.jsxs("div",{className:"flex items-center dropsource-spacing-xs move-handle",children:[i.jsx(fh,{className:"w-4 h-4 dropsource-text-tertiary dropsource-icon-outlined move-handle"}),i.jsx("h3",{className:"dropsource-text-primary select-none move-handle",style:{fontSize:"var(--text-sm)",fontWeight:"500",letterSpacing:"0.02em"},children:r})]}),i.jsxs("div",{className:"flex items-center dropsource-spacing-xs",children:[i.jsx("button",{onClick:s,className:"dropsource-toolbar-button dropsource-focus-visible",style:{width:"28px",height:"28px",padding:"0"},title:"Minimize",children:i.jsx(Hl,{className:"w-3 h-3 dropsource-icon-outlined"})}),i.jsx("button",{onClick:oe,className:"dropsource-toolbar-button dropsource-focus-visible",style:{width:"28px",height:"28px",padding:"0"},title:M?"Restore":"Maximize",children:i.jsx(XD,{className:"w-3 h-3 dropsource-icon-outlined"})}),i.jsx("button",{onClick:t,className:"dropsource-toolbar-button dropsource-focus-visible hover:border-red-500 hover:text-red-400",style:{width:"28px",height:"28px",padding:"0"},title:"Close",children:i.jsx(kr,{className:"w-3 h-3 dropsource-icon-outlined"})})]})]}),i.jsx("div",{className:"flex-1 overflow-hidden",style:{height:"calc(100% - 48px)"},children:i.jsx("div",{className:"h-full overflow-y-auto dropsource-custom-scrollbar",style:{padding:"calc(var(--spacing-unit) * 2)"},children:e})})]})})]})}function N6({minimizedCards:r,onRestoreCard:e,onCloseCard:t}){return r.length===0?null:i.jsx("div",{className:"fixed z-30",style:{bottom:"calc(var(--spacing-unit) * 3)",left:"50%",transform:"translateX(-50%)"},children:i.jsx("div",{className:"dropsource-minimize-dock dropsource-fade-in",children:r.map(s=>i.jsxs("div",{className:"dropsource-dock-tab",onClick:()=>e(s.type),children:[i.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"500"},children:s.title}),i.jsx("button",{onClick:n=>{n.stopPropagation(),t(s.type)},className:"dropsource-dock-tab-close dropsource-focus-visible",style:{width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(kr,{className:"w-3 h-3"})})]},s.type))})})}function W(r,e,t){return(e=(function(s){var n=(function(o,l){if(typeof o!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var u=d.call(o,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)})(s,"string");return typeof n=="symbol"?n:n+""})(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function eS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.push.apply(t,s)}return t}function Y(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(t),!0).forEach((function(s){W(r,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eS(Object(t)).forEach((function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))}))}return r}function kt(r,e){if(r==null)return{};var t,s,n=(function(l,d){if(l==null)return{};var u={};for(var h in l)if({}.hasOwnProperty.call(l,h)){if(d.indexOf(h)>=0)continue;u[h]=l[h]}return u})(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(s=0;s<o.length;s++)t=o[s],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function Cn(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}class tS{constructor(){W(this,"browserShadowBlurConstant",1),W(this,"DPI",96),W(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),W(this,"perfLimitSizeTotal",2097152),W(this,"maxCacheSideLimit",4096),W(this,"minCacheSideLimit",256),W(this,"disableStyleCopyPaste",!1),W(this,"enableGLFiltering",!0),W(this,"textureSize",4096),W(this,"forceGLPutImageData",!1),W(this,"cachesBoundsOfCurve",!1),W(this,"fontPaths",{}),W(this,"NUM_FRACTION_DIGITS",4)}}const at=new class extends tS{constructor(r){super(),this.configure(r)}configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,r)}addFonts(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=Y(Y({},this.fontPaths),r)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((r=>{delete this.fontPaths[r]}))}clearFonts(){this.fontPaths={}}restoreDefaults(r){const e=new tS,t=r?.reduce(((s,n)=>(s[n]=e[n],s)),{})||e;this.configure(t)}},Fo=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];return console[r]("fabric",...t)};class dn extends Error{constructor(e,t){super("fabric: ".concat(e),t)}}class T6 extends dn{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class _6{}class M6 extends _6{testPrecision(e,t){const s="precision ".concat(t,` float;
void main(){}`),n=e.createShader(e.FRAGMENT_SHADER);return!!n&&(e.shaderSource(n,s),e.compileShader(n),!!e.getShaderParameter(n,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((s=>this.testPrecision(t,s))),t.getExtension("WEBGL_lose_context").loseContext(),Fo("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const E6={};let rS;const xn=()=>rS||(rS={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new M6,dispose(){},copyPasteData:E6}),Ba=()=>xn().document,rf=()=>xn().window,Wj=()=>{var r;return Math.max((r=at.devicePixelRatio)!==null&&r!==void 0?r:rf().devicePixelRatio,1)},Ql=new class{constructor(){W(this,"charWidthsCache",{}),W(this,"boundsOfCurveCache",{})}getFontCache(r){let{fontFamily:e,fontStyle:t,fontWeight:s}=r;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const n=this.charWidthsCache[e],o="".concat(t.toLowerCase(),"_").concat((s+"").toLowerCase());return n[o]||(n[o]={}),n[o]}clearFontCache(r){(r=(r||"").toLowerCase())?this.charWidthsCache[r]&&delete this.charWidthsCache[r]:this.charWidthsCache={}}limitDimsByArea(r){const{perfLimitSizeTotal:e}=at,t=Math.sqrt(e*r);return[Math.floor(t),Math.floor(e/t)]}},Qg="6.7.1";function Ku(){}const Oc=Math.PI/2,Ch=2*Math.PI,Ay=Math.PI/180,Dr=Object.freeze([1,0,0,1,0,0]),Ry=16,wo=.4477152502,Qe="center",ut="left",Wr="top",e0="bottom",Vt="right",Hr="none",Oy=/\r?\n/,Hj="moving",sf="scaling",Uj="rotating",Fy="rotate",$j="skewing",yc="resizing",P6="modifyPoly",D6="modifyPath",kh="changed",nf="scale",$r="scaleX",Cs="scaleY",Va="skewX",Wa="skewY",er="fill",Ur="stroke",jh="modified",Zi="json",Am="svg",Ae=new class{constructor(){this[Zi]=new Map,this[Am]=new Map}has(r){return this[Zi].has(r)}getClass(r){const e=this[Zi].get(r);if(!e)throw new dn("No class registered for ".concat(r));return e}setClass(r,e){e?this[Zi].set(e,r):(this[Zi].set(r.type,r),this[Zi].set(r.type.toLowerCase(),r))}getSVGClass(r){return this[Am].get(r)}setSVGClass(r,e){this[Am].set(e??r.type.toLowerCase(),r)}},Nh=new class extends Array{remove(r){const e=this.indexOf(r);e>-1&&this.splice(e,1)}cancelAll(){const r=this.splice(0);return r.forEach((e=>e.abort())),r}cancelByCanvas(r){if(!r)return[];const e=this.filter((t=>{var s;return t.target===r||typeof t.target=="object"&&((s=t.target)===null||s===void 0?void 0:s.canvas)===r}));return e.forEach((t=>t.abort())),e}cancelByTarget(r){if(!r)return[];const e=this.filter((t=>t.target===r));return e.forEach((t=>t.abort())),e}};class A6{constructor(){W(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach((s=>{let[n,o]=s;this.on(n,o)})),()=>this.off(e);if(t){const s=e;return this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(t),()=>this.off(s,t)}return()=>!1}once(e,t){if(typeof e=="object"){const s=[];return Object.entries(e).forEach((n=>{let[o,l]=n;s.push(this.once(o,l))})),()=>s.forEach((n=>n()))}if(t){const s=this.on(e,(function(){for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];t.call(this,...o),s()}));return s}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const s=this.__eventListeners[e],n=s.indexOf(t);n>-1&&s.splice(n,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(e===void 0)for(const s in this.__eventListeners)this._removeEventListener(s);else typeof e=="object"?Object.entries(e).forEach((s=>{let[n,o]=s;this._removeEventListener(n,o)})):this._removeEventListener(e,t)}fire(e,t){var s;if(!this.__eventListeners)return;const n=(s=this.__eventListeners[e])===null||s===void 0?void 0:s.concat();if(n)for(let o=0;o<n.length;o++)n[o].call(this,t||{})}}const sa=(r,e)=>{const t=r.indexOf(e);return t!==-1&&r.splice(t,1),r},$n=r=>{if(r===0)return 1;switch(Math.abs(r)/Oc){case 1:case 3:return 0;case 2:return-1}return Math.cos(r)},Gn=r=>{if(r===0)return 0;const e=r/Oc,t=Math.sign(r);switch(e){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(r)};class ne{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new ne(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new ne(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new ne(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new ne(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new ne(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new ne(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new ne(this.x/e.x,this.y/e.y)}scalarDivide(e){return new ne(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new ne(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,s=this.y-e.y;return Math.sqrt(t*t+s*s)}midPointFrom(e){return this.lerp(e)}min(e){return new ne(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new ne(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,s=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=s}clone(){return new ne(this.x,this.y)}rotate(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ly;const s=Gn(e),n=$n(e),o=this.subtract(t);return new ne(o.x*n-o.y*s,o.x*s+o.y*n).add(t)}transform(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new ne(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}}const Ly=new ne(0,0),qu=r=>!!r&&Array.isArray(r._objects);function Gj(r){class e extends r{constructor(){super(...arguments),W(this,"_objects",[])}_onObjectAdded(s){}_onObjectRemoved(s){}_onStackOrderChanged(s){}add(){for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];const l=this._objects.push(...n);return n.forEach((d=>this._onObjectAdded(d))),l}insertAt(s){for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return this._objects.splice(s,0,...o),o.forEach((d=>this._onObjectAdded(d))),this._objects.length}remove(){const s=this._objects,n=[];for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];return l.forEach((u=>{const h=s.indexOf(u);h!==-1&&(s.splice(h,1),n.push(u),this._onObjectRemoved(u))})),n}forEachObject(s){this.getObjects().forEach(((n,o,l)=>s(n,o,l)))}getObjects(){for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return n.length===0?[...this._objects]:this._objects.filter((l=>l.isType(...n)))}item(s){return this._objects[s]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(s,n){return!!this._objects.includes(s)||!!n&&this._objects.some((o=>o instanceof e&&o.contains(s,!0)))}complexity(){return this._objects.reduce(((s,n)=>s+=n.complexity?n.complexity():0),0)}sendObjectToBack(s){return!(!s||s===this._objects[0])&&(sa(this._objects,s),this._objects.unshift(s),this._onStackOrderChanged(s),!0)}bringObjectToFront(s){return!(!s||s===this._objects[this._objects.length-1])&&(sa(this._objects,s),this._objects.push(s),this._onStackOrderChanged(s),!0)}sendObjectBackwards(s,n){if(!s)return!1;const o=this._objects.indexOf(s);if(o!==0){const l=this.findNewLowerIndex(s,o,n);return sa(this._objects,s),this._objects.splice(l,0,s),this._onStackOrderChanged(s),!0}return!1}bringObjectForward(s,n){if(!s)return!1;const o=this._objects.indexOf(s);if(o!==this._objects.length-1){const l=this.findNewUpperIndex(s,o,n);return sa(this._objects,s),this._objects.splice(l,0,s),this._onStackOrderChanged(s),!0}return!1}moveObjectTo(s,n){return s!==this._objects[n]&&(sa(this._objects,s),this._objects.splice(n,0,s),this._onStackOrderChanged(s),!0)}findNewLowerIndex(s,n,o){let l;if(o){l=n;for(let d=n-1;d>=0;--d)if(s.isOverlapping(this._objects[d])){l=d;break}}else l=n-1;return l}findNewUpperIndex(s,n,o){let l;if(o){l=n;for(let d=n+1;d<this._objects.length;++d)if(s.isOverlapping(this._objects[d])){l=d;break}}else l=n+1;return l}collectObjects(s){let{left:n,top:o,width:l,height:d}=s,{includeIntersecting:u=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=[],p=new ne(n,o),m=p.add(new ne(l,d));for(let y=this._objects.length-1;y>=0;y--){const x=this._objects[y];x.selectable&&x.visible&&(u&&x.intersectsWithRect(p,m)||x.isContainedWithinRect(p,m)||u&&x.containsPoint(p)||u&&x.containsPoint(m))&&h.push(x)}return h}}return e}class Yj extends A6{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return typeof e=="object"?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return typeof t=="boolean"&&this.set(e,!t),this}get(e){return this[e]}}function Zu(r){return rf().requestAnimationFrame(r)}function R6(r){return rf().cancelAnimationFrame(r)}let O6=0;const Lo=()=>O6++,vn=()=>{const r=Ba().createElement("canvas");if(!r||r.getContext===void 0)throw new dn("Failed to create `canvas` element");return r},F6=()=>Ba().createElement("img"),ks=r=>{const e=vn();return e.width=r.width,e.height=r.height,e},Xj=(r,e,t)=>r.toDataURL("image/".concat(e),t),Kj=(r,e,t)=>new Promise(((s,n)=>{r.toBlob(s,"image/".concat(e),t)})),Wt=r=>r*Ay,Yn=r=>r/Ay,L6=r=>r.every(((e,t)=>e===Dr[t])),Br=(r,e,t)=>new ne(r).transform(e,t),Is=r=>{const e=1/(r[0]*r[3]-r[1]*r[2]),t=[e*r[3],-e*r[1],-e*r[2],e*r[0],0,0],{x:s,y:n}=new ne(r[4],r[5]).transform(t,!0);return t[4]=-s,t[5]=-n,t},dr=(r,e,t)=>[r[0]*e[0]+r[2]*e[1],r[1]*e[0]+r[3]*e[1],r[0]*e[2]+r[2]*e[3],r[1]*e[2]+r[3]*e[3],t?0:r[0]*e[4]+r[2]*e[5]+r[4],t?0:r[1]*e[4]+r[3]*e[5]+r[5]],zy=(r,e)=>r.reduceRight(((t,s)=>s&&t?dr(s,t,e):s||t),void 0)||Dr.concat(),qj=r=>{let[e,t]=r;return Math.atan2(t,e)},Th=r=>{const e=qj(r),t=Math.pow(r[0],2)+Math.pow(r[1],2),s=Math.sqrt(t),n=(r[0]*r[3]-r[2]*r[1])/s,o=Math.atan2(r[0]*r[2]+r[1]*r[3],t);return{angle:Yn(e),scaleX:s,scaleY:n,skewX:Yn(o),skewY:0,translateX:r[4]||0,translateY:r[5]||0}},Fc=function(r){return[1,0,0,1,r,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Ha(){let{angle:r=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:t=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=Wt(r),n=$n(s),o=Gn(s);return[n,o,-o,n,e?e-(n*e-o*t):0,t?t-(o*e+n*t):0]}const Iy=function(r){return[r,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,0,0]},Zj=r=>Math.tan(Wt(r)),Jj=r=>[1,0,Zj(r),1,0,0],Qj=r=>[1,Zj(r),0,1,0,0],of=r=>{let{scaleX:e=1,scaleY:t=1,flipX:s=!1,flipY:n=!1,skewX:o=0,skewY:l=0}=r,d=Iy(s?-e:e,n?-t:t);return o&&(d=dr(d,Jj(o),!0)),l&&(d=dr(d,Qj(l),!0)),d},z6=r=>{const{translateX:e=0,translateY:t=0,angle:s=0}=r;let n=Fc(e,t);s&&(n=dr(n,Ha({angle:s})));const o=of(r);return L6(o)||(n=dr(n,o)),n},Ju=function(r){let{signal:e,crossOrigin:t=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((function(s,n){if(e&&e.aborted)return n(new T6("loadImage"));const o=F6();let l;e&&(l=function(u){o.src="",n(u)},e.addEventListener("abort",l,{once:!0}));const d=function(){o.onload=o.onerror=null,l&&e?.removeEventListener("abort",l),s(o)};r?(o.onload=d,o.onerror=function(){l&&e?.removeEventListener("abort",l),n(new dn("Error loading ".concat(o.src)))},t&&(o.crossOrigin=t),o.src=r):d()}))},xc=function(r){let{signal:e,reviver:t=Ku}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(((s,n)=>{const o=[];e&&e.addEventListener("abort",n,{once:!0}),Promise.all(r.map((l=>Ae.getClass(l.type).fromObject(l,{signal:e}).then((d=>(t(l,d),o.push(d),d)))))).then(s).catch((l=>{o.forEach((d=>{d.dispose&&d.dispose()})),n(l)})).finally((()=>{e&&e.removeEventListener("abort",n)}))}))},af=function(r){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(((t,s)=>{const n=[];e&&e.addEventListener("abort",s,{once:!0});const o=Object.values(r).map((d=>d&&d.type&&Ae.has(d.type)?xc([d],{signal:e}).then((u=>{let[h]=u;return n.push(h),h})):d)),l=Object.keys(r);Promise.all(o).then((d=>d.reduce(((u,h,p)=>(u[l[p]]=h,u)),{}))).then(t).catch((d=>{n.forEach((u=>{u.dispose&&u.dispose()})),s(d)})).finally((()=>{e&&e.removeEventListener("abort",s)}))}))},Ua=function(r){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce(((e,t)=>(t in r&&(e[t]=r[t]),e)),{})},By=(r,e)=>Object.keys(r).reduce(((t,s)=>(e(r[s],s,r)&&(t[s]=r[s]),t)),{}),gt=(r,e)=>parseFloat(Number(r).toFixed(e)),vc=r=>"matrix("+r.map((e=>gt(e,at.NUM_FRACTION_DIGITS))).join(" ")+")",bs=r=>!!r&&r.toLive!==void 0,sS=r=>!!r&&typeof r.toObject=="function",nS=r=>!!r&&r.offsetX!==void 0&&"source"in r,ui=r=>!!r&&"multiSelectionStacking"in r;function eN(r){const e=r&&zs(r);let t=0,s=0;if(!r||!e)return{left:t,top:s};let n=r;const o=e.documentElement,l=e.body||{scrollLeft:0,scrollTop:0};for(;n&&(n.parentNode||n.host)&&(n=n.parentNode||n.host,n===e?(t=l.scrollLeft||o.scrollLeft||0,s=l.scrollTop||o.scrollTop||0):(t+=n.scrollLeft||0,s+=n.scrollTop||0),n.nodeType!==1||n.style.position!=="fixed"););return{left:t,top:s}}const zs=r=>r.ownerDocument||null,tN=r=>{var e;return((e=r.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},rN=function(r,e,t){let{width:s,height:n}=t,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;r.width=s,r.height=n,o>1&&(r.setAttribute("width",(s*o).toString()),r.setAttribute("height",(n*o).toString()),e.scale(o,o))},t0=(r,e)=>{let{width:t,height:s}=e;t&&(r.style.width=typeof t=="number"?"".concat(t,"px"):t),s&&(r.style.height=typeof s=="number"?"".concat(s,"px"):s)};function oS(r){return r.onselectstart!==void 0&&(r.onselectstart=()=>!1),r.style.userSelect=Hr,r}class sN{constructor(e){W(this,"_originalCanvasStyle",void 0),W(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(s=e)&&s.getContext!==void 0?e:e&&Ba().getElementById(e)||vn();var s;if(t.hasAttribute("data-fabric"))throw new dn("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:s}=e;const{el:n}=this.lower;n.classList.remove("lower-canvas"),n.removeAttribute("data-fabric"),n.setAttribute("width","".concat(t)),n.setAttribute("height","".concat(s)),n.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:s,ctx:n}=this.lower;rN(s,n,e,t)}setCSSDimensions(e){t0(this.lower.el,e)}calcOffset(){return(function(e){var t;const s=e&&zs(e),n={left:0,top:0};if(!s)return n;const o=((t=tN(e))===null||t===void 0?void 0:t.getComputedStyle(e,null))||{};n.left+=parseInt(o.borderLeftWidth,10)||0,n.top+=parseInt(o.borderTopWidth,10)||0,n.left+=parseInt(o.paddingLeft,10)||0,n.top+=parseInt(o.paddingTop,10)||0;let l={left:0,top:0};const d=s.documentElement;e.getBoundingClientRect!==void 0&&(l=e.getBoundingClientRect());const u=eN(e);return{left:l.left+u.left-(d.clientLeft||0)+n.left,top:l.top+u.top-(d.clientTop||0)+n.top}})(this.lower.el)}dispose(){xn().dispose(this.lower.el),delete this.lower}}const I6={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Dr]};class Lc extends Gj(Yj){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return Lc.ownDefaults}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new sN(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const o=super.insertAt(e,...s);return s.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),o}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Fo("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?Wj():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,t){return this.setDimensions({width:e},t)}setHeight(e,t){return this.setDimensions({height:e},t)}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:s=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t){const n=Y({width:this.width,height:this.height},e);this.elements.setDimensions(n,this.getRetinaScaling()),this.hasLostContext=!0,this.width=n.width,this.height=n.height}s||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const s=e,n=[...this.viewportTransform],o=Br(e,Is(n));n[0]=t,n[3]=t;const l=Br(o,n);n[4]+=s.x-l.x,n[5]+=s.y-l.y,this.setViewportTransform(n)}setZoom(e){this.zoomToPoint(new ne(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new ne(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Zu((()=>this.renderAndReset())))}calcViewportBoundaries(){const e=this.width,t=this.height,s=Is(this.viewportTransform),n=Br({x:0,y:0},s),o=Br({x:e,y:t},s),l=n.min(o),d=n.max(o);return this.vptCoords={tl:l,tr:new ne(d.x,l.y),bl:new ne(l.x,d.y),br:d}}cancelRequestedRender(){this.nextRenderHandle&&(R6(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const s=this.viewportTransform,n=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),n&&(n._set("canvas",this),n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,n)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const s=this.viewportTransform;e.save(),e.transform(...s),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let s=0,n=t.length;s<n;++s)t[s]&&t[s].render(e)}_renderBackgroundOrOverlay(e,t){const s=this["".concat(t,"Color")],n=this["".concat(t,"Image")],o=this.viewportTransform,l=this["".concat(t,"Vpt")];if(!s&&!n)return;const d=bs(s);if(s){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=d?s.toLive(e):s,l&&e.transform(...o),d){e.transform(1,0,0,1,s.offsetX||0,s.offsetY||0);const u=s.gradientTransform||s.patternTransform;u&&e.transform(...u)}e.fill(),e.restore()}if(n){e.save();const{skipOffscreen:u}=this;this.skipOffscreen=l,l&&e.transform(...o),n.render(e),this.skipOffscreen=u,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ne(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new ne(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new ne(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new ne(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new ne(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Br(this.getCenterPoint(),Is(this.viewportTransform))}_centerObject(e,t){e.setXY(t,Qe,Qe),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const s=this.clipPath,n=s&&!s.excludeFromExport?this._toObject(s,e,t):null;return Y(Y(Y({version:Qg},Ua(this,t)),{},{objects:this._objects.filter((o=>!o.excludeFromExport)).map((o=>this._toObject(o,e,t)))},this.__serializeBgOverlay(e,t)),n?{clipPath:n}:null)}_toObject(e,t,s){let n;this.includeDefaultValues||(n=e.includeDefaultValues,e.includeDefaultValues=!1);const o=e[t](s);return this.includeDefaultValues||(e.includeDefaultValues=!!n),o}__serializeBgOverlay(e,t){const s={},n=this.backgroundImage,o=this.overlayImage,l=this.backgroundColor,d=this.overlayColor;return bs(l)?l.excludeFromExport||(s.background=l.toObject(t)):l&&(s.background=l),bs(d)?d.excludeFromExport||(s.overlay=d.toObject(t)):d&&(s.overlay=d),n&&!n.excludeFromExport&&(s.backgroundImage=this._toObject(n,e,t)),o&&!o.excludeFromExport&&(s.overlayImage=this._toObject(o,e,t)),s}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const s=[];return this._setSVGPreamble(s,e),this._setSVGHeader(s,e),this.clipPath&&s.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(s,"background"),this._setSVGBgOverlayImage(s,"backgroundImage",t),this._setSVGObjects(s,t),this.clipPath&&s.push(`</g>
`),this._setSVGBgOverlayColor(s,"overlay"),this._setSVGBgOverlayImage(s,"overlayImage",t),s.push("</svg>"),s.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,t){const s=t.width||"".concat(this.width),n=t.height||"".concat(this.height),o=at.NUM_FRACTION_DIGITS,l=t.viewBox;let d;if(l)d='viewBox="'.concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height,'" ');else if(this.svgViewportTransformation){const u=this.viewportTransform;d='viewBox="'.concat(gt(-u[4]/u[0],o)," ").concat(gt(-u[5]/u[3],o)," ").concat(gt(this.width/u[0],o)," ").concat(gt(this.height/u[3],o),'" ')}else d='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',s,'" ','height="',n,'" ',d,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Qg,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),`</defs>
`)}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(Lo()),'<clipPath id="'.concat(t.clipPathId,`" >
`).concat(t.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((e=>{const t=this["".concat(e,"Color")];if(bs(t)){const s=this["".concat(e,"Vpt")],n=this.viewportTransform,o={isType:()=>!1,width:this.width/(s?n[0]:1),height:this.height/(s?n[3]:1)};return t.toSVG(o,{additionalTransform:s?vc(n):""})}})).join("")}createSVGFontFacesMarkup(){const e=[],t={},s=at.fontPaths;this._objects.forEach((function o(l){e.push(l),qu(l)&&l._objects.forEach(o)})),e.forEach((o=>{if(!(l=o)||typeof l._renderText!="function")return;var l;const{styles:d,fontFamily:u}=o;!t[u]&&s[u]&&(t[u]=!0,d&&Object.values(d).forEach((h=>{Object.values(h).forEach((p=>{let{fontFamily:m=""}=p;!t[m]&&s[m]&&(t[m]=!0)}))})))}));const n=Object.keys(t).map((o=>`		@font-face {
			font-family: '`.concat(o,`';
			src: url('`).concat(s[o],`');
		}
`))).join("");return n?`	<style type="text/css"><![CDATA[
`.concat(n,`]]></style>
`):""}_setSVGObjects(e,t){this.forEachObject((s=>{s.excludeFromExport||this._setSVGObject(e,s,t)}))}_setSVGObject(e,t,s){e.push(t.toSVG(s))}_setSVGBgOverlayImage(e,t,s){const n=this[t];n&&!n.excludeFromExport&&n.toSVG&&e.push(n.toSVG(s))}_setSVGBgOverlayColor(e,t){const s=this["".concat(t,"Color")];if(s)if(bs(s)){const n=s.repeat||"",o=this.width,l=this.height,d=this["".concat(t,"Vpt")]?vc(Is(this.viewportTransform)):"";e.push('<rect transform="'.concat(d," translate(").concat(o/2,",").concat(l/2,')" x="').concat(s.offsetX-o/2,'" y="').concat(s.offsetY-l/2,'" width="').concat(n!=="repeat-y"&&n!=="no-repeat"||!nS(s)?o:s.source.width,'" height="').concat(n!=="repeat-x"&&n!=="no-repeat"||!nS(s)?l:s.source.height,'" fill="url(#SVGID_').concat(s.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',s,'"',`></rect>
`)}loadFromJSON(e,t){let{signal:s}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new dn("`json` is undefined"));const n=typeof e=="string"?JSON.parse(e):e,{objects:o=[],backgroundImage:l,background:d,overlayImage:u,overlay:h,clipPath:p}=n,m=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([xc(o,{reviver:t,signal:s}),af({backgroundImage:l,backgroundColor:d,overlayImage:u,overlayColor:h,clipPath:p},{signal:s})]).then((y=>{let[x,v]=y;return this.clear(),this.add(...x),this.set(n),this.set(v),this.renderOnAddRemove=m,this}))}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=ks(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:s=1,multiplier:n=1,enableRetinaScaling:o=!1}=e,l=n*(o?this.getRetinaScaling():1);return Xj(this.toCanvasElement(l,e),t,s)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:s=1,multiplier:n=1,enableRetinaScaling:o=!1}=e,l=n*(o?this.getRetinaScaling():1);return Kj(this.toCanvasElement(l,e),t,s)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:t,height:s,left:n,top:o,filter:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=(t||this.width)*e,u=(s||this.height)*e,h=this.getZoom(),p=this.width,m=this.height,y=this.skipControlsDrawing,x=h*e,v=this.viewportTransform,w=[x,0,0,x,(v[4]-(n||0))*e,(v[5]-(o||0))*e],j=this.enableRetinaScaling,C=ks({width:d,height:u}),N=l?this._objects.filter((k=>l(k))):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=w,this.width=d,this.height=u,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(C.getContext("2d"),N),this.viewportTransform=v,this.width=p,this.height=m,this.calcViewportBoundaries(),this.enableRetinaScaling=j,this.skipControlsDrawing=y,C}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Nh.cancelByCanvas(this),this.disposed=!0,new Promise(((e,t)=>{const s=()=>{this.destroy(),e(!0)};s.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=s:s()}))}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((e=>e.dispose())),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}W(Lc,"ownDefaults",I6);const B6=["touchstart","touchmove","touchend"],V6=r=>{const e=eN(r.target),t=(function(s){const n=s.changedTouches;return n&&n[0]?n[0]:s})(r);return new ne(t.clientX+e.left,t.clientY+e.top)},r0=r=>B6.includes(r.type)||r.pointerType==="touch",iS=r=>{r.preventDefault(),r.stopPropagation()},Bn=r=>{let e=0,t=0,s=0,n=0;for(let o=0,l=r.length;o<l;o++){const{x:d,y:u}=r[o];(d>s||!o)&&(s=d),(d<e||!o)&&(e=d),(u>n||!o)&&(n=u),(u<t||!o)&&(t=u)}return{left:e,top:t,width:s-e,height:n-t}},W6=["translateX","translateY","scaleX","scaleY"],H6=(r,e)=>_h(r,dr(e,r.calcOwnMatrix())),_h=(r,e)=>{const t=Th(e),{translateX:s,translateY:n,scaleX:o,scaleY:l}=t,d=kt(t,W6),u=new ne(s,n);r.flipX=!1,r.flipY=!1,Object.assign(r,d),r.set({scaleX:o,scaleY:l}),r.setPositionByOrigin(u,Qe,Qe)},U6=r=>{r.scaleX=1,r.scaleY=1,r.skewX=0,r.skewY=0,r.flipX=!1,r.flipY=!1,r.rotate(0)},nN=r=>({scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,angle:r.angle,left:r.left,flipX:r.flipX,flipY:r.flipY,top:r.top}),Vy=(r,e,t)=>{const s=r/2,n=e/2,o=[new ne(-s,-n),new ne(s,-n),new ne(-s,n),new ne(s,n)].map((d=>d.transform(t))),l=Bn(o);return new ne(l.width,l.height)},lf=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dr;return dr(Is(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dr),r)},ga=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dr,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dr;return r.transform(lf(e,t))},$6=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dr,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dr;return r.transform(lf(e,t),!0)},G6=(r,e,t)=>{const s=lf(e,t);return _h(r,dr(s,r.calcOwnMatrix())),s},oN=(r,e)=>{var t;const{transform:{target:s}}=e;(t=s.canvas)===null||t===void 0||t.fire("object:".concat(r),Y(Y({},e),{},{target:s})),s.fire(r,e)},Y6={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Xt=r=>typeof r=="string"?Y6[r]:r-.5,Mh="not-allowed";function iN(r){return Xt(r.originX)===Xt(Qe)&&Xt(r.originY)===Xt(Qe)}function aS(r){return .5-Xt(r)}const Vs=(r,e)=>r[e],aN=(r,e,t,s)=>({e:r,transform:e,pointer:new ne(t,s)});function lN(r,e){const t=r.getTotalAngle()+Yn(Math.atan2(e.y,e.x))+360;return Math.round(t%360/45)}function Wy(r,e,t,s,n){var o;let{target:l,corner:d}=r;const u=l.controls[d],h=((o=l.canvas)===null||o===void 0?void 0:o.getZoom())||1,p=l.padding/h,m=(function(y,x,v,w){const j=y.getRelativeCenterPoint(),C=v!==void 0&&w!==void 0?y.translateToGivenOrigin(j,Qe,Qe,v,w):new ne(y.left,y.top);return(y.angle?x.rotate(-Wt(y.angle),j):x).subtract(C)})(l,new ne(s,n),e,t);return m.x>=p&&(m.x-=p),m.x<=-p&&(m.x+=p),m.y>=p&&(m.y-=p),m.y<=p&&(m.y+=p),m.x-=u.offsetX,m.y-=u.offsetY,m}const X6=(r,e,t,s)=>{const{target:n,offsetX:o,offsetY:l}=e,d=t-o,u=s-l,h=!Vs(n,"lockMovementX")&&n.left!==d,p=!Vs(n,"lockMovementY")&&n.top!==u;return h&&n.set(ut,d),p&&n.set(Wr,u),(h||p)&&oN(Hj,aN(r,e,t,s)),h||p},lS={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Rm=(r,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r),cS=(r,e,t,s)=>{r/=255,e/=255,t/=255;const n=Math.max(r,e,t),o=Math.min(r,e,t);let l,d;const u=(n+o)/2;if(n===o)l=d=0;else{const h=n-o;switch(d=u>.5?h/(2-n-o):h/(n+o),n){case r:l=(e-t)/h+(e<t?6:0);break;case e:l=(t-r)/h+2;break;case t:l=(r-e)/h+4}l/=6}return[Math.round(360*l),Math.round(100*d),Math.round(100*u),s]},dS=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(r)/(r.endsWith("%")?100:1)},nu=r=>Math.min(Math.round(r),255).toString(16).toUpperCase().padStart(2,"0"),uS=r=>{let[e,t,s,n=1]=r;const o=Math.round(.3*e+.59*t+.11*s);return[o,o,o,n]};class dt{constructor(e){if(W(this,"isUnrecognised",!1),e)if(e instanceof dt)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,s,n,o=1]=e;this.setSource([t,s,n,o])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in lS&&(e=lS[e]),e==="transparent"?[255,255,255,0]:dt.sourceFromHex(e)||dt.sourceFromRgb(e)||dt.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,s]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(s,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,s]=cS(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(s,"%)")}toHsla(){const[e,t,s,n]=cS(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(s,"%,").concat(n,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,s,n]=this.getSource();return"".concat(nu(e)).concat(nu(t)).concat(nu(s)).concat(nu(Math.round(255*n)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(uS(this.getSource())),this}toBlackWhite(e){const[t,,,s]=uS(this.getSource()),n=t<(e||127)?0:255;return this.setSource([n,n,n,s]),this}overlayWith(e){e instanceof dt||(e=new dt(e));const t=this.getSource(),s=e.getSource(),[n,o,l]=t.map(((d,u)=>Math.round(.5*d+.5*s[u])));return this.setSource([n,o,l,t[3]]),this}static fromRgb(e){return dt.fromRgba(e)}static fromRgba(e){return new dt(dt.sourceFromRgb(e))}static sourceFromRgb(e){const t=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(t){const[s,n,o]=t.slice(1,4).map((l=>{const d=parseFloat(l);return l.endsWith("%")?Math.round(2.55*d):d}));return[s,n,o,dS(t[4])]}}static fromHsl(e){return dt.fromHsla(e)}static fromHsla(e){return new dt(dt.sourceFromHsl(e))}static sourceFromHsl(e){const t=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!t)return;const s=(dt.parseAngletoDegrees(t[1])%360+360)%360/360,n=parseFloat(t[2])/100,o=parseFloat(t[3])/100;let l,d,u;if(n===0)l=d=u=o;else{const h=o<=.5?o*(n+1):o+n-o*n,p=2*o-h;l=Rm(p,h,s+1/3),d=Rm(p,h,s),u=Rm(p,h,s-1/3)}return[Math.round(255*l),Math.round(255*d),Math.round(255*u),dS(t[4])]}static fromHex(e){return new dt(dt.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let s;s=t.length<=4?t.split("").map((u=>u+u)):t.match(/.{2}/g);const[n,o,l,d=255]=s.map((u=>parseInt(u,16)));return[n,o,l,d/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),s=parseFloat(t);return t.includes("rad")?Yn(s):t.includes("turn")?360*s:s}}const ya=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ry;const t=/\D{0,2}$/.exec(r),s=parseFloat(r),n=at.DPI;switch(t?.[0]){case"mm":return s*n/25.4;case"cm":return s*n/2.54;case"in":return s*n;case"pt":return s*n/72;case"pc":return s*n/72*12;case"em":return s*e;default:return s}},K6=r=>{const[e,t]=r.trim().split(" "),[s,n]=(o=e)&&o!==Hr?[o.slice(1,4),o.slice(5,8)]:o===Hr?[o,o]:["Mid","Mid"];var o;return{meetOrSlice:t||"meet",alignX:s,alignY:n}},bc=function(r,e){let t,s,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)t="url(#SVGID_".concat(e.id,")");else{const o=new dt(e),l=o.getAlpha();t=o.toRgb(),l!==1&&(s=l.toString())}else t="none";return n?"".concat(r,": ").concat(t,"; ").concat(s?"".concat(r,"-opacity: ").concat(s,"; "):""):"".concat(r,'="').concat(t,'" ').concat(s?"".concat(r,'-opacity="').concat(s,'" '):"")};class cN{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",s=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):Hr,o=this.strokeDashOffset?this.strokeDashOffset:"0",l=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",u=this.strokeMiterLimit?this.strokeMiterLimit:"4",h=this.opacity!==void 0?this.opacity:"1",p=this.visible?"":" visibility: hidden;",m=e?"":this.getSvgFilter(),y=bc(er,this.fill);return[bc(Ur,this.stroke),"stroke-width: ",s,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",l,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",u,"; ",y,"fill-rule: ",t,"; ","opacity: ",h,";",m,p].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=e?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'.concat(vc(s));return"".concat(n).concat(t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:s=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=n,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:s,withShadow:n,additionalTransform:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=t?"":'style="'.concat(this.getSvgStyles(),'" '),d=n?'style="'.concat(this.getSvgFilter(),'" '):"",u=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=u&&u.absolutePositioned,m=this.stroke,y=this.fill,x=this.shadow,v=[],w=e.indexOf("COMMON_PARTS");let j;u&&(u.clipPathId="CLIPPATH_".concat(Lo()),j='<clipPath id="'.concat(u.clipPathId,`" >
`).concat(u.toClipPathSVG(s),`</clipPath>
`)),p&&v.push("<g ",d,this.getSvgCommons(),` >
`),v.push("<g ",this.getSvgTransform(!1),p?"":d+this.getSvgCommons(),` >
`);const C=[l,h,t?"":this.addPaintOrder()," ",o?'transform="'.concat(o,'" '):""].join("");return e[w]=C,bs(y)&&v.push(y.toSVG(this)),bs(m)&&v.push(m.toSVG(this)),x&&v.push(x.toSVG(this)),u&&v.push(j),v.push(e.join("")),v.push(`</g>
`),p&&v.push(`</g>
`),s?s(v.join("")):v.join("")}addPaintOrder(){return this.paintFirst!==er?' paint-order="'.concat(this.paintFirst,'" '):""}}function cf(r){return new RegExp("^("+r.join("|")+")\\b","i")}const Si="textDecorationThickness",dN=["fontSize","fontWeight","fontFamily","fontStyle"],uN=["underline","overline","linethrough"],hN=[...dN,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],fN=[...hN,...uN,"textBackgroundColor","direction",Si],q6=[...dN,...uN,Ur,"strokeWidth",er,"deltaY","textBackgroundColor",Si],Z6={_reNewline:Oy,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:ut,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:ut,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[Si]:66.667},on="justify",Eh="justify-left",ec="justify-right",tc="justify-center";var hS,fS,pS;const Bs=String.raw(hS||(hS=Cn(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Om=String.raw(fS||(fS=Cn(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),J6=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Bs+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Bs+"))?\\s+(.*)"),Q6={cx:ut,x:ut,r:"radius",cy:Wr,y:Wr,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":Si},Fm="font-size",Lm="clip-path";cf(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);cf(["symbol","image","marker","pattern","view","svg"]);const mS=cf(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(pS||(pS=Cn(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Bs,Om,Bs,Om,Bs,Om,Bs));const ez=new ne(1,0),pN=new ne,mN=(r,e)=>r.rotate(e),s0=(r,e)=>new ne(e).subtract(r),n0=r=>r.distanceFrom(pN),o0=(r,e)=>Math.atan2(rc(r,e),rz(r,e)),tz=r=>o0(ez,r),Hy=r=>r.eq(pN)?r:r.scalarDivide(n0(r)),gN=function(r){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Hy(new ne(-r.y,r.x).scalarMultiply(e?1:-1))},rc=(r,e)=>r.x*e.y-r.y*e.x,rz=(r,e)=>r.x*e.x+r.y*e.y,gS=(r,e,t)=>{if(r.eq(e)||r.eq(t))return!0;const s=rc(e,t),n=rc(e,r),o=rc(t,r);return s>=0?n>=0&&o<=0:!(n<=0&&o>=0)},yS="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",xS=new RegExp("(?:\\s|^)"+yS+yS+"("+Bs+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class br{constructor(e){const t=typeof e=="string"?br.parseShadow(e):e;Object.assign(this,br.ownDefaults,t),this.id=Lo()}static parseShadow(e){const t=e.trim(),[,s=0,n=0,o=0]=(xS.exec(t)||[]).map((l=>parseFloat(l)||0));return{color:(t.replace(xS,"")||"rgb(0,0,0)").trim(),offsetX:s,offsetY:n,blur:o}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=mN(new ne(this.offsetX,this.offsetY),Wt(-e.angle)),s=new dt(this.color);let n=40,o=40;return e.width&&e.height&&(n=100*gt((Math.abs(t.x)+this.blur)/e.width,at.NUM_FRACTION_DIGITS)+20,o=100*gt((Math.abs(t.y)+this.blur)/e.height,at.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(o,'%" height="').concat(100+2*o,'%" x="-').concat(n,'%" width="').concat(100+2*n,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(gt(this.blur?this.blur/2:0,at.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(gt(t.x,at.NUM_FRACTION_DIGITS),'" dy="').concat(gt(t.y,at.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(s.toRgb(),'" flood-opacity="').concat(s.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=br.ownDefaults;return this.includeDefaultValues?e:By(e,((s,n)=>s!==t[n]))}static async fromObject(e){return new this(e)}}W(br,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),W(br,"type","shadow"),Ae.setClass(br,"shadow");const Ma=(r,e,t)=>Math.max(r,Math.min(e,t)),sz=[Wr,ut,$r,Cs,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Va,Wa],Xn=[er,Ur,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],nz={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:ut,originY:Wr,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:er,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},oz=(r,e,t,s)=>-t*Math.cos(r/s*Oc)+t+e,iz=()=>!1;class Uy{constructor(e){let{startValue:t,byValue:s,duration:n=500,delay:o=0,easing:l=oz,onStart:d=Ku,onChange:u=Ku,onComplete:h=Ku,abort:p=iz,target:m}=e;W(this,"_state","pending"),W(this,"durationProgress",0),W(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=n,this.delay=o,this.easing=l,this._onStart=d,this._onChange=u,this._onComplete=h,this._abort=p,this.target=m,this.startValue=t,this.byValue=s,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=t=>{this._state==="pending"&&(this.startTime=t||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout((()=>Zu(e)),this.delay):Zu(e)}tick(e){const t=(e||+new Date)-this.startTime,s=Math.min(t,this.duration);this.durationProgress=s/this.duration;const{value:n,valueProgress:o}=this.calculate(s);this.value=Object.freeze(n),this.valueProgress=o,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Zu(this.tick)))}register(){Nh.push(this)}unregister(){Nh.remove(this)}abort(){this._state="aborted",this.unregister()}}const az=["startValue","endValue"];class lz extends Uy{constructor(e){let{startValue:t=0,endValue:s=100}=e;super(Y(Y({},kt(e,az)),{},{startValue:t,byValue:s-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}const cz=["startValue","endValue"];class dz extends Uy{constructor(e){let{startValue:t=[0],endValue:s=[100]}=e;super(Y(Y({},kt(e,cz)),{},{startValue:t,byValue:s.map(((n,o)=>n-t[o]))}))}calculate(e){const t=this.startValue.map(((s,n)=>this.easing(e,s,this.byValue[n],this.duration,n)));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const uz=["startValue","endValue","easing","onChange","onComplete","abort"],hz=(r,e,t,s)=>e+t*(1-Math.cos(r/s*Oc)),zm=r=>r&&((e,t,s)=>r(new dt(e).toRgba(),t,s));class fz extends Uy{constructor(e){let{startValue:t,endValue:s,easing:n=hz,onChange:o,onComplete:l,abort:d}=e,u=kt(e,uz);const h=new dt(t).getSource(),p=new dt(s).getSource();super(Y(Y({},u),{},{startValue:h,byValue:p.map(((m,y)=>m-h[y])),easing:n,onChange:zm(o),onComplete:zm(l),abort:zm(d)}))}calculate(e){const[t,s,n,o]=this.startValue.map(((d,u)=>this.easing(e,d,this.byValue[u],this.duration,u))),l=[...[t,s,n].map(Math.round),Ma(0,o,1)];return{value:l,valueProgress:l.map(((d,u)=>this.byValue[u]!==0?Math.abs((d-this.startValue[u])/this.byValue[u]):0)).find((d=>d!==0))||0}}}function yN(r){const e=(t=>Array.isArray(t.startValue)||Array.isArray(t.endValue))(r)?new dz(r):new lz(r);return e.start(),e}function pz(r){const e=new fz(r);return e.start(),e}class _t{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some((t=>t.eq(e)))}append(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.points=this.points.concat(t.filter((n=>!this.includes(n)))),this}static isPointContained(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(t.eq(s))return e.eq(t);if(t.x===s.x)return e.x===t.x&&(n||e.y>=Math.min(t.y,s.y)&&e.y<=Math.max(t.y,s.y));if(t.y===s.y)return e.y===t.y&&(n||e.x>=Math.min(t.x,s.x)&&e.x<=Math.max(t.x,s.x));{const o=s0(t,s),l=s0(t,e).divide(o);return n?Math.abs(l.x)===Math.abs(l.y):l.x===l.y&&l.x>=0&&l.x<=1}}static isPointInPolygon(e,t){const s=new ne(e).setX(Math.min(e.x-1,...t.map((o=>o.x))));let n=0;for(let o=0;o<t.length;o++){const l=this.intersectSegmentSegment(t[o],t[(o+1)%t.length],e,s);if(l.includes(e))return!0;n+=+(l.status==="Intersection")}return n%2==1}static intersectLineLine(e,t,s,n){let o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const d=t.x-e.x,u=t.y-e.y,h=n.x-s.x,p=n.y-s.y,m=e.x-s.x,y=e.y-s.y,x=h*y-p*m,v=d*y-u*m,w=p*d-h*u;if(w!==0){const j=x/w,C=v/w;return(o||0<=j&&j<=1)&&(l||0<=C&&C<=1)?new _t("Intersection").append(new ne(e.x+j*d,e.y+j*u)):new _t}if(x===0||v===0){const j=o||l||_t.isPointContained(e,s,n)||_t.isPointContained(t,s,n)||_t.isPointContained(s,e,t)||_t.isPointContained(n,e,t);return new _t(j?"Coincident":void 0)}return new _t("Parallel")}static intersectSegmentLine(e,t,s,n){return _t.intersectLineLine(e,t,s,n,!1,!0)}static intersectSegmentSegment(e,t,s,n){return _t.intersectLineLine(e,t,s,n,!1,!1)}static intersectLinePolygon(e,t,s){let n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const o=new _t,l=s.length;for(let d,u,h,p=0;p<l;p++){if(d=s[p],u=s[(p+1)%l],h=_t.intersectLineLine(e,t,d,u,n,!1),h.status==="Coincident")return h;o.append(...h.points)}return o.points.length>0&&(o.status="Intersection"),o}static intersectSegmentPolygon(e,t,s){return _t.intersectLinePolygon(e,t,s,!1)}static intersectPolygonPolygon(e,t){const s=new _t,n=e.length,o=[];for(let l=0;l<n;l++){const d=e[l],u=e[(l+1)%n],h=_t.intersectSegmentPolygon(d,u,t);h.status==="Coincident"?(o.push(h),s.append(d,u)):s.append(...h.points)}return o.length>0&&o.length===e.length?new _t("Coincident"):(s.points.length>0&&(s.status="Intersection"),s)}static intersectPolygonRectangle(e,t,s){const n=t.min(s),o=t.max(s),l=new ne(o.x,n.y),d=new ne(n.x,o.y);return _t.intersectPolygonPolygon(e,[n,l,o,d])}}class mz extends Yj{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Br(e,this.group.calcTransformMatrix()):e}setXY(e,t,s){this.group&&(e=Br(e,Is(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,s)}getRelativeXY(){return new ne(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,t,s)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:s,bl:n}=this.aCoords||(this.aCoords=this.calcACoords()),o=[e,t,s,n];if(this.group){const l=this.group.calcTransformMatrix();return o.map((d=>Br(d,l)))}return o}intersectsWithRect(e,t){return _t.intersectPolygonRectangle(this.getCoords(),e,t).status==="Intersection"}intersectsWithObject(e){const t=_t.intersectPolygonPolygon(this.getCoords(),e.getCoords());return t.status==="Intersection"||t.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every((t=>e.containsPoint(t)))}isContainedWithinRect(e,t){const{left:s,top:n,width:o,height:l}=this.getBoundingRect();return s>=e.x&&s+o<=t.x&&n>=e.y&&n+l<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return _t.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some((s=>s.x<=t.x&&s.x>=e.x&&s.y<=t.y&&s.y>=e.y))||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return this.intersectsWithRect(e,t)?!0:this.getCoords().every((s=>(s.x>=t.x||s.x<=e.x)&&(s.y>=t.y||s.y<=e.y)))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return Bn(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set($r,e),this._set(Cs,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Yn(qj(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||Dr.concat()}calcACoords(){const e=Ha({angle:this.angle}),{x:t,y:s}=this.getRelativeCenterPoint(),n=Fc(t,s),o=dr(n,e),l=this._getTransformedDimensions(),d=l.x/2,u=l.y/2;return{tl:Br({x:-d,y:-u},o),tr:Br({x:d,y:-u},o),bl:Br({x:-d,y:u},o),br:Br({x:d,y:u},o)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Xt(this.originX),Xt(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const s=this.transformMatrixKey(e),n=this.matrixCache;return n&&n.key.every(((o,l)=>o===s[l]))?n.value:(this.group&&(t=dr(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:s,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;const s=this.getRelativeCenterPoint(),n={angle:this.angle,translateX:s.x,translateY:s.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},o=z6(n);return this.ownMatrixCache={key:e,value:o},o}_getNonTransformedDimensions(){return new ne(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Y({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),s=t.strokeWidth;let n=s,o=0;this.strokeUniform&&(n=0,o=s);const l=t.width+n,d=t.height+n;let u;return u=t.skewX===0&&t.skewY===0?new ne(l*t.scaleX,d*t.scaleY):Vy(l,d,of(t)),u.scalarAdd(o)}translateToGivenOrigin(e,t,s,n,o){let l=e.x,d=e.y;const u=Xt(n)-Xt(t),h=Xt(o)-Xt(s);if(u||h){const p=this._getTransformedDimensions();l+=u*p.x,d+=h*p.y}return new ne(l,d)}translateToCenterPoint(e,t,s){if(t===Qe&&s===Qe)return e;const n=this.translateToGivenOrigin(e,t,s,Qe,Qe);return this.angle?n.rotate(Wt(this.angle),e):n}translateToOriginPoint(e,t,s){const n=this.translateToGivenOrigin(e,Qe,Qe,t,s);return this.angle?n.rotate(Wt(this.angle),e):n}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Br(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new ne(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,s){const n=this.translateToCenterPoint(e,t,s),o=this.translateToOriginPoint(n,this.originX,this.originY);this.set({left:o.x,top:o.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),ut,Wr)}}const gz=["type"],yz=["extraParam"];let Rn=class Qu extends mz{static getDefaults(){return Qu.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){Fo("warn","Setting type has no effect",e)}constructor(e){super(),W(this,"_cacheContext",null),Object.assign(this,Qu.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=vn(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,s=e.height,n=at.maxCacheSideLimit,o=at.minCacheSideLimit;if(t<=n&&s<=n&&t*s<=at.perfLimitSizeTotal)return t<o&&(e.width=o),s<o&&(e.height=o),e;const l=t/s,[d,u]=Ql.limitDimsByArea(l),h=Ma(o,d,n),p=Ma(o,u,n);return t>h&&(e.zoomX/=t/h,e.width=h,e.capped=!0),s>p&&(e.zoomY/=s/p,e.height=p,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),s=t.x*e.x/this.scaleX,n=t.y*e.y/this.scaleY;return{width:Math.ceil(s+2),height:Math.ceil(n+2),zoomX:e.x,zoomY:e.y,x:s,y:n}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,{width:s,height:n,zoomX:o,zoomY:l,x:d,y:u}=this._limitCacheSize(this._getCacheCanvasDimensions()),h=s!==e.width||n!==e.height,p=this.zoomX!==o||this.zoomY!==l;if(!e||!t)return!1;if(h||p){s!==e.width||n!==e.height?(e.width=s,e.height=n):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height));const m=d/2,y=u/2;return this.cacheTranslationX=Math.round(e.width/2-m)+m,this.cacheTranslationY=Math.round(e.height/2-y)+y,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(o,l),this.zoomX=o,this.zoomY=l,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,s=this.calcTransformMatrix(!t);e.transform(s[0],s[1],s[2],s[3],s[4],s[5])}getObjectScaling(){if(!this.group)return new ne(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=Th(this.calcTransformMatrix());return new ne(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),s=this.getCanvasRetinaScaling();return e.scalarMultiply(t*s)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,t){e!==$r&&e!==Cs||(t=this._constrainScale(t)),e===$r&&t<0?(this.flipX=!this.flipX,t*=-1):e==="scaleY"&&t<0?(this.flipY=!this.flipY,t*=-1):e!=="shadow"||!t||t instanceof br||(t=new br(t));const s=this[e]!==t;return this[e]=t,s&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||s&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:t,zoomY:s,cacheTranslationX:n,cacheTranslationY:o}=this,{width:l,height:d}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:t,zoomY:s,cacheTranslationX:n,cacheTranslationY:o,width:l,height:d,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Ur&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,t,s){e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(s,0,0),e.restore()}drawObject(e,t,s){const n=this.fill,o=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,s),this.fill=n,this.stroke=o}createClipPathLayer(e,t){const s=ks(t),n=s.getContext("2d");if(n.translate(t.cacheTranslationX,t.cacheTranslationY),n.scale(t.zoomX,t.zoomY),e._cacheCanvas=s,t.parentClipPaths.forEach((o=>{o.transform(n)})),t.parentClipPaths.push(e),e.absolutePositioned){const o=Is(this.calcTransformMatrix());n.transform(o[0],o[1],o[2],o[3],o[4],o[5])}return e.transform(n),e.drawObject(n,!0,t),s}_drawClipPath(e,t,s){if(!t)return;t._transformDone=!0;const n=this.createClipPathLayer(t,s);this.drawClipPathOnCache(e,t,n)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,s=this._cacheContext;return!(!t||!s||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&s&&!e&&(s.save(),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.width,t.height),s.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const s=t.stroke;s&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,bs(s)?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?this._applyPatternForTransformedGradient(e,s):(e.strokeStyle=s.toLive(e),this._applyPatternGradientTransform(e,s)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:s}=t;s&&(bs(s)?(e.fillStyle=s.toLive(e),this._applyPatternGradientTransform(e,s)):e.fillStyle=s)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&t.length!==0&&e.setLineDash(t)}_setShadow(e){if(!this.shadow)return;const t=this.shadow,s=this.canvas,n=this.getCanvasRetinaScaling(),[o,,,l]=s?.viewportTransform||Dr,d=o*n,u=l*n,h=t.nonScaling?new ne(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*at.browserShadowBlurConstant*(d+u)*(h.x+h.y)/4,e.shadowOffsetX=t.offsetX*d*h.x,e.shadowOffsetY=t.offsetY*u*h.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!bs(t))return{offsetX:0,offsetY:0};const s=t.gradientTransform||t.patternTransform,n=-this.width/2+t.offsetX||0,o=-this.height/2+t.offsetY||0;return t.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,n,o):e.transform(1,0,0,1,n,o),s&&e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),{offsetX:n,offsetY:o}}_renderPaintInOrder(e){this.paintFirst===Ur?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var s;const n=this._limitCacheSize(this._getCacheCanvasDimensions()),o=this.getCanvasRetinaScaling(),l=n.x/this.scaleX/o,d=n.y/this.scaleY/o,u=ks({width:Math.ceil(l),height:Math.ceil(d)}),h=u.getContext("2d");h&&(h.beginPath(),h.moveTo(0,0),h.lineTo(l,0),h.lineTo(l,d),h.lineTo(0,d),h.closePath(),h.translate(l/2,d/2),h.scale(n.zoomX/this.scaleX/o,n.zoomY/this.scaleY/o),this._applyPatternGradientTransform(h,t),h.fillStyle=t.toLive(e),h.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(o*this.scaleX/n.zoomX,o*this.scaleY/n.zoomY),e.strokeStyle=(s=h.createPattern(u,"no-repeat"))!==null&&s!==void 0?s:"")}_findCenterFromElement(){return new ne(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(Ae.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=nN(this),s=this.group,n=this.shadow,o=Math.abs,l=e.enableRetinaScaling?Wj():1,d=(e.multiplier||1)*l,u=e.canvasProvider||(N=>new Lc(N,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&U6(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&G6(this,this.getViewportTransform()),this.setCoords();const h=vn(),p=this.getBoundingRect(),m=this.shadow,y=new ne;if(m){const N=m.blur,k=m.nonScaling?new ne(1,1):this.getObjectScaling();y.x=2*Math.round(o(m.offsetX)+N)*o(k.x),y.y=2*Math.round(o(m.offsetY)+N)*o(k.y)}const x=p.width+y.x,v=p.height+y.y;h.width=Math.ceil(x),h.height=Math.ceil(v);const w=u(h);e.format==="jpeg"&&(w.backgroundColor="#fff"),this.setPositionByOrigin(new ne(w.width/2,w.height/2),Qe,Qe);const j=this.canvas;w._objects=[this],this.set("canvas",w),this.setCoords();const C=w.toCanvasElement(d||1,e);return this.set("canvas",j),this.shadow=n,s&&(this.group=s),this.set(t),this.setCoords(),w._objects=[],w.destroy(),C}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Xj(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Kj(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:s,originY:n}=this;if(t){const{x:o,y:l}=this.getRelativeCenterPoint();this.originX=Qe,this.originY=Qe,this.left=o,this.top=l}if(this.set("angle",e),t){const{x:o,y:l}=this.translateToOriginPoint(this.getRelativeCenterPoint(),s,n);this.left=o,this.top=l,this.originX=s,this.originY=n}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Nh.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&xn().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce(((s,n)=>{let[o,l]=n;return s[o]=this._animate(o,l,t),s}),{})}_animate(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.split("."),o=this.constructor.colorProperties.includes(n[n.length-1]),{abort:l,startValue:d,onChange:u,onComplete:h}=s,p=Y(Y({},s),{},{target:this,startValue:d??n.reduce(((m,y)=>m[y]),this),endValue:t,abort:l?.bind(this),onChange:(m,y,x)=>{n.reduce(((v,w,j)=>(j===n.length-1&&(v[w]=m),v[w])),this),u&&u(m,y,x)},onComplete:(m,y,x)=>{this.setCoords(),h&&h(m,y,x)}});return o?pz(p):yN(p)}isDescendantOf(e){const{parent:t,group:s}=this;return t===e||s===e||!!t&&t.isDescendantOf(e)||!!s&&s!==t&&s.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do t=t.parent,t&&e.push(t);while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),s=e.getAncestors();if(t.length===0&&s.length>0&&this===s[s.length-1])return{fork:[],otherFork:[e,...s.slice(0,s.length-1)],common:[this]};for(let n,o=0;o<t.length;o++){if(n=t[o],n===e)return{fork:[this,...t.slice(0,o)],otherFork:[],common:t.slice(o)};for(let l=0;l<s.length;l++){if(this===s[l])return{fork:[],otherFork:[e,...s.slice(0,l)],common:[this,...t]};if(n===s[l])return{fork:[this,...t.slice(0,o)],otherFork:[e,...s.slice(0,l)],common:t.slice(o)}}}return{fork:[this,...t],otherFork:[e,...s],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const s=t.common[0]||this.canvas;if(!s)return;const n=t.fork.pop(),o=t.otherFork.pop(),l=s._objects.indexOf(n),d=s._objects.indexOf(o);return l>-1&&l>d}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Qu.customProperties,this.constructor.customProperties||[]);let t;const s=at.NUM_FRACTION_DIGITS,{clipPath:n,fill:o,stroke:l,shadow:d,strokeDashArray:u,left:h,top:p,originX:m,originY:y,width:x,height:v,strokeWidth:w,strokeLineCap:j,strokeDashOffset:C,strokeLineJoin:N,strokeUniform:k,strokeMiterLimit:_,scaleX:P,scaleY:D,angle:M,flipX:E,flipY:R,opacity:O,visible:B,backgroundColor:L,fillRule:$,paintFirst:J,globalCompositeOperation:ce,skewX:V,skewY:X}=this;n&&!n.excludeFromExport&&(t=n.toObject(e.concat("inverted","absolutePositioned")));const F=H=>gt(H,s),ee=Y(Y({},Ua(this,e)),{},{type:this.constructor.type,version:Qg,originX:m,originY:y,left:F(h),top:F(p),width:F(x),height:F(v),fill:sS(o)?o.toObject():o,stroke:sS(l)?l.toObject():l,strokeWidth:F(w),strokeDashArray:u&&u.concat(),strokeLineCap:j,strokeDashOffset:C,strokeLineJoin:N,strokeUniform:k,strokeMiterLimit:F(_),scaleX:F(P),scaleY:F(D),angle:F(M),flipX:E,flipY:R,opacity:F(O),shadow:d&&d.toObject(),visible:B,backgroundColor:L,fillRule:$,paintFirst:J,globalCompositeOperation:ce,skewX:F(V),skewY:F(X)},t?{clipPath:t}:null);return this.includeDefaultValues?ee:this._removeDefaultValues(ee)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),s=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return By(e,((n,o)=>{if(o===ut||o===Wr||o==="type")return!0;const l=s[o];return n!==l&&!(Array.isArray(n)&&Array.isArray(l)&&n.length===0&&l.length===0)}))}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let t=kt(e,gz),s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:n}=s,o=kt(s,yz);return af(t,o).then((l=>n?(delete l[n],new this(t[n],l)):new this(l)))}static fromObject(e,t){return this._fromObject(e,t)}};W(Rn,"stateProperties",sz),W(Rn,"cacheProperties",Xn),W(Rn,"ownDefaults",nz),W(Rn,"type","FabricObject"),W(Rn,"colorProperties",[er,Ur,"backgroundColor"]),W(Rn,"customProperties",[]),Ae.setClass(Rn),Ae.setClass(Rn,"object");const $a=(r,e,t)=>(s,n,o,l)=>{const d=e(s,n,o,l);return d&&oN(r,Y(Y({},aN(s,n,o,l)),t)),d};function Ga(r){return(e,t,s,n)=>{const{target:o,originX:l,originY:d}=t,u=o.getRelativeCenterPoint(),h=o.translateToOriginPoint(u,l,d),p=r(e,t,s,n);return o.setPositionByOrigin(h,t.originX,t.originY),p}}const vS=$a(yc,Ga(((r,e,t,s)=>{const n=Wy(e,e.originX,e.originY,t,s);if(Xt(e.originX)===Xt(Qe)||Xt(e.originX)===Xt(Vt)&&n.x<0||Xt(e.originX)===Xt(ut)&&n.x>0){const{target:o}=e,l=o.strokeWidth/(o.strokeUniform?o.scaleX:1),d=iN(e)?2:1,u=o.width,h=Math.abs(n.x*d/o.scaleX)-l;return o.set("width",Math.max(h,1)),u!==o.width}return!1})));function xz(r,e,t,s,n){s=s||{};const o=this.sizeX||s.cornerSize||n.cornerSize,l=this.sizeY||s.cornerSize||n.cornerSize,d=s.transparentCorners!==void 0?s.transparentCorners:n.transparentCorners,u=d?Ur:er,h=!d&&(s.cornerStrokeColor||n.cornerStrokeColor);let p,m=e,y=t;r.save(),r.fillStyle=s.cornerColor||n.cornerColor||"",r.strokeStyle=s.cornerStrokeColor||n.cornerStrokeColor||"",o>l?(p=o,r.scale(1,l/o),y=t*o/l):l>o?(p=l,r.scale(o/l,1),m=e*l/o):p=o,r.beginPath(),r.arc(m,y,p/2,0,Ch,!1),r[u](),h&&r.stroke(),r.restore()}function vz(r,e,t,s,n){s=s||{};const o=this.sizeX||s.cornerSize||n.cornerSize,l=this.sizeY||s.cornerSize||n.cornerSize,d=s.transparentCorners!==void 0?s.transparentCorners:n.transparentCorners,u=d?Ur:er,h=!d&&(s.cornerStrokeColor||n.cornerStrokeColor),p=o/2,m=l/2;r.save(),r.fillStyle=s.cornerColor||n.cornerColor||"",r.strokeStyle=s.cornerStrokeColor||n.cornerStrokeColor||"",r.translate(e,t);const y=n.getTotalAngle();r.rotate(Wt(y)),r["".concat(u,"Rect")](-p,-m,o,l),h&&r.strokeRect(-p,-m,o,l),r.restore()}class Os{constructor(e){W(this,"visible",!0),W(this,"actionName",nf),W(this,"angle",0),W(this,"x",0),W(this,"y",0),W(this,"offsetX",0),W(this,"offsetY",0),W(this,"sizeX",0),W(this,"sizeY",0),W(this,"touchSizeX",0),W(this,"touchSizeY",0),W(this,"cursorStyle","crosshair"),W(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,s,n){var o;let{tl:l,tr:d,br:u,bl:h}=n;return((o=t.canvas)===null||o===void 0?void 0:o.getActiveObject())===t&&t.isControlVisible(e)&&_t.isPointInPolygon(s,[l,d,u,h])}getActionHandler(e,t,s){return this.actionHandler}getMouseDownHandler(e,t,s){return this.mouseDownHandler}getMouseUpHandler(e,t,s){return this.mouseUpHandler}cursorStyleHandler(e,t,s){return t.cursorStyle}getActionName(e,t,s){return t.actionName}getVisibility(e,t){var s,n;return(s=(n=e._controlsVisibility)===null||n===void 0?void 0:n[t])!==null&&s!==void 0?s:this.visible}setVisibility(e,t,s){this.visible=e}positionHandler(e,t,s,n){return new ne(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,s,n,o,l){const d=zy([Fc(s,n),Ha({angle:e}),Iy((o?this.touchSizeX:this.sizeX)||t,(o?this.touchSizeY:this.sizeY)||t)]);return{tl:new ne(-.5,-.5).transform(d),tr:new ne(.5,-.5).transform(d),br:new ne(.5,.5).transform(d),bl:new ne(-.5,.5).transform(d)}}render(e,t,s,n,o){((n=n||{}).cornerStyle||o.cornerStyle)==="circle"?xz.call(this,e,t,s,n,o):vz.call(this,e,t,s,n,o)}}const bz=(r,e,t)=>t.lockRotation?Mh:e.cursorStyle,wz=$a(Uj,Ga(((r,e,t,s)=>{let{target:n,ex:o,ey:l,theta:d,originX:u,originY:h}=e;const p=n.translateToOriginPoint(n.getRelativeCenterPoint(),u,h);if(Vs(n,"lockRotation"))return!1;const m=Math.atan2(l-p.y,o-p.x),y=Math.atan2(s-p.y,t-p.x);let x=Yn(y-m+d);if(n.snapAngle&&n.snapAngle>0){const w=n.snapAngle,j=n.snapThreshold||w,C=Math.ceil(x/w)*w,N=Math.floor(x/w)*w;Math.abs(x-N)<j?x=N:Math.abs(x-C)<j&&(x=C)}x<0&&(x=360+x),x%=360;const v=n.angle!==x;return n.angle=x,v})));function xN(r,e){const t=e.canvas,s=r[t.uniScaleKey];return t.uniformScaling&&!s||!t.uniformScaling&&s}function vN(r,e,t){const s=Vs(r,"lockScalingX"),n=Vs(r,"lockScalingY");if(s&&n||!e&&(s||n)&&t||s&&e==="x"||n&&e==="y")return!0;const{width:o,height:l,strokeWidth:d}=r;return o===0&&d===0&&e!=="y"||l===0&&d===0&&e!=="x"}const Sz=["e","se","s","sw","w","nw","n","ne","e"],$l=(r,e,t)=>{const s=xN(r,t);if(vN(t,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",s))return Mh;const n=lN(t,e);return"".concat(Sz[n],"-resize")};function $y(r,e,t,s){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const o=e.target,l=n.by,d=xN(r,o);let u,h,p,m,y,x;if(vN(o,l,d))return!1;if(e.gestureScale)h=e.scaleX*e.gestureScale,p=e.scaleY*e.gestureScale;else{if(u=Wy(e,e.originX,e.originY,t,s),y=l!=="y"?Math.sign(u.x||e.signX||1):1,x=l!=="x"?Math.sign(u.y||e.signY||1):1,e.signX||(e.signX=y),e.signY||(e.signY=x),Vs(o,"lockScalingFlip")&&(e.signX!==y||e.signY!==x))return!1;if(m=o._getTransformedDimensions(),d&&!l){const j=Math.abs(u.x)+Math.abs(u.y),{original:C}=e,N=j/(Math.abs(m.x*C.scaleX/o.scaleX)+Math.abs(m.y*C.scaleY/o.scaleY));h=C.scaleX*N,p=C.scaleY*N}else h=Math.abs(u.x*o.scaleX/m.x),p=Math.abs(u.y*o.scaleY/m.y);iN(e)&&(h*=2,p*=2),e.signX!==y&&l!=="y"&&(e.originX=aS(e.originX),h*=-1,e.signX=y),e.signY!==x&&l!=="x"&&(e.originY=aS(e.originY),p*=-1,e.signY=x)}const v=o.scaleX,w=o.scaleY;return l?(l==="x"&&o.set($r,h),l==="y"&&o.set(Cs,p)):(!Vs(o,"lockScalingX")&&o.set($r,h),!Vs(o,"lockScalingY")&&o.set(Cs,p)),v!==o.scaleX||w!==o.scaleY}const ou=$a(sf,Ga(((r,e,t,s)=>$y(r,e,t,s)))),Cz=$a(sf,Ga(((r,e,t,s)=>$y(r,e,t,s,{by:"x"})))),kz=$a(sf,Ga(((r,e,t,s)=>$y(r,e,t,s,{by:"y"})))),jz=["target","ex","ey","skewingSide"],Im={x:{counterAxis:"y",scale:$r,skew:Va,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Cs,skew:Wa,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Nz=["ns","nesw","ew","nwse"],Tz=(r,e,t)=>{if(e.x!==0&&Vs(t,"lockSkewingY")||e.y!==0&&Vs(t,"lockSkewingX"))return Mh;const s=lN(t,e)%4;return"".concat(Nz[s],"-resize")};function bN(r,e,t,s,n){const{target:o}=t,{counterAxis:l,origin:d,lockSkewing:u,skew:h,flip:p}=Im[r];if(Vs(o,u))return!1;const{origin:m,flip:y}=Im[l],x=Xt(t[m])*(o[y]?-1:1),v=-Math.sign(x)*(o[p]?-1:1),w=.5*-((o[h]===0&&Wy(t,Qe,Qe,s,n)[r]>0||o[h]>0?1:-1)*v)+.5;return $a($j,Ga(((C,N,k,_)=>(function(P,D,M){let{target:E,ex:R,ey:O,skewingSide:B}=D,L=kt(D,jz);const{skew:$}=Im[P],J=M.subtract(new ne(R,O)).divide(new ne(E.scaleX,E.scaleY))[P],ce=E[$],V=L[$],X=Math.tan(Wt(V)),F=P==="y"?E._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:E._getTransformedDimensions({scaleX:1,scaleY:1}).y,ee=2*J*B/Math.max(F,1)+X,H=Yn(Math.atan(ee));E.set($,H);const z=ce!==E[$];if(z&&P==="y"){const{skewX:Z,scaleX:q}=E,oe=E._getTransformedDimensions({skewY:ce}),he=E._getTransformedDimensions(),fe=Z!==0?oe.x/he.x:1;fe!==1&&E.set($r,fe*q)}return z})(r,N,new ne(k,_)))))(e,Y(Y({},t),{},{[d]:w,skewingSide:v}),s,n)}const _z=(r,e,t,s)=>bN("x",r,e,t,s),Mz=(r,e,t,s)=>bN("y",r,e,t,s);function df(r,e){return r[e.canvas.altActionKey]}const iu=(r,e,t)=>{const s=df(r,t);return e.x===0?s?Va:Cs:e.y===0?s?Wa:$r:""},ua=(r,e,t)=>df(r,t)?Tz(0,e,t):$l(r,e,t),bS=(r,e,t,s)=>df(r,e.target)?Mz(r,e,t,s):Cz(r,e,t,s),wS=(r,e,t,s)=>df(r,e.target)?_z(r,e,t,s):kz(r,e,t,s),wN=()=>({ml:new Os({x:-.5,y:0,cursorStyleHandler:ua,actionHandler:bS,getActionName:iu}),mr:new Os({x:.5,y:0,cursorStyleHandler:ua,actionHandler:bS,getActionName:iu}),mb:new Os({x:0,y:.5,cursorStyleHandler:ua,actionHandler:wS,getActionName:iu}),mt:new Os({x:0,y:-.5,cursorStyleHandler:ua,actionHandler:wS,getActionName:iu}),tl:new Os({x:-.5,y:-.5,cursorStyleHandler:$l,actionHandler:ou}),tr:new Os({x:.5,y:-.5,cursorStyleHandler:$l,actionHandler:ou}),bl:new Os({x:-.5,y:.5,cursorStyleHandler:$l,actionHandler:ou}),br:new Os({x:.5,y:.5,cursorStyleHandler:$l,actionHandler:ou}),mtr:new Os({x:0,y:-.5,actionHandler:wz,cursorStyleHandler:bz,offsetY:-40,withConnection:!0,actionName:Fy})}),Ez=()=>({mr:new Os({x:.5,y:0,actionHandler:vS,cursorStyleHandler:ua,actionName:yc}),ml:new Os({x:-.5,y:0,actionHandler:vS,cursorStyleHandler:ua,actionName:yc})}),Pz=()=>Y(Y({},wN()),Ez());class wc extends Rn{static getDefaults(){return Y(Y({},super.getDefaults()),wc.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),wc.ownDefaults),this.setOptions(e)}static createControls(){return{controls:wN()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,s=t.target,n=t.action;if(this===s&&n&&n.startsWith(nf))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const s=Object.entries(this.oCoords);for(let n=s.length-1;n>=0;n--){const[o,l]=s[n],d=this.controls[o];if(d.shouldActivate(o,this,e,t?l.touchCorner:l.corner))return this.__corner=o,{key:o,control:d,coord:this.oCoords[o]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),s=Fc(t.x,t.y),n=Ha({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),o=dr(s,n),l=dr(e,o),d=dr(l,[1/e[0],0,0,1/e[3],0,0]),u=this.group?Th(this.calcTransformMatrix()):void 0;u&&(u.scaleX=Math.abs(u.scaleX),u.scaleY=Math.abs(u.scaleY));const h=this._calculateCurrentDimensions(u),p={};return this.forEachControl(((m,y)=>{const x=m.positionHandler(h,d,this,m);p[y]=Object.assign(x,this._calcCornerCoords(m,x))})),p}_calcCornerCoords(e,t){const s=this.getTotalAngle();return{corner:e.calcCornerCoords(s,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(s,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),s=this._calculateCurrentDimensions(),n=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/n[0],1/n[3]),e.rotate(Wt(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-s.x/2,-s.y/2,s.x,s.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Y({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},s);e.save(),e.strokeStyle=n.borderColor,this._setLineDash(e,n.borderDashArray),this.strokeBorders(e,t),n.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:s,hasControls:n}=this,o=Y({hasBorders:s,hasControls:n},t),l=this.getViewportTransform(),d=o.hasBorders,u=o.hasControls,h=dr(l,this.calcTransformMatrix()),p=Th(h);e.save(),e.translate(p.translateX,p.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(p.angle-=180),e.rotate(Wt(this.group?p.angle:this.angle)),d&&this.drawBorders(e,p,t),u&&this.drawControls(e,t),e.restore()}drawBorders(e,t,s){let n;if(s&&s.forActiveSelection||this.group){const o=Vy(this.width,this.height,of(t)),l=this.isStrokeAccountedForInDimensions()?Ly:(this.strokeUniform?new ne().scalarAdd(this.canvas?this.canvas.getZoom():1):new ne(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);n=o.add(l).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else n=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,n,s)}drawControlsConnectingLines(e,t){let s=!1;e.beginPath(),this.forEachControl(((n,o)=>{n.withConnection&&n.getVisibility(this,o)&&(s=!0,e.moveTo(n.x*t.x,n.y*t.y),e.lineTo(n.x*t.x+n.offsetX,n.y*t.y+n.offsetY))})),s&&e.stroke()}drawControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const s=this.getCanvasRetinaScaling(),{cornerStrokeColor:n,cornerDashArray:o,cornerColor:l}=this,d=Y({cornerStrokeColor:n,cornerDashArray:o,cornerColor:l},t);e.setTransform(s,0,0,s,0,0),e.strokeStyle=e.fillStyle=d.cornerColor,this.transparentCorners||(e.strokeStyle=d.cornerStrokeColor),this._setLineDash(e,d.cornerDashArray),this.forEachControl(((u,h)=>{if(u.getVisibility(this,h)){const p=this.oCoords[h];u.render(e,p.x,p.y,d,this)}})),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach((t=>{let[s,n]=t;return this.setControlVisible(s,n)}))}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const s=this.canvas.viewportTransform;t.save(),t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this.transform(t);const n=this.width+4,o=this.height+4;return t.clearRect(-n/2,-o/2,n,o),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function SN(r,e){return e.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((s=>{s!=="constructor"&&Object.defineProperty(r.prototype,s,Object.getOwnPropertyDescriptor(t.prototype,s)||Object.create(null))}))})),r}W(wc,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class wr extends wc{}SN(wr,[cN]),Ae.setClass(wr),Ae.setClass(wr,"object");const Dz=(r,e,t,s)=>{const n=2*(s=Math.round(s))+1,{data:o}=r.getImageData(e-s,t-s,n,n);for(let l=3;l<o.length;l+=4)if(o[l]>0)return!1;return!0};class CN{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ne(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ne(1/this.options.scaleX,1/this.options.scaleY):new ne(1,1)}createSideVector(e,t){const s=s0(e,t);return this.options.strokeUniform?s.multiply(this.scale):s}projectOrthogonally(e,t,s){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,s)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const t=new ne(e);return t.y+=t.x*Math.tan(Wt(this.options.skewY)),t.x+=t.y*Math.tan(Wt(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const Az=new ne;class xa extends CN{static getOrthogonalRotationFactor(e,t){const s=t?o0(e,t):tz(e);return Math.abs(s)<Oc?-1:1}constructor(e,t,s,n){super(n),W(this,"AB",void 0),W(this,"AC",void 0),W(this,"alpha",void 0),W(this,"bisector",void 0),this.A=new ne(e),this.B=new ne(t),this.C=new ne(s),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=o0(this.AB,this.AC),this.bisector=Hy(mN(this.AB.eq(Az)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const n=this.createSideVector(e,t),o=gN(n),l=xa.getOrthogonalRotationFactor(o,this.bisector);return this.scaleUnitVector(o,s*l)}projectBevel(){const e=[];return(this.alpha%Ch==0?[this.B]:[this.B,this.C]).forEach((t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))})),e}projectMiter(){const e=[],t=Math.abs(this.alpha),s=1/Math.sin(t/2),n=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*s),o=this.options.strokeUniform?n0(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return n0(n)/this.strokeProjectionMagnitude<=o&&e.push(this.applySkew(this.A.add(n))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const s=[],n=new ne(xa.getOrthogonalRotationFactor(this.bisector),xa.getOrthogonalRotationFactor(new ne(this.bisector.y,this.bisector.x)));return[new ne(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n),new ne(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n)].forEach((o=>{gS(o,e,t)&&s.push(this.A.add(o))})),s}projectRoundWithSkew(e,t){const s=[],{skewX:n,skewY:o,scaleX:l,scaleY:d,strokeUniform:u}=this.options,h=new ne(Math.tan(Wt(n)),Math.tan(Wt(o))),p=this.strokeProjectionMagnitude,m=u?p/d/Math.sqrt(1/d**2+1/l**2*h.y**2):p/Math.sqrt(1+h.y**2),y=new ne(Math.sqrt(Math.max(p**2-m**2,0)),m),x=u?p/Math.sqrt(1+h.x**2*(1/d)**2/(1/l+1/l*h.x*h.y)**2):p/Math.sqrt(1+h.x**2/(1+h.x*h.y)**2),v=new ne(x,Math.sqrt(Math.max(p**2-x**2,0)));return[v,v.scalarMultiply(-1),y,y.scalarMultiply(-1)].map((w=>this.applySkew(u?w.multiply(this.strokeUniformScalar):w))).forEach((w=>{gS(w,e,t)&&s.push(this.applySkew(this.A).add(w))})),s}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%Ch==0,s=this.applySkew(this.A),n=e[t?0:2].subtract(s),o=e[t?1:0].subtract(s),l=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),d=rc(n,l)>0,u=d?n:o,h=d?o:n;return this.isSkewed()?e.push(...this.projectRoundWithSkew(u,h)):e.push(...this.projectRoundNoSkew(u,h)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector})))}}class SS extends CN{constructor(e,t,s){super(s),this.A=new ne(e),this.T=new ne(t)}calcOrthogonalProjection(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const n=this.createSideVector(e,t);return this.scaleUnitVector(gN(n),s)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new ne(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new xa(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new ne(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),s=this.scaleUnitVector(Hy(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),n=this.A.add(s);e.push(n.add(t),n.subtract(t))}return e.map((t=>this.applySkew(t)))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((e=>({originPoint:this.A,projectedPoint:e})))}}const Rz=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const s=[];if(r.length===0)return s;const n=r.reduce(((o,l)=>(o[o.length-1].eq(l)||o.push(new ne(l)),o)),[new ne(r[0])]);if(n.length===1)t=!0;else if(!t){const o=n[0],l=((d,u)=>{for(let h=d.length-1;h>=0;h--)if(u(d[h],h,d))return h;return-1})(n,(d=>!d.eq(o)));n.splice(l+1)}return n.forEach(((o,l,d)=>{let u,h;l===0?(h=d[1],u=t?o:d[d.length-1]):l===d.length-1?(u=d[l-1],h=t?o:d[0]):(u=d[l-1],h=d[l+1]),t&&d.length===1?s.push(...new SS(o,o,e).project()):!t||l!==0&&l!==d.length-1?s.push(...new xa(o,u,h,e).project()):s.push(...new SS(o,l===0?h:u,e).project())})),s},Gy=r=>{const e={};return Object.keys(r).forEach((t=>{e[t]={},Object.keys(r[t]).forEach((s=>{e[t][s]=Y({},r[t][s])}))})),e},Oz=r=>r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let Rl;const Yy=r=>{if(Rl||Rl||(Rl="Intl"in rf()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),Rl){const e=Rl.segment(r);return Array.from(e).map((t=>{let{segment:s}=t;return s}))}return Fz(r)},Fz=r=>{const e=[];for(let t,s=0;s<r.length;s++)(t=Lz(r,s))!==!1&&e.push(t);return e},Lz=(r,e)=>{const t=r.charCodeAt(e);if(isNaN(t))return"";if(t<55296||t>57343)return r.charAt(e);if(55296<=t&&t<=56319){if(r.length<=e+1)throw"High surrogate without following low surrogate";const n=r.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return r.charAt(e)+r.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const s=r.charCodeAt(e-1);if(55296>s||s>56319)throw"Low surrogate without preceding high surrogate";return!1},Xy=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return r.fill!==e.fill||r.stroke!==e.stroke||r.strokeWidth!==e.strokeWidth||r.fontSize!==e.fontSize||r.fontFamily!==e.fontFamily||r.fontWeight!==e.fontWeight||r.fontStyle!==e.fontStyle||r.textDecorationThickness!==e.textDecorationThickness||r.textBackgroundColor!==e.textBackgroundColor||r.deltaY!==e.deltaY||t&&(r.overline!==e.overline||r.underline!==e.underline||r.linethrough!==e.linethrough)},zz=(r,e)=>{const t=e.split(`
`),s=[];let n=-1,o={};r=Gy(r);for(let l=0;l<t.length;l++){const d=Yy(t[l]);if(r[l])for(let u=0;u<d.length;u++){n++;const h=r[l][u];h&&Object.keys(h).length>0&&(Xy(o,h,!0)?s.push({start:n,end:n+1,style:h}):s[s.length-1].end++),o=h||{}}else n+=d.length,o={}}return s},Iz=(r,e)=>{if(!Array.isArray(r))return Gy(r);const t=e.split(Oy),s={};let n=-1,o=0;for(let l=0;l<t.length;l++){const d=Yy(t[l]);for(let u=0;u<d.length;u++)n++,r[o]&&r[o].start<=n&&n<r[o].end&&(s[l]=s[l]||{},s[l][u]=Y({},r[o].style),n===r[o].end-1&&o++)}return s},Vo=["display","transform",er,"fill-opacity","fill-rule","opacity",Ur,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function CS(r,e){const t=r.nodeName,s=r.getAttribute("class"),n=r.getAttribute("id"),o="(?![a-zA-Z\\-]+)";let l;if(l=new RegExp("^"+t,"i"),e=e.replace(l,""),n&&e.length&&(l=new RegExp("#"+n+o,"i"),e=e.replace(l,"")),s&&e.length){const d=s.split(" ");for(let u=d.length;u--;)l=new RegExp("\\."+d[u]+o,"i"),e=e.replace(l,"")}return e.length===0}function Bz(r,e){let t=!0;const s=CS(r,e.pop());return s&&e.length&&(t=(function(n,o){let l,d=!0;for(;n.parentElement&&n.parentElement.nodeType===1&&o.length;)d&&(l=o.pop()),d=CS(n=n.parentElement,l);return o.length===0})(r,e)),s&&t&&e.length===0}const Vz=r=>{var e;return(e=Q6[r])!==null&&e!==void 0?e:r},Wz=new RegExp("(".concat(Bs,")"),"gi"),Hz=r=>r.replace(Wz," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var kS,jS,NS,TS,_S,MS,ES;const Mr="(".concat(Bs,")"),Uz=String.raw(kS||(kS=Cn(["(skewX)(",")"],["(skewX)\\(","\\)"])),Mr),$z=String.raw(jS||(jS=Cn(["(skewY)(",")"],["(skewY)\\(","\\)"])),Mr),Gz=String.raw(NS||(NS=Cn(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Mr,Mr,Mr),Yz=String.raw(TS||(TS=Cn(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Mr,Mr),Xz=String.raw(_S||(_S=Cn(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Mr,Mr),Kz=String.raw(MS||(MS=Cn(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Mr,Mr,Mr,Mr,Mr,Mr),Ky="(?:".concat(Kz,"|").concat(Xz,"|").concat(Gz,"|").concat(Yz,"|").concat(Uz,"|").concat($z,")"),qz="(?:".concat(Ky,"*)"),Zz=String.raw(ES||(ES=Cn(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),qz),Jz=new RegExp(Zz),Qz=new RegExp(Ky),eI=new RegExp(Ky,"g");function i0(r){const e=[];if(!(r=Hz(r).replace(/\s*([()])\s*/gi,"$1"))||r&&!Jz.test(r))return[...Dr];for(const t of r.matchAll(eI)){const s=Qz.exec(t[0]);if(!s)continue;let n=Dr;const o=s.filter((v=>!!v)),[,l,...d]=o,[u,h,p,m,y,x]=d.map((v=>parseFloat(v)));switch(l){case"translate":n=Fc(u,h);break;case Fy:n=Ha({angle:u},{x:h,y:p});break;case nf:n=Iy(u,h);break;case Va:n=Jj(u);break;case Wa:n=Qj(u);break;case"matrix":n=[u,h,p,m,y,x]}e.push(n)}return zy(e)}function tI(r,e,t,s){const n=Array.isArray(e);let o,l=e;if(r!==er&&r!==Ur||e!==Hr){if(r==="strokeUniform")return e==="non-scaling-stroke";if(r==="strokeDashArray")l=e===Hr?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(r==="transformMatrix")l=t&&t.transformMatrix?dr(t.transformMatrix,i0(e)):i0(e);else if(r==="visible")l=e!==Hr&&e!=="hidden",t&&t.visible===!1&&(l=!1);else if(r==="opacity")l=parseFloat(e),t&&t.opacity!==void 0&&(l*=t.opacity);else if(r==="textAnchor")l=e==="start"?ut:e==="end"?Vt:Qe;else if(r==="charSpacing"||r===Si)o=ya(e,s)/s*1e3;else if(r==="paintFirst"){const d=e.indexOf(er),u=e.indexOf(Ur);l=er,(d>-1&&u>-1&&u<d||d===-1&&u>-1)&&(l=Ur)}else{if(r==="href"||r==="xlink:href"||r==="font"||r==="id")return e;if(r==="imageSmoothing")return e==="optimizeQuality";o=n?e.map(ya):ya(e,s)}}else l="";return!n&&isNaN(o)?l:o}function rI(r,e){const t=r.match(J6);if(!t)return;const s=t[1],n=t[3],o=t[4],l=t[5],d=t[6];s&&(e.fontStyle=s),n&&(e.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),o&&(e.fontSize=ya(o)),d&&(e.fontFamily=d),l&&(e.lineHeight=l==="normal"?1:l)}function sI(r,e){r.replace(/;\s*$/,"").split(";").forEach((t=>{if(!t)return;const[s,n]=t.split(":");e[s.trim().toLowerCase()]=n.trim()}))}function nI(r){const e={},t=r.getAttribute("style");return t&&(typeof t=="string"?sI(t,e):(function(s,n){Object.entries(s).forEach((o=>{let[l,d]=o;d!==void 0&&(n[l.toLowerCase()]=d)}))})(t,e)),e}const oI={stroke:"strokeOpacity",fill:"fillOpacity"};function Kn(r,e,t){if(!r)return{};let s,n={},o=Ry;r.parentNode&&mS.test(r.parentNode.nodeName)&&(n=Kn(r.parentElement,e,t),n.fontSize&&(s=o=ya(n.fontSize)));const l=Y(Y(Y({},e.reduce(((h,p)=>{const m=r.getAttribute(p);return m&&(h[p]=m),h}),{})),(function(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m={};for(const y in p)Bz(h,y.split(" "))&&(m=Y(Y({},m),p[y]));return m})(r,t)),nI(r));l[Lm]&&r.setAttribute(Lm,l[Lm]),l[Fm]&&(s=ya(l[Fm],o),l[Fm]="".concat(s));const d={};for(const h in l){const p=Vz(h),m=tI(p,l[h],n,s);d[p]=m}d&&d.font&&rI(d.font,d);const u=Y(Y({},n),d);return mS.test(r.nodeName)?u:(function(h){const p=wr.getDefaults();return Object.entries(oI).forEach((m=>{let[y,x]=m;if(h[x]===void 0||h[y]==="")return;if(h[y]===void 0){if(!p[y])return;h[y]=p[y]}if(h[y].indexOf("url(")===0)return;const v=new dt(h[y]);h[y]=v.setAlpha(gt(v.getAlpha()*h[x],2)).toRgba()})),h})(u)}const iI=["left","top","width","height","visible"],kN=["rx","ry"];class vs extends wr{static getDefaults(){return Y(Y({},super.getDefaults()),vs.ownDefaults)}constructor(e){super(),Object.assign(this,vs.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:s}=this,n=-t/2,o=-s/2,l=this.rx?Math.min(this.rx,t/2):0,d=this.ry?Math.min(this.ry,s/2):0,u=l!==0||d!==0;e.beginPath(),e.moveTo(n+l,o),e.lineTo(n+t-l,o),u&&e.bezierCurveTo(n+t-wo*l,o,n+t,o+wo*d,n+t,o+d),e.lineTo(n+t,o+s-d),u&&e.bezierCurveTo(n+t,o+s-wo*d,n+t-wo*l,o+s,n+t-l,o+s),e.lineTo(n+l,o+s),u&&e.bezierCurveTo(n+wo*l,o+s,n,o+s-wo*d,n,o+s-d),e.lineTo(n,o+d),u&&e.bezierCurveTo(n,o+wo*d,n+wo*l,o,n+l,o),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...kN,...e])}_toSVG(){const{width:e,height:t,rx:s,ry:n}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(s,'" ry="').concat(n,'" width="').concat(e,'" height="').concat(t,`" />
`)]}static async fromElement(e,t,s){const n=Kn(e,this.ATTRIBUTE_NAMES,s),{left:o=0,top:l=0,width:d=0,height:u=0,visible:h=!0}=n,p=kt(n,iI);return new this(Y(Y(Y({},t),p),{},{left:o,top:l,width:d,height:u,visible:!!(h&&d&&u)}))}}W(vs,"type","Rect"),W(vs,"cacheProperties",[...Xn,...kN]),W(vs,"ownDefaults",{rx:0,ry:0}),W(vs,"ATTRIBUTE_NAMES",[...Vo,"x","y","rx","ry","width","height"]),Ae.setClass(vs),Ae.setSVGClass(vs);const zn="initialization",Ph="added",qy="removed",Dh="imperative",jN=(r,e)=>{const{strokeUniform:t,strokeWidth:s,width:n,height:o,group:l}=e,d=l&&l!==r?lf(l.calcTransformMatrix(),r.calcTransformMatrix()):null,u=d?e.getRelativeCenterPoint().transform(d):e.getRelativeCenterPoint(),h=!e.isStrokeAccountedForInDimensions(),p=t&&h?$6(new ne(s,s),void 0,r.calcTransformMatrix()):Ly,m=!t&&h?s:0,y=Vy(n+m,o+m,zy([d,e.calcOwnMatrix()],!0)).add(p).scalarDivide(2);return[u.subtract(y),u.add(y)]};class uf{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:s,strategy:n}=e;return t===zn||t===Dh||!!s&&n!==s}shouldLayoutClipPath(e){let{type:t,target:{clipPath:s}}=e;return t!==zn&&s&&!s.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:s,target:n}=t;if(s===Dh&&t.overrides)return t.overrides;if(e.length===0)return;const{left:o,top:l,width:d,height:u}=Bn(e.map((m=>jN(n,m))).reduce(((m,y)=>m.concat(y)),[])),h=new ne(d,u),p=new ne(o,l).add(h.scalarDivide(2));if(s===zn){const m=this.getInitialSize(t,{size:h,center:p});return{center:p,relativeCorrection:new ne(0,0),size:m}}return{center:p.transform(n.calcOwnMatrix()),size:h}}}W(uf,"type","strategy");class a0 extends uf{shouldPerformLayout(e){return!0}}W(a0,"type","fit-content"),Ae.setClass(a0);const aI=["strategy"],lI=["target","strategy","bubbles","prevStrategy"],NN="layoutManager";class Sc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new a0;W(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=Y(Y({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const s=this.getLayoutResult(t);s&&this.commitLayout(t,s),this.onAfterLayout(t,s),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:s}=t;return[jh,Hj,yc,Uj,sf,$j,kh,P6,D6].map((n=>e.on(n,(o=>this.performLayout(n===jh?{type:"object_modified",trigger:n,e:o,target:s}:{type:"object_modifying",trigger:n,e:o,target:s})))))}subscribe(e,t){this.unsubscribe(e,t);const s=this.attachHandlers(e,t);this._subscriptions.set(e,s)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach((s=>s())),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach((t=>this.unsubscribe(t,e)))}subscribeTargets(e){e.targets.forEach((t=>this.subscribe(t,e)))}onBeforeLayout(e){const{target:t,type:s}=e,{canvas:n}=t;if(s===zn||s===Ph?this.subscribeTargets(e):s===qy&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),n&&n.fire("object:layout:before",{target:t,context:e}),s===Dh&&e.deep){const o=kt(e,aI);t.forEachObject((l=>l.layoutManager&&l.layoutManager.performLayout(Y(Y({},o),{},{bubbles:!1,target:l}))))}}getLayoutResult(e){const{target:t,strategy:s,type:n}=e,o=s.calcLayoutResult(e,t.getObjects());if(!o)return;const l=n===zn?new ne:t.getRelativeCenterPoint(),{center:d,correction:u=new ne,relativeCorrection:h=new ne}=o,p=l.subtract(d).add(u).transform(n===zn?Dr:Is(t.calcOwnMatrix()),!0).add(h);return{result:o,prevCenter:l,nextCenter:d,offset:p}}commitLayout(e,t){const{target:s}=e,{result:{size:n},nextCenter:o}=t;var l,d;s.set({width:n.x,height:n.y}),this.layoutObjects(e,t),e.type===zn?s.set({left:(l=e.x)!==null&&l!==void 0?l:o.x+n.x*Xt(s.originX),top:(d=e.y)!==null&&d!==void 0?d:o.y+n.y*Xt(s.originY)}):(s.setPositionByOrigin(o,Qe,Qe),s.setCoords(),s.set("dirty",!0))}layoutObjects(e,t){const{target:s}=e;s.forEachObject((n=>{n.group===s&&this.layoutObject(e,t,n)})),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,s.clipPath)}layoutObject(e,t,s){let{offset:n}=t;s.set({left:s.left+n.x,top:s.top+n.y})}onAfterLayout(e,t){const{target:s,strategy:n,bubbles:o,prevStrategy:l}=e,d=kt(e,lI),{canvas:u}=s;s.fire("layout:after",{context:e,result:t}),u&&u.fire("object:layout:after",{context:e,result:t,target:s});const h=s.parent;o&&h!=null&&h.layoutManager&&((d.path||(d.path=[])).push(s),h.layoutManager.performLayout(Y(Y({},d),{},{target:h}))),s.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach((t=>t.forEach((s=>s())))),e.clear()}toObject(){return{type:NN,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}Ae.setClass(Sc,NN);const cI=["type","objects","layoutManager"];class dI extends Sc{performLayout(){}}class Po extends Gj(wr){static getDefaults(){return Y(Y({},super.getDefaults()),Po.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),W(this,"_activeObjects",[]),W(this,"__objectSelectionTracker",void 0),W(this,"__objectSelectionDisposer",void 0),Object.assign(this,Po.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var s;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((n=>{this.enterGroup(n,!1)})),this.layoutManager=(s=t.layoutManager)!==null&&s!==void 0?s:new Sc,this.layoutManager.performLayout({type:zn,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Fo("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(Fo("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter(((t,s,n)=>this.canEnterGroup(t)&&n.indexOf(t)===s))}add(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const n=this._filterObjectsBeforeEnteringGroup(t),o=super.add(...n);return this._onAfterObjectsChange(Ph,n),o}insertAt(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const o=this._filterObjectsBeforeEnteringGroup(s),l=super.insertAt(e,...o);return this._onAfterObjectsChange(Ph,o),l}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(qy,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const s=this[e];return super._set(e,t),e==="canvas"&&s!==t&&(this._objects||[]).forEach((n=>{n._set(e,t)})),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:s}=t;const n=this._activeObjects;if(e)n.push(s),this._set("dirty",!0);else if(n.length>0){const o=n.indexOf(s);o>-1&&(n.splice(o,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&_h(e,dr(Is(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const s=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();s&&(s===e||e.isDescendantOf(s))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(_h(e,dr(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const s=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;s>-1&&this._activeObjects.splice(s,1)}shouldCache(){const e=wr.prototype.shouldCache.call(this);if(e){for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,t,s){this._renderBackground(e);for(let o=0;o<this._objects.length;o++){var n;const l=this._objects[o];(n=this.canvas)!==null&&n!==void 0&&n.preserveObjectStacking&&l.group!==this?(e.save(),e.transform(...Is(this.calcTransformMatrix())),l.render(e),e.restore()):l.group===this&&l.render(e)}this._drawClipPath(e,this.clipPath,s)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((e=>e.setCoords()))}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(Y({target:this,type:Dh},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const s=this.includeDefaultValues;return this._objects.filter((function(n){return!n.excludeFromExport})).map((function(n){const o=n.includeDefaultValues;n.includeDefaultValues=s;const l=n[e||"toObject"](t);return n.includeDefaultValues=o,l}))}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.layoutManager.toObject();return Y(Y(Y({},super.toObject(["subTargetCheck","interactive",...e])),t.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((e=>{this._watchObject(!1,e),e.dispose()})),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=vs.prototype._toSVG.call(this),s=t.indexOf("COMMON_PARTS");t[s]='for="group" ';const n=t.join("");return e?e(n):n}_toSVG(e){const t=["<g ","COMMON_PARTS",` >
`],s=this._createSVGBgRect(e);s&&t.push("		",s);for(let n=0;n<this._objects.length;n++)t.push("		",this._objects[n].toSVG(e));return t.push(`</g>
`),t}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],s=this._createSVGBgRect(e);s&&t.push("	",s);for(let n=0;n<this._objects.length;n++)t.push("	",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:s,objects:n=[],layoutManager:o}=e,l=kt(e,cI);return Promise.all([xc(n,t),af(l,t)]).then((d=>{let[u,h]=d;const p=new this(u,Y(Y(Y({},l),h),{},{layoutManager:new dI}));if(o){const m=Ae.getClass(o.type),y=Ae.getClass(o.strategy);p.layoutManager=new m(new y)}else p.layoutManager=new Sc;return p.layoutManager.subscribeTargets({type:zn,target:p,targets:p.getObjects()}),p.setCoords(),p}))}}W(Po,"type","Group"),W(Po,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Ae.setClass(Po);const uI=(r,e)=>Math.min(e.width/r.width,e.height/r.height),hI=(r,e)=>Math.max(e.width/r.width,e.height/r.height),l0="\\s*,?\\s*",Ol="".concat(l0,"(").concat(Bs,")"),fI="".concat(Ol).concat(Ol).concat(Ol).concat(l0,"([01])").concat(l0,"([01])").concat(Ol).concat(Ol),pI={m:"l",M:"L"},mI=(r,e,t,s,n,o,l,d,u,h,p)=>{const m=$n(r),y=Gn(r),x=$n(e),v=Gn(e),w=t*n*x-s*o*v+l,j=s*n*x+t*o*v+d;return["C",h+u*(-t*n*y-s*o*m),p+u*(-s*n*y+t*o*m),w+u*(t*n*v+s*o*x),j+u*(s*n*v-t*o*x),w,j]},PS=(r,e,t,s)=>{const n=Math.atan2(e,r),o=Math.atan2(s,t);return o>=n?o-n:2*Math.PI-(n-o)};function DS(r,e,t,s,n,o,l,d){let u;if(at.cachesBoundsOfCurve&&(u=[...arguments].join(),Ql.boundsOfCurveCache[u]))return Ql.boundsOfCurveCache[u];const h=Math.sqrt,p=Math.abs,m=[],y=[[0,0],[0,0]];let x=6*r-12*t+6*n,v=-3*r+9*t-9*n+3*l,w=3*t-3*r;for(let _=0;_<2;++_){if(_>0&&(x=6*e-12*s+6*o,v=-3*e+9*s-9*o+3*d,w=3*s-3*e),p(v)<1e-12){if(p(x)<1e-12)continue;const R=-w/x;0<R&&R<1&&m.push(R);continue}const P=x*x-4*w*v;if(P<0)continue;const D=h(P),M=(-x+D)/(2*v);0<M&&M<1&&m.push(M);const E=(-x-D)/(2*v);0<E&&E<1&&m.push(E)}let j=m.length;const C=j,N=TN(r,e,t,s,n,o,l,d);for(;j--;){const{x:_,y:P}=N(m[j]);y[0][j]=_,y[1][j]=P}y[0][C]=r,y[1][C]=e,y[0][C+1]=l,y[1][C+1]=d;const k=[new ne(Math.min(...y[0]),Math.min(...y[1])),new ne(Math.max(...y[0]),Math.max(...y[1]))];return at.cachesBoundsOfCurve&&(Ql.boundsOfCurveCache[u]=k),k}const gI=(r,e,t)=>{let[s,n,o,l,d,u,h,p]=t;const m=((y,x,v,w,j,C,N)=>{if(v===0||w===0)return[];let k=0,_=0,P=0;const D=Math.PI,M=N*Ay,E=Gn(M),R=$n(M),O=.5*(-R*y-E*x),B=.5*(-R*x+E*y),L=v**2,$=w**2,J=B**2,ce=O**2,V=L*$-L*J-$*ce;let X=Math.abs(v),F=Math.abs(w);if(V<0){const me=Math.sqrt(1-V/(L*$));X*=me,F*=me}else P=(j===C?-1:1)*Math.sqrt(V/(L*J+$*ce));const ee=P*X*B/F,H=-P*F*O/X,z=R*ee-E*H+.5*y,Z=E*ee+R*H+.5*x;let q=PS(1,0,(O-ee)/X,(B-H)/F),oe=PS((O-ee)/X,(B-H)/F,(-O-ee)/X,(-B-H)/F);C===0&&oe>0?oe-=2*D:C===1&&oe<0&&(oe+=2*D);const he=Math.ceil(Math.abs(oe/D*2)),fe=[],G=oe/he,Q=8/3*Math.sin(G/4)*Math.sin(G/4)/Math.sin(G/2);let de=q+G;for(let me=0;me<he;me++)fe[me]=mI(q,de,R,E,X,F,z,Z,Q,k,_),k=fe[me][5],_=fe[me][6],q=de,de+=G;return fe})(h-r,p-e,n,o,d,u,l);for(let y=0,x=m.length;y<x;y++)m[y][1]+=r,m[y][2]+=e,m[y][3]+=r,m[y][4]+=e,m[y][5]+=r,m[y][6]+=e;return m},yI=r=>{let e=0,t=0,s=0,n=0;const o=[];let l,d=0,u=0;for(const h of r){const p=[...h];let m;switch(p[0]){case"l":p[1]+=e,p[2]+=t;case"L":e=p[1],t=p[2],m=["L",e,t];break;case"h":p[1]+=e;case"H":e=p[1],m=["L",e,t];break;case"v":p[1]+=t;case"V":t=p[1],m=["L",e,t];break;case"m":p[1]+=e,p[2]+=t;case"M":e=p[1],t=p[2],s=p[1],n=p[2],m=["M",e,t];break;case"c":p[1]+=e,p[2]+=t,p[3]+=e,p[4]+=t,p[5]+=e,p[6]+=t;case"C":d=p[3],u=p[4],e=p[5],t=p[6],m=["C",p[1],p[2],d,u,e,t];break;case"s":p[1]+=e,p[2]+=t,p[3]+=e,p[4]+=t;case"S":l==="C"?(d=2*e-d,u=2*t-u):(d=e,u=t),e=p[3],t=p[4],m=["C",d,u,p[1],p[2],e,t],d=m[3],u=m[4];break;case"q":p[1]+=e,p[2]+=t,p[3]+=e,p[4]+=t;case"Q":d=p[1],u=p[2],e=p[3],t=p[4],m=["Q",d,u,e,t];break;case"t":p[1]+=e,p[2]+=t;case"T":l==="Q"?(d=2*e-d,u=2*t-u):(d=e,u=t),e=p[1],t=p[2],m=["Q",d,u,e,t];break;case"a":p[6]+=e,p[7]+=t;case"A":gI(e,t,p).forEach((y=>o.push(y))),e=p[6],t=p[7];break;case"z":case"Z":e=s,t=n,m=["Z"]}m?(o.push(m),l=m[0]):l=""}return o},Ah=(r,e,t,s)=>Math.sqrt((t-r)**2+(s-e)**2),TN=(r,e,t,s,n,o,l,d)=>u=>{const h=u**3,p=(x=>3*x**2*(1-x))(u),m=(x=>3*x*(1-x)**2)(u),y=(x=>(1-x)**3)(u);return new ne(l*h+n*p+t*m+r*y,d*h+o*p+s*m+e*y)},_N=r=>r**2,MN=r=>2*r*(1-r),EN=r=>(1-r)**2,xI=(r,e,t,s,n,o,l,d)=>u=>{const h=_N(u),p=MN(u),m=EN(u),y=3*(m*(t-r)+p*(n-t)+h*(l-n)),x=3*(m*(s-e)+p*(o-s)+h*(d-o));return Math.atan2(x,y)},vI=(r,e,t,s,n,o)=>l=>{const d=_N(l),u=MN(l),h=EN(l);return new ne(n*d+t*u+r*h,o*d+s*u+e*h)},bI=(r,e,t,s,n,o)=>l=>{const d=1-l,u=2*(d*(t-r)+l*(n-t)),h=2*(d*(s-e)+l*(o-s));return Math.atan2(h,u)},AS=(r,e,t)=>{let s=new ne(e,t),n=0;for(let o=1;o<=100;o+=1){const l=r(o/100);n+=Ah(s.x,s.y,l.x,l.y),s=l}return n},wI=(r,e)=>{let t,s=0,n=0,o={x:r.x,y:r.y},l=Y({},o),d=.01,u=0;const h=r.iterator,p=r.angleFinder;for(;n<e&&d>1e-4;)l=h(s),u=s,t=Ah(o.x,o.y,l.x,l.y),t+n>e?(s-=d,d/=2):(o=l,s+=d,n+=t);return Y(Y({},l),{},{angle:p(u)})},PN=r=>{let e,t,s=0,n=0,o=0,l=0,d=0;const u=[];for(const h of r){const p={x:n,y:o,command:h[0],length:0};switch(h[0]){case"M":t=p,t.x=l=n=h[1],t.y=d=o=h[2];break;case"L":t=p,t.length=Ah(n,o,h[1],h[2]),n=h[1],o=h[2];break;case"C":e=TN(n,o,h[1],h[2],h[3],h[4],h[5],h[6]),t=p,t.iterator=e,t.angleFinder=xI(n,o,h[1],h[2],h[3],h[4],h[5],h[6]),t.length=AS(e,n,o),n=h[5],o=h[6];break;case"Q":e=vI(n,o,h[1],h[2],h[3],h[4]),t=p,t.iterator=e,t.angleFinder=bI(n,o,h[1],h[2],h[3],h[4]),t.length=AS(e,n,o),n=h[3],o=h[4];break;case"Z":t=p,t.destX=l,t.destY=d,t.length=Ah(n,o,l,d),n=l,o=d}s+=t.length,u.push(t)}return u.push({length:s,x:n,y:o}),u},SI=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PN(r),s=0;for(;e-t[s].length>0&&s<t.length-2;)e-=t[s].length,s++;const n=t[s],o=e/n.length,l=r[s];switch(n.command){case"M":return{x:n.x,y:n.y,angle:0};case"Z":return Y(Y({},new ne(n.x,n.y).lerp(new ne(n.destX,n.destY),o)),{},{angle:Math.atan2(n.destY-n.y,n.destX-n.x)});case"L":return Y(Y({},new ne(n.x,n.y).lerp(new ne(l[1],l[2]),o)),{},{angle:Math.atan2(l[2]-n.y,l[1]-n.x)});case"C":case"Q":return wI(n,e)}},CI=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),RS=new RegExp(fI,"g"),kI=new RegExp(Bs,"gi"),jI={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},NI=r=>{var e;const t=[],s=(e=r.match(CI))!==null&&e!==void 0?e:[];for(const n of s){const o=n[0];if(o==="z"||o==="Z"){t.push([o]);continue}const l=jI[o.toLowerCase()];let d=[];if(o==="a"||o==="A"){RS.lastIndex=0;for(let u=null;u=RS.exec(n);)d.push(...u.slice(1))}else d=n.match(kI)||[];for(let u=0;u<d.length;u+=l){const h=new Array(l),p=pI[o];h[0]=u>0&&p?p:o;for(let m=0;m<l;m++)h[m+1]=parseFloat(d[u+m]);t.push(h)}}return t},TI=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=new ne(r[0]),s=new ne(r[1]),n=1,o=0;const l=[],d=r.length,u=d>2;let h;for(u&&(n=r[2].x<s.x?-1:r[2].x===s.x?0:1,o=r[2].y<s.y?-1:r[2].y===s.y?0:1),l.push(["M",t.x-n*e,t.y-o*e]),h=1;h<d;h++){if(!t.eq(s)){const p=t.midPointFrom(s);l.push(["Q",t.x,t.y,p.x,p.y])}t=r[h],h+1<r.length&&(s=r[h+1])}return u&&(n=t.x>r[h-2].x?1:t.x===r[h-2].x?0:-1,o=t.y>r[h-2].y?1:t.y===r[h-2].y?0:-1),l.push(["L",t.x+n*e,t.y+o*e]),l},DN=(r,e)=>r.map((t=>t.map(((s,n)=>n===0||e===void 0?s:gt(s,e))).join(" "))).join(" ");function c0(r,e){const t=r.style;t&&e&&(typeof e=="string"?t.cssText+=";"+e:Object.entries(e).forEach((s=>{let[n,o]=s;return t.setProperty(n,o)})))}const au=(r,e)=>Math.floor(Math.random()*(e-r+1))+r;class _I extends sN{constructor(e){let{allowTouchScrolling:t=!1,containerClass:s=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),W(this,"upper",void 0),W(this,"container",void 0);const{el:n}=this.lower,o=this.createUpperCanvas();this.upper={el:o,ctx:o.getContext("2d")},this.applyCanvasStyle(n,{allowTouchScrolling:t}),this.applyCanvasStyle(o,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const l=this.createContainerElement();l.classList.add(s),n.parentNode&&n.parentNode.replaceChild(l,n),l.append(n,o),this.container=l}createUpperCanvas(){const{el:e}=this.lower,t=vn();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=Ba().createElement("div");return e.setAttribute("data-fabric","wrapper"),c0(e,{position:"relative"}),oS(e),e}applyCanvasStyle(e,t){const{styles:s,allowTouchScrolling:n}=t;c0(e,Y(Y({},s),{},{"touch-action":n?"manipulation":Hr})),oS(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:s,ctx:n}=this.upper;rN(s,n,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),t0(this.upper.el,e),t0(this.container,e)}cleanupDOM(e){const t=this.container,{el:s}=this.lower,{el:n}=this.upper;super.cleanupDOM(e),t.removeChild(n),t.removeChild(s),t.parentNode&&t.parentNode.replaceChild(s,t)}dispose(){super.dispose(),xn().dispose(this.upper.el),delete this.upper,delete this.container}}class hf extends Lc{constructor(){super(...arguments),W(this,"targets",[]),W(this,"_hoveredTargets",[]),W(this,"_objectsToRender",void 0),W(this,"_currentTransform",null),W(this,"_groupSelector",null),W(this,"contextTopDirty",!1)}static getDefaults(){return Y(Y({},super.getDefaults()),hf.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new _I(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter((t=>!t.group&&t!==e)).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),s=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=s,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,s){const n=this.targetFindTolerance,o=this.pixelFindContext;this.clearContext(o),o.save(),o.translate(-t+n,-s+n),o.transform(...this.viewportTransform);const l=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(o),e.selectionBackgroundColor=l,o.restore();const d=Math.round(n*this.getRetinaScaling());return Dz(o,d,d,d)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find((s=>!!s&&e[s]===!0)):e[t])}_shouldClearSelection(e,t){const s=this.getActiveObjects(),n=this._activeObject;return!!(!t||t&&n&&s.length>1&&s.indexOf(t)===-1&&n!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&n&&n!==t)}_shouldCenterTransform(e,t,s){if(!e)return;let n;return t===nf||t===$r||t===Cs||t===yc?n=this.centeredScaling||e.centeredScaling:t===Fy&&(n=this.centeredRotation||e.centeredRotation),n?!s:s}_getOriginFromCorner(e,t){const s={x:e.originX,y:e.originY};return t&&(["ml","tl","bl"].includes(t)?s.x=Vt:["mr","tr","br"].includes(t)&&(s.x=ut),["tl","mt","tr"].includes(t)?s.y=e0:["bl","mb","br"].includes(t)&&(s.y=Wr)),s}_setupCurrentTransform(e,t,s){var n;const o=t.group?ga(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:l="",control:d}=t.getActiveControl()||{},u=s&&d?(n=d.getActionHandler(e,t,d))===null||n===void 0?void 0:n.bind(d):X6,h=((x,v,w,j)=>{if(!v||!x)return"drag";const C=j.controls[v];return C.getActionName(w,C,j)})(s,l,e,t),p=e[this.centeredKey],m=this._shouldCenterTransform(t,h,p)?{x:Qe,y:Qe}:this._getOriginFromCorner(t,l),y={target:t,action:h,actionHandler:u,actionPerformed:!1,corner:l,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:o.x-t.left,offsetY:o.y-t.top,originX:m.x,originY:m.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:Wt(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:p,original:Y(Y({},nN(t)),{},{originX:m.x,originY:m.y})};this._currentTransform=y,this.fire("before:transform",{e,transform:y})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:s,deltaX:n,deltaY:o}=this._groupSelector,l=new ne(t,s).transform(this.viewportTransform),d=new ne(t+n,s+o).transform(this.viewportTransform),u=this.selectionLineWidth/2;let h=Math.min(l.x,d.x),p=Math.min(l.y,d.y),m=Math.max(l.x,d.x),y=Math.max(l.y,d.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(h,p,m-h,y-p)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,h+=u,p+=u,m-=u,y-=u,wr.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(h,p,m-h,y-p))}findTarget(e){if(this.skipTargetFind)return;const t=this.getViewportPoint(e),s=this._activeObject,n=this.getActiveObjects();if(this.targets=[],s&&n.length>=1){if(s.findControl(t,r0(e))||n.length>1&&this.searchPossibleTargets([s],t))return s;if(s===this.searchPossibleTargets([s],t)){if(this.preserveObjectStacking){const o=this.targets;this.targets=[];const l=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&l&&l!==s?(this.targets=o,s):l}return s}}return this.searchPossibleTargets(this._objects,t)}_pointIsInObjectSelectionArea(e,t){let s=e.getCoords();const n=this.getZoom(),o=e.padding/n;if(o){const[l,d,u,h]=s,p=Math.atan2(d.y-l.y,d.x-l.x),m=$n(p)*o,y=Gn(p)*o,x=m+y,v=m-y;s=[new ne(l.x-v,l.y-x),new ne(d.x+x,d.y-v),new ne(u.x+v,u.y+x),new ne(h.x-x,h.y+v)]}return _t.isPointInPolygon(t,s)}_checkTarget(e,t){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,ga(t,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,t.x,t.y)))}_searchPossibleTargets(e,t){let s=e.length;for(;s--;){const n=e[s];if(this._checkTarget(n,t)){if(qu(n)&&n.subTargetCheck){const o=this._searchPossibleTargets(n._objects,t);o&&this.targets.push(o)}return n}}}searchPossibleTargets(e,t){const s=this._searchPossibleTargets(e,t);if(s&&qu(s)&&s.interactive&&this.targets[0]){const n=this.targets;for(let o=n.length-1;o>0;o--){const l=n[o];if(!qu(l)||!l.interactive)return l}return n[0]}return s}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const s=this.upperCanvasEl,n=s.getBoundingClientRect();let o=V6(e),l=n.width||0,d=n.height||0;l&&d||(Wr in n&&e0 in n&&(d=Math.abs(n.top-n.bottom)),Vt in n&&ut in n&&(l=Math.abs(n.right-n.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,t||(o=ga(o,void 0,this.viewportTransform));const u=this.getRetinaScaling();u!==1&&(o.x/=u,o.y/=u);const h=l===0||d===0?new ne(1,1):new ne(s.width/l,s.height/d);return o.multiply(h)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=vn(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return ui(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let s=!1,n=!1;const o=this.getActiveObjects(),l=[],d=[];e.forEach((u=>{o.includes(u)||(s=!0,u.fire("deselected",{e:t,target:u}),d.push(u))})),o.forEach((u=>{e.includes(u)||(s=!0,u.fire("selected",{e:t,target:u}),l.push(u))})),e.length>0&&o.length>0?(n=!0,s&&this.fire("selection:updated",{e:t,selected:l,deselected:d})):o.length>0?(n=!0,this.fire("selection:created",{e:t,selected:l})):e.length>0&&(n=!0,this.fire("selection:cleared",{e:t,deselected:d})),n&&(this._objectsToRender=void 0)}setActiveObject(e,t){const s=this.getActiveObjects(),n=this._setActiveObject(e,t);return this._fireSelectionEvents(s,t),n}_setActiveObject(e,t){const s=this._activeObject;return s!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,ui(e)&&s!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const s=this._activeObject;return!!s&&!s.onDeselect({e,object:t})&&(this._currentTransform&&this._currentTransform.target===s&&this.endCurrentTransform(e),ui(s)&&s===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),s=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e,deselected:[s]});const n=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),n}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,s=t.target,n={e,target:s,transform:t,action:t.action};s._scaling&&(s._scaling=!1),s.setCoords(),t.actionPerformed&&(this.fire("object:modified",n),s.fire(jh,n))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;ui(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,s){const n=this._realizeGroupTransformOnObject(e),o=super._toObject(e,t,s);return e.set(n),o}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&ui(t)&&this._activeObject===t){const s=Ua(e,["angle","flipX","flipY",ut,$r,Cs,Va,Wa,Wr]);return H6(e,t.calcOwnMatrix()),s}return{}}_setSVGObject(e,t,s){const n=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,s),t.set(n)}}W(hf,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class MI{constructor(e){W(this,"targets",[]),W(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:n}=e.getActiveObject()||{};n&&n.focus()},s=e.upperCanvasEl;s.addEventListener("click",t),this.__disposer=()=>s.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach((e=>{e.isEditing&&e.exitEditing()}))}add(e){this.targets.push(e)}remove(e){this.unregister(e),sa(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;!((t=this.target)===null||t===void 0)&&t.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const EI=["target","oldTarget","fireCanvas","e"],Zr={passive:!1},Ji=(r,e)=>{const t=r.getViewportPoint(e),s=r.getScenePoint(e);return{viewportPoint:t,scenePoint:s,pointer:t,absolutePointer:s}},So=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];return r.addEventListener(...t)},fs=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];return r.removeEventListener(...t)},PI={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class d0 extends hf{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),W(this,"_isClick",void 0),W(this,"textEditingManager",new MI(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((t=>{this[t]=this[t].bind(this)})),this.addOrRemove(So,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,t){const s=this.upperCanvasEl,n=this._getEventPrefix();e(tN(s),"resize",this._onResize),e(s,n+"down",this._onMouseDown),e(s,"".concat(n,"move"),this._onMouseMove,Zr),e(s,"".concat(n,"out"),this._onMouseOut),e(s,"".concat(n,"enter"),this._onMouseEnter),e(s,"wheel",this._onMouseWheel),e(s,"contextmenu",this._onContextMenu),e(s,"click",this._onClick),e(s,"dblclick",this._onClick),e(s,"dragstart",this._onDragStart),e(s,"dragend",this._onDragEnd),e(s,"dragover",this._onDragOver),e(s,"dragenter",this._onDragEnter),e(s,"dragleave",this._onDragLeave),e(s,"drop",this._onDrop),this.enablePointerEvents||e(s,"touchstart",this._onTouchStart,Zr)}removeListeners(){this.addOrRemove(fs,"remove");const e=this._getEventPrefix(),t=zs(this.upperCanvasEl);fs(t,"".concat(e,"up"),this._onMouseUp),fs(t,"touchend",this._onTouchEnd,Zr),fs(t,"".concat(e,"move"),this._onMouseMove,Zr),fs(t,"touchmove",this._onMouseMove,Zr),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const t=this._hoveredTarget,s=Y({e},Ji(this,e));this.fire("mouse:out",Y(Y({},s),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",Y({},s)),this._hoveredTargets.forEach((n=>{this.fire("mouse:out",Y(Y({},s),{},{target:n})),n&&n.fire("mouseout",Y({},s))})),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",Y({e},Ji(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const s={e,target:t};return this.fire("dragstart",s),t.fire("dragstart",s),void So(this.upperCanvasEl,"drag",this._onDragProgress)}iS(e)}_renderDragEffects(e,t,s){let n=!1;const o=this._dropTarget;o&&o!==t&&o!==s&&(o.clearContextTop(),n=!0),t?.clearContextTop(),s!==t&&s?.clearContextTop();const l=this.contextTop;l.save(),l.transform(...this.viewportTransform),t&&(l.save(),t.transform(l),t.renderDragSourceEffect(e),l.restore(),n=!0),s&&(l.save(),s.transform(l),s.renderDropTargetEffect(e),l.restore(),n=!0),l.restore(),n&&(this.contextTopDirty=!0)}_onDragEnd(e){const t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Hr,s=t?this._activeObject:void 0,n={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:s};fs(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",n),this._dragSource&&this._dragSource.fire("dragend",n),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const t="dragover",{target:s,targets:n}=this.findDragTargets(e),o=this._dragSource,l={e,target:s,subTargets:n,dragSource:o,canDrop:!1,dropTarget:void 0};let d;this.fire(t,l),this._fireEnterLeaveEvents(s,l),s&&(s.canDrop(e)&&(d=s),s.fire(t,l));for(let u=0;u<n.length;u++){const h=n[u];h.canDrop(e)&&(d=h),h.fire(t,l)}this._renderDragEffects(e,o,d),this._dropTarget=d}_onDragEnter(e){const{target:t,targets:s}=this.findDragTargets(e),n={e,target:t,subTargets:s,dragSource:this._dragSource};this.fire("dragenter",n),this._fireEnterLeaveEvents(t,n)}_onDragLeave(e){const t={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:t,targets:s}=this.findDragTargets(e),n=this._basicEventHandler("drop:before",Y({e,target:t,subTargets:s,dragSource:this._dragSource},Ji(this,e)));n.didDrop=!1,n.dropTarget=void 0,this._basicEventHandler("drop",n),this.fire("drop:after",n)}_onContextMenu(e){const t=this.findTarget(e),s=this.targets||[],n=this._basicEventHandler("contextmenu:before",{e,target:t,subTargets:s});return this.stopContextMenu&&iS(e),this._basicEventHandler("contextmenu",n),!1}_onClick(e){const t=e.detail;t>3||t<2||(this._cacheTransformEventData(e),t==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),t==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let t=!this.allowTouchScrolling;const s=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||s&&this._target===s)&&(t=!0),t&&e.preventDefault(),this._resetTransformEventData();const n=this.upperCanvasEl,o=this._getEventPrefix(),l=zs(n);So(l,"touchend",this._onTouchEnd,Zr),t&&So(l,"touchmove",this._onMouseMove,Zr),fs(n,"".concat(o,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,s=this._getEventPrefix();fs(t,"".concat(s,"move"),this._onMouseMove,Zr);const n=zs(t);So(n,"".concat(s,"up"),this._onMouseUp),So(n,"".concat(s,"move"),this._onMouseMove,Zr)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),s=zs(this.upperCanvasEl);fs(s,"touchend",this._onTouchEnd,Zr),fs(s,"touchmove",this._onMouseMove,Zr),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((()=>{So(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0}),400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const t=this.upperCanvasEl,s=this._getEventPrefix();if(this._isMainEvent(e)){const n=zs(this.upperCanvasEl);fs(n,"".concat(s,"up"),this._onMouseUp),fs(n,"".concat(s,"move"),this._onMouseMove,Zr),So(t,"".concat(s,"move"),this._onMouseMove,Zr)}}_onMouseMove(e){const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const s=this._currentTransform,n=this._isClick,o=this._target,{button:l}=e;if(l)return(this.fireMiddleClick&&l===1||this.fireRightClick&&l===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let d,u,h=!1;if(s&&(this._finalizeCurrentTransform(e),h=s.actionPerformed),!n){const p=o===this._activeObject;this.handleSelection(e),h||(h=this._shouldRender(o)||!p&&o===this._activeObject)}if(o){const p=o.findControl(this.getViewportPoint(e),r0(e)),{key:m,control:y}=p||{};if(u=m,o.selectable&&o!==this._activeObject&&o.activeOn==="up")this.setActiveObject(o,e),h=!0;else if(y){const x=y.getMouseUpHandler(e,o,y);x&&(d=this.getScenePoint(e),x.call(y,e,s,d.x,d.y))}o.isMoving=!1}if(s&&(s.target!==o||s.corner!==u)){const p=s.target&&s.target.controls[s.corner],m=p&&p.getMouseUpHandler(e,s.target,p);d=d||this.getScenePoint(e),m&&m.call(p,e,s,d.x,d.y)}this._setCursorFromEvent(e,o),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,o&&(o.__corner=void 0),h?this.requestRenderAll():n||(t=this._activeObject)!==null&&t!==void 0&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:s,subTargets:n=[]}=t;this.fire(e,t),s&&s.fire(e,t);for(let o=0;o<n.length;o++)n[o]!==s&&n[o].fire(e,t);return t}_handleEvent(e,t,s){const n=this._target,o=this.targets||[],l=Y(Y(Y({e,target:n,subTargets:o},Ji(this,e)),{},{transform:this._currentTransform},t==="up:before"||t==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),t==="down:before"||t==="down"?s:{});this.fire("mouse:".concat(t),l),n&&n.fire("mouse".concat(t),l);for(let d=0;d<o.length;d++)o[d]!==n&&o[d].fire("mouse".concat(t),l)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e,pointer:t}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let t=this._target,s=!!t&&t===this._activeObject;const{button:n}=e;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(e,"down",{alreadySelected:s}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let o=this._shouldRender(t),l=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,l=!0,o=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const d=this.getScenePoint(e);this._groupSelector={x:d.x,y:d.y,deltaY:0,deltaX:0}}if(s=!!t&&t===this._activeObject,t){t.selectable&&t.activeOn==="down"&&this.setActiveObject(t,e);const d=t.findControl(this.getViewportPoint(e),r0(e));if(t===this._activeObject&&(d||!l)){this._setupCurrentTransform(e,t,s);const u=d?d.control:void 0,h=this.getScenePoint(e),p=u&&u.getMouseDownHandler(e,t,u);p&&p.call(u,e,this._currentTransform,h.x,h.y)}}o&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:s}),o&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=ga(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const s=this.getScenePoint(e);t.deltaX=s.x-t.x,t.deltaY=s.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const s=this.findTarget(e);this._setCursorFromEvent(e,s),this._fireOverOutEvents(e,s)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,t){const s=this._hoveredTarget,n=this._hoveredTargets,o=this.targets,l=Math.max(n.length,o.length);this.fireSyntheticInOutEvents("mouse",{e,target:t,oldTarget:s,fireCanvas:!0});for(let d=0;d<l;d++)this.fireSyntheticInOutEvents("mouse",{e,target:o[d],oldTarget:n[d]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,t){const s=this._draggedoverTarget,n=this._hoveredTargets,o=this.targets,l=Math.max(n.length,o.length);this.fireSyntheticInOutEvents("drag",Y(Y({},t),{},{target:e,oldTarget:s,fireCanvas:!0}));for(let d=0;d<l;d++)this.fireSyntheticInOutEvents("drag",Y(Y({},t),{},{target:o[d],oldTarget:n[d]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,t){let{target:s,oldTarget:n,fireCanvas:o,e:l}=t,d=kt(t,EI);const{targetIn:u,targetOut:h,canvasIn:p,canvasOut:m}=PI[e],y=n!==s;if(n&&y){const x=Y(Y({},d),{},{e:l,target:n,nextTarget:s},Ji(this,l));o&&this.fire(m,x),n.fire(h,x)}if(s&&y){const x=Y(Y({},d),{},{e:l,target:s,previousTarget:n},Ji(this,l));o&&this.fire(p,x),s.fire(u,x)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const t=this.getScenePoint(e),s=this._currentTransform,n=s.target,o=n.group?ga(t,void 0,n.group.calcTransformMatrix()):t;s.shiftKey=e.shiftKey,s.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,s,o),s.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,s){const{action:n,actionHandler:o,target:l}=t,d=!!o&&o(e,t,s.x,s.y);d&&l.setCoords(),n==="drag"&&d&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||d}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let s=t.hoverCursor||this.hoverCursor;const n=ui(this._activeObject)?this._activeObject:null,o=(!n||t.group!==n)&&t.findControl(this.getViewportPoint(e));if(o){const l=o.control;this.setCursor(l.cursorStyleHandler(e,l,t))}else t.subTargetCheck&&this.targets.concat().reverse().map((l=>{s=l.hoverCursor||s})),this.setCursor(s)}handleMultiSelection(e,t){const s=this._activeObject,n=ui(s);if(s&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(s!==t||n)&&(n||!t.isDescendantOf(s)&&!s.isDescendantOf(t))&&!t.onSelect({e})&&!s.getActiveControl()){if(n){const o=s.getObjects();if(t===s){const l=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(o,l)||this.searchPossibleTargets(this._objects,l))||!t.selectable)return!1}t.group===s?(s.remove(t),this._hoveredTarget=t,this._hoveredTargets=[...this.targets],s.size()===1&&this._setActiveObject(s.item(0),e)):(s.multiSelectAdd(t),this._hoveredTarget=s,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(o,e)}else{s.isEditing&&s.exitEditing();const o=new(Ae.getClass("ActiveSelection"))([],{canvas:this});o.multiSelectAdd(s,t),this._hoveredTarget=o,this._setActiveObject(o,e),this._fireSelectionEvents([s],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:s,deltaX:n,deltaY:o}=this._groupSelector,l=new ne(t,s),d=l.add(new ne(n,o)),u=l.min(d),h=l.max(d).subtract(u),p=this.collectObjects({left:u.x,top:u.y,width:h.x,height:h.y},{includeIntersecting:!this.selectionFullyContained}),m=l.eq(d)?p[0]?[p[0]]:[]:p.length>1?p.filter((y=>!y.onSelect({e}))).reverse():p;if(m.length===1)this.setActiveObject(m[0],e);else if(m.length>1){const y=Ae.getClass("ActiveSelection");this.setActiveObject(new y(m,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const AN={x1:0,y1:0,x2:0,y2:0},DI=Y(Y({},AN),{},{r1:0,r2:0}),ha=(r,e)=>isNaN(r)&&typeof e=="number"?e:r,AI=/^(\d+\.\d+)%|(\d+)%$/;function RN(r){return r&&AI.test(r)}function ON(r,e){const t=typeof r=="number"?r:typeof r=="string"?parseFloat(r)/(RN(r)?100:1):NaN;return Ma(0,ha(t,e),1)}const RI=/\s*;\s*/,OI=/\s*:\s*/;function FI(r,e){let t,s;const n=r.getAttribute("style");if(n){const l=n.split(RI);l[l.length-1]===""&&l.pop();for(let d=l.length;d--;){const[u,h]=l[d].split(OI).map((p=>p.trim()));u==="stop-color"?t=h:u==="stop-opacity"&&(s=h)}}const o=new dt(t||r.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:ON(r.getAttribute("offset"),0),color:o.toRgb(),opacity:ha(parseFloat(s||r.getAttribute("stop-opacity")||""),1)*o.getAlpha()*e}}function LI(r,e){const t=[],s=r.getElementsByTagName("stop"),n=ON(e,1);for(let o=s.length;o--;)t.push(FI(s[o],n));return t}function FN(r){return r.nodeName==="linearGradient"||r.nodeName==="LINEARGRADIENT"?"linear":"radial"}function LN(r){return r.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function As(r,e){return r.getAttribute(e)}function zI(r,e){return(function(t,s){let n,{width:o,height:l,gradientUnits:d}=s;return Object.keys(t).reduce(((u,h)=>{const p=t[h];return p==="Infinity"?n=1:p==="-Infinity"?n=0:(n=typeof p=="string"?parseFloat(p):p,typeof p=="string"&&RN(p)&&(n*=.01,d==="pixels"&&(h!=="x1"&&h!=="x2"&&h!=="r2"||(n*=o),h!=="y1"&&h!=="y2"||(n*=l)))),u[h]=n,u}),{})})(FN(r)==="linear"?(function(t){return{x1:As(t,"x1")||0,y1:As(t,"y1")||0,x2:As(t,"x2")||"100%",y2:As(t,"y2")||0}})(r):(function(t){return{x1:As(t,"fx")||As(t,"cx")||"50%",y1:As(t,"fy")||As(t,"cy")||"50%",r1:0,x2:As(t,"cx")||"50%",y2:As(t,"cy")||"50%",r2:As(t,"r")||"50%"}})(r),Y(Y({},e),{},{gradientUnits:LN(r)}))}class lu{constructor(e){const{type:t="linear",gradientUnits:s="pixels",coords:n={},colorStops:o=[],offsetX:l=0,offsetY:d=0,gradientTransform:u,id:h}=e||{};Object.assign(this,{type:t,gradientUnits:s,coords:Y(Y({},t==="radial"?DI:AN),n),colorStops:o,offsetX:l,offsetY:d,gradientTransform:u,id:h?"".concat(h,"_").concat(Lo()):Lo()})}addColorStop(e){for(const t in e){const s=new dt(e[t]);this.colorStops.push({offset:parseFloat(t),color:s.toRgb(),opacity:s.getAlpha()})}return this}toObject(e){return Y(Y({},Ua(this,e)),{},{type:this.type,coords:Y({},this.coords),colorStops:this.colorStops.map((t=>Y({},t))),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=[],n=this.gradientTransform?this.gradientTransform.concat():Dr.concat(),o=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",l=this.colorStops.map((m=>Y({},m))).sort(((m,y)=>m.offset-y.offset));let d=-this.offsetX,u=-this.offsetY;var h;o==="objectBoundingBox"?(d/=e.width,u/=e.height):(d+=e.width/2,u+=e.height/2),(h=e)&&typeof h._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(d-=e.pathOffset.x,u-=e.pathOffset.y),n[4]-=d,n[5]-=u;const p=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(o,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(vc(n),'"'),""].join(" ");if(this.type==="linear"){const{x1:m,y1:y,x2:x,y2:v}=this.coords;s.push("<linearGradient ",p,' x1="',m,'" y1="',y,'" x2="',x,'" y2="',v,`">
`)}else if(this.type==="radial"){const{x1:m,y1:y,x2:x,y2:v,r1:w,r2:j}=this.coords,C=w>j;s.push("<radialGradient ",p,' cx="',C?m:x,'" cy="',C?y:v,'" r="',C?w:j,'" fx="',C?x:m,'" fy="',C?v:y,`">
`),C&&(l.reverse(),l.forEach((k=>{k.offset=1-k.offset})));const N=Math.min(w,j);if(N>0){const k=N/Math.max(w,j);l.forEach((_=>{_.offset+=k*(1-_.offset)}))}}return l.forEach((m=>{let{color:y,offset:x,opacity:v}=m;s.push("<stop ",'offset="',100*x+"%",'" style="stop-color:',y,v!==void 0?";stop-opacity: "+v:";",`"/>
`)})),s.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),s.join("")}toLive(e){const{x1:t,y1:s,x2:n,y2:o,r1:l,r2:d}=this.coords,u=this.type==="linear"?e.createLinearGradient(t,s,n,o):e.createRadialGradient(t,s,l,n,o,d);return this.colorStops.forEach((h=>{let{color:p,opacity:m,offset:y}=h;u.addColorStop(y,m!==void 0?new dt(p).setAlpha(m).toRgba():p)})),u}static async fromObject(e){const{colorStops:t,gradientTransform:s}=e;return new this(Y(Y({},e),{},{colorStops:t?t.map((n=>Y({},n))):void 0,gradientTransform:s?[...s]:void 0}))}static fromElement(e,t,s){const n=LN(e),o=t._findCenterFromElement();return new this(Y({id:e.getAttribute("id")||void 0,type:FN(e),coords:zI(e,{width:s.viewBoxWidth||s.width,height:s.viewBoxHeight||s.height}),colorStops:LI(e,s.opacity),gradientUnits:n,gradientTransform:i0(e.getAttribute("gradientTransform")||"")},n==="pixels"?{offsetX:t.width/2-o.x,offsetY:t.height/2-o.y}:{offsetX:0,offsetY:0}))}}W(lu,"type","Gradient"),Ae.setClass(lu,"gradient"),Ae.setClass(lu,"linear"),Ae.setClass(lu,"radial");const II=["type","source","patternTransform"];class eh{get type(){return"pattern"}set type(e){Fo("warn","Setting type has no effect",e)}constructor(e){W(this,"repeat","repeat"),W(this,"offsetX",0),W(this,"offsetY",0),W(this,"crossOrigin",""),this.id=Lo(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:t,crossOrigin:s}=this;return Y(Y({},Ua(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:s,offsetX:gt(this.offsetX,at.NUM_FRACTION_DIGITS),offsetY:gt(this.offsetY,at.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:s}=e;const{source:n,repeat:o,id:l}=this,d=ha(this.offsetX/t,0),u=ha(this.offsetY/s,0),h=o==="repeat-y"||o==="no-repeat"?1+Math.abs(d||0):ha(n.width/t,0),p=o==="repeat-x"||o==="no-repeat"?1+Math.abs(u||0):ha(n.height/s,0);return['<pattern id="SVGID_'.concat(l,'" x="').concat(d,'" y="').concat(u,'" width="').concat(h,'" height="').concat(p,'">'),'<image x="0" y="0" width="'.concat(n.width,'" height="').concat(n.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,t){let{type:s,source:n,patternTransform:o}=e,l=kt(e,II);const d=await Ju(n,Y(Y({},t),{},{crossOrigin:l.crossOrigin}));return new this(Y(Y({},l),{},{patternTransform:o&&o.slice(0),source:d}))}}W(eh,"type","Pattern"),Ae.setClass(eh),Ae.setClass(eh,"pattern");class zN{constructor(e){W(this,"color","rgb(0, 0, 0)"),W(this,"width",1),W(this,"shadow",null),W(this,"strokeLineCap","round"),W(this,"strokeLineJoin","round"),W(this,"strokeMiterLimit",10),W(this,"strokeDashArray",null),W(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}needsFullRender(){return new dt(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,t=this.shadow,s=e.contextTop,n=e.getZoom()*e.getRetinaScaling();s.shadowColor=t.color,s.shadowBlur=t.blur*n,s.shadowOffsetX=t.offsetX*n,s.shadowOffsetY=t.offsetY*n}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}const BI=["path","left","top"],VI=["d"];class To extends wr{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:s,left:n,top:o}=t,l=kt(t,BI);super(),Object.assign(this,To.ownDefaults),this.setOptions(l),this._setPath(e||[],!0),typeof n=="number"&&this.set(ut,n),typeof o=="number"&&this.set(Wr,o)}_setPath(e,t){this.path=yI(Array.isArray(e)?e:NI(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new ne(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,s=-this.pathOffset.y;e.beginPath();for(const n of this.path)switch(n[0]){case"L":e.lineTo(n[1]+t,n[2]+s);break;case"M":e.moveTo(n[1]+t,n[2]+s);break;case"C":e.bezierCurveTo(n[1]+t,n[2]+s,n[3]+t,n[4]+s,n[5]+t,n[6]+s);break;case"Q":e.quadraticCurveTo(n[1]+t,n[2]+s,n[3]+t,n[4]+s);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),{},{path:this.path.map((t=>t.slice()))})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){const e=DN(this.path,at.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=at.NUM_FRACTION_DIGITS;return" translate(".concat(gt(-this.pathOffset.x,e),", ").concat(gt(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:s,pathOffset:n}=this._calcDimensions();this.set({width:t,height:s,pathOffset:n}),e&&this.setPositionByOrigin(n,Qe,Qe)}_calcBoundsFromPath(){const e=[];let t=0,s=0,n=0,o=0;for(const l of this.path)switch(l[0]){case"L":n=l[1],o=l[2],e.push({x:t,y:s},{x:n,y:o});break;case"M":n=l[1],o=l[2],t=n,s=o;break;case"C":e.push(...DS(n,o,l[1],l[2],l[3],l[4],l[5],l[6])),n=l[5],o=l[6];break;case"Q":e.push(...DS(n,o,l[1],l[2],l[1],l[2],l[3],l[4])),n=l[3],o=l[4];break;case"Z":n=t,o=s}return Bn(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return Y(Y({},e),{},{pathOffset:new ne(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,t,s){const n=Kn(e,this.ATTRIBUTE_NAMES,s),{d:o}=n;return new this(o,Y(Y(Y({},kt(n,VI)),t),{},{left:void 0,top:void 0}))}}W(To,"type","Path"),W(To,"cacheProperties",[...Xn,"path","fillRule"]),W(To,"ATTRIBUTE_NAMES",[...Vo,"d"]),Ae.setClass(To),Ae.setSVGClass(To);class sn extends zN{constructor(e){super(e),W(this,"decimate",.4),W(this,"drawStraightLine",!1),W(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,t,s){const n=t.midPointFrom(s);return e.quadraticCurveTo(t.x,t.y,n.x,n.y),n}onMouseDown(e,t){let{e:s}=t;this.canvas._isMainEvent(s)&&(this.drawStraightLine=!!this.straightLineKey&&s[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,t){let{e:s}=t;if(this.canvas._isMainEvent(s)&&(this.drawStraightLine=!!this.straightLineKey&&s[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const n=this._points,o=n.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=sn.drawSegment(l,n[o-2],n[o-1]),l.stroke(),l.restore()}}onMouseUp(e){let{e:t}=e;return!this.canvas._isMainEvent(t)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,t=this._points[0],s=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&t.x===s.x&&t.y===s.y){const n=this.width/1e3;t.x-=n,s.x+=n}e.moveTo(t.x,t.y);for(let n=1;n<this._points.length;n++)sn.drawSegment(e,t,s),t=this._points[n],s=this._points[n+1];e.lineTo(t.x,t.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const t=this.width/1e3;return TI(e,t)}createPath(e){const t=new To(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new br(this.shadow)),t}decimatePoints(e,t){if(e.length<=2)return e;let s,n=e[0];const o=this.canvas.getZoom(),l=Math.pow(t/o,2),d=e.length-1,u=[n];for(let h=1;h<d-1;h++)s=Math.pow(n.x-e[h].x,2)+Math.pow(n.y-e[h].y,2),s>=l&&(n=e[h],u.push(n));return u.push(e[d]),u}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if((function(s){return DN(s)==="M 0 0 Q 0 0 0 0 L 0 0"})(e))return void this.canvas.requestRenderAll();const t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}}const WI=["left","top","radius"],IN=["radius","startAngle","endAngle","counterClockwise"];class Ln extends wr{static getDefaults(){return Y(Y({},super.getDefaults()),Ln.ownDefaults)}constructor(e){super(),Object.assign(this,Ln.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),e==="radius"&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Wt(this.startAngle),Wt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get($r)}getRadiusY(){return this.get("radius")*this.get(Cs)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...IN,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:t}=this,s=Wt(this.startAngle),n=Wt(this.endAngle),o=$n(s)*t,l=Gn(s)*t,d=$n(n)*t,u=Gn(n)*t,h=e>180?1:0,p=this.counterClockwise?0:1;return['<path d="M '.concat(o," ").concat(l," A ").concat(t," ").concat(t," 0 ").concat(h," ").concat(p," ").concat(d," ").concat(u,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,t,s){const n=Kn(e,this.ATTRIBUTE_NAMES,s),{left:o=0,top:l=0,radius:d=0}=n;return new this(Y(Y({},kt(n,WI)),{},{radius:d,left:o-d,top:l-d}))}static fromObject(e){return super._fromObject(e)}}W(Ln,"type","Circle"),W(Ln,"cacheProperties",[...Xn,...IN]),W(Ln,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),W(Ln,"ATTRIBUTE_NAMES",["cx","cy","r",...Vo]),Ae.setClass(Ln),Ae.setSVGClass(Ln);class HI extends zN{constructor(e){super(e),W(this,"width",10),W(this,"density",20),W(this,"dotWidth",1),W(this,"dotWidthVariance",1),W(this,"randomOpacity",!1),W(this,"optimizeOverlapping",!0),this.sprayChunks=[],this.sprayChunk=[]}onMouseDown(e){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.renderChunck(this.sprayChunk)}onMouseMove(e){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.renderChunck(this.sprayChunk))}onMouseUp(){const e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const t=[];for(let n=0;n<this.sprayChunks.length;n++){const o=this.sprayChunks[n];for(let l=0;l<o.length;l++){const d=o[l],u=new vs({width:d.width,height:d.width,left:d.x+1,top:d.y+1,originX:Qe,originY:Qe,fill:this.color});t.push(u)}}const s=new Po(this.optimizeOverlapping?(function(n){const o={},l=[];for(let d,u=0;u<n.length;u++)d="".concat(n[u].left).concat(n[u].top),o[d]||(o[d]=!0,l.push(n[u]));return l})(t):t,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&s.set("shadow",new br(this.shadow)),this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()}renderChunck(e){const t=this.canvas.contextTop;t.fillStyle=this.color,this._saveAndTransform(t);for(let s=0;s<e.length;s++){const n=e[s];t.globalAlpha=n.opacity,t.fillRect(n.x,n.y,n.width,n.width)}t.restore()}_render(){const e=this.canvas.contextTop;e.fillStyle=this.color,this._saveAndTransform(e);for(let t=0;t<this.sprayChunks.length;t++)this.renderChunck(this.sprayChunks[t]);e.restore()}addSprayChunk(e){this.sprayChunk=[];const t=this.width/2;for(let s=0;s<this.density;s++)this.sprayChunk.push({x:au(e.x-t,e.x+t),y:au(e.y-t,e.y+t),width:this.dotWidthVariance?au(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?au(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}}class UI extends sn{constructor(e){super(e)}getPatternSrc(){const e=vn(),t=e.getContext("2d");return e.width=e.height=25,t&&(t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill()),e}getPattern(e){return e.createPattern(this.source||this.getPatternSrc(),"repeat")}_setBrushStyles(e){super._setBrushStyles(e);const t=this.getPattern(e);t&&(e.strokeStyle=t)}createPath(e){const t=super.createPath(e),s=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new eh({source:this.source||this.getPatternSrc(),offsetX:-s.x,offsetY:-s.y}),t}}const $I=["x1","y1","x2","y2"],GI=["x1","y1","x2","y2"],u0=["x1","x2","y1","y2"];class _o extends wr{constructor(){let[e,t,s,n]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,_o.ownDefaults),this.setOptions(o),this.x1=e,this.x2=s,this.y1=t,this.y2=n,this._setWidthHeight();const{left:l,top:d}=o;typeof l=="number"&&this.set(ut,l),typeof d=="number"&&this.set(Wr,d)}_setWidthHeight(){const{x1:e,y1:t,x2:s,y2:n}=this;this.width=Math.abs(s-e),this.height=Math.abs(n-t);const{left:o,top:l,width:d,height:u}=Bn([{x:e,y:t},{x:s,y:n}]),h=new ne(o+d/2,l+u/2);this.setPositionByOrigin(h,Qe,Qe)}_set(e,t){return super._set(e,t),u0.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const s=e.strokeStyle;var n;bs(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(n=this.stroke)!==null&&n!==void 0?n:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=s}_findCenterFromElement(){return new ne((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:s,y2:n,width:o,height:l}=this,d=e<=t?-1:1,u=s<=n?-1:1;return{x1:d*o/2,x2:d*-o/2,y1:u*l/2,y2:u*-l/2}}_toSVG(){const{x1:e,x2:t,y1:s,y2:n}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(s,'" x2="').concat(t,'" y2="').concat(n,`" />
`)]}static async fromElement(e,t,s){const n=Kn(e,this.ATTRIBUTE_NAMES,s),{x1:o=0,y1:l=0,x2:d=0,y2:u=0}=n;return new this([o,l,d,u],kt(n,$I))}static fromObject(e){let{x1:t,y1:s,x2:n,y2:o}=e,l=kt(e,GI);return this._fromObject(Y(Y({},l),{},{points:[t,s,n,o]}),{extraParam:"points"})}}W(_o,"type","Line"),W(_o,"cacheProperties",[...Xn,...u0]),W(_o,"ATTRIBUTE_NAMES",Vo.concat(u0)),Ae.setClass(_o),Ae.setSVGClass(_o);class Mo extends wr{static getDefaults(){return Y(Y({},super.getDefaults()),Mo.ownDefaults)}constructor(e){super(),Object.assign(this,Mo.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,s=this.height/2;e.beginPath(),e.moveTo(-t,s),e.lineTo(0,-s),e.lineTo(t,s),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}W(Mo,"type","Triangle"),W(Mo,"ownDefaults",{width:100,height:100}),Ae.setClass(Mo),Ae.setSVGClass(Mo);const BN=["rx","ry"];class nn extends wr{static getDefaults(){return Y(Y({},super.getDefaults()),nn.ownDefaults)}constructor(e){super(),Object.assign(this,nn.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get($r)}getRy(){return this.get("ry")*this.get(Cs)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...BN,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Ch,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,t,s){const n=Kn(e,this.ATTRIBUTE_NAMES,s);return n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,new this(n)}}function YI(r){if(!r)return[];const e=r.replace(/,/g," ").trim().split(/\s+/),t=[];for(let s=0;s<e.length;s+=2)t.push({x:parseFloat(e[s]),y:parseFloat(e[s+1])});return t}W(nn,"type","Ellipse"),W(nn,"cacheProperties",[...Xn,...BN]),W(nn,"ownDefaults",{rx:0,ry:0}),W(nn,"ATTRIBUTE_NAMES",[...Vo,"cx","cy","rx","ry"]),Ae.setClass(nn),Ae.setSVGClass(nn);const XI=["left","top"],VN={exactBoundingBox:!1};class Ls extends wr{static getDefaults(){return Y(Y({},super.getDefaults()),Ls.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),W(this,"strokeDiff",void 0),Object.assign(this,Ls.ownDefaults),this.setOptions(t),this.points=e;const{left:s,top:n}=t;this.initialized=!0,this.setBoundingBox(!0),typeof s=="number"&&this.set(ut,s),typeof n=="number"&&this.set(Wr,n)}isOpen(){return!0}_projectStrokeOnPoints(e){return Rz(this.points,e,this.isOpen())}_calcDimensions(e){e=Y({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map((h=>h.projectedPoint)):this.points;if(t.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ne,strokeOffset:new ne,strokeDiff:new ne};const s=Bn(t),n=of(Y(Y({},e),{},{scaleX:1,scaleY:1})),o=Bn(this.points.map((h=>Br(h,n,!0)))),l=new ne(this.scaleX,this.scaleY);let d=s.left+s.width/2,u=s.top+s.height/2;return this.exactBoundingBox&&(d-=u*Math.tan(Wt(this.skewX)),u-=d*Math.tan(Wt(this.skewY))),Y(Y({},s),{},{pathOffset:new ne(d,u),strokeOffset:new ne(o.left,o.top).subtract(new ne(s.left,s.top)).multiply(l),strokeDiff:new ne(s.width,s.height).subtract(new ne(o.width,o.height)).multiply(l)})}_findCenterFromElement(){const e=Bn(this.points);return new ne(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:s,width:n,height:o,pathOffset:l,strokeOffset:d,strokeDiff:u}=this._calcDimensions();this.set({width:n,height:o,pathOffset:l,strokeOffset:d,strokeDiff:u}),e&&this.setPositionByOrigin(new ne(t+n/2,s+o/2),Qe,Qe)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ne(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let l;if(Object.keys(e).some((d=>this.strokeUniform||this.constructor.layoutProperties.includes(d)))){var t,s;const{width:d,height:u}=this._calcDimensions(e);l=new ne((t=e.width)!==null&&t!==void 0?t:d,(s=e.height)!==null&&s!==void 0?s:u)}else{var n,o;l=new ne((n=e.width)!==null&&n!==void 0?n:this.width,(o=e.height)!==null&&o!==void 0?o:this.height)}return l.multiply(new ne(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const s=this.initialized&&this[e]!==t,n=super._set(e,t);return this.exactBoundingBox&&s&&((e===$r||e===Cs)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),n}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),{},{points:this.points.map((t=>{let{x:s,y:n}=t;return{x:s,y:n}}))})}_toSVG(){const e=[],t=this.pathOffset.x,s=this.pathOffset.y,n=at.NUM_FRACTION_DIGITS;for(let o=0,l=this.points.length;o<l;o++)e.push(gt(this.points[o].x-t,n),",",gt(this.points[o].y-s,n)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const t=this.points.length,s=this.pathOffset.x,n=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-s,this.points[0].y-n);for(let o=0;o<t;o++){const l=this.points[o];e.lineTo(l.x-s,l.y-n)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,t,s){return new this(YI(e.getAttribute("points")),Y(Y({},kt(Kn(e,this.ATTRIBUTE_NAMES,s),XI)),t))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}W(Ls,"ownDefaults",VN),W(Ls,"type","Polyline"),W(Ls,"layoutProperties",[Va,Wa,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),W(Ls,"cacheProperties",[...Xn,"points"]),W(Ls,"ATTRIBUTE_NAMES",[...Vo]),Ae.setClass(Ls),Ae.setSVGClass(Ls);class cu extends Ls{isOpen(){return!1}}W(cu,"ownDefaults",VN),W(cu,"type","Polygon"),Ae.setClass(cu),Ae.setSVGClass(cu);class WN extends wr{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const t=e===void 0?this.styles:{line:this.styles[e]};for(const s in t)for(const n in t[s])for(const o in t[s][n])return!1;return!0}styleHas(e,t){if(!this.styles||t!==void 0&&!this.styles[t])return!1;const s=t===void 0?this.styles:{0:this.styles[t]};for(const n in s)for(const o in s[n])if(s[n][o][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let s,n,o=0,l=!0,d=0;for(const u in t){s=0;for(const h in t[u]){const p=t[u][h]||{};o++,p[e]!==void 0?(n?p[e]!==n&&(l=!1):n=p[e],p[e]===this[e]&&delete p[e]):l=!1,Object.keys(p).length!==0?s++:delete t[u][h]}s===0&&delete t[u]}for(let u=0;u<this._textLines.length;u++)d+=this._textLines[u].length;l&&o===d&&(this[e]=n,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let s,n,o;for(n in t){for(o in s=t[n],s)delete s[o][e],Object.keys(s[o]).length===0&&delete s[o];Object.keys(s).length===0&&delete t[n]}}_extendStyles(e,t){const{lineIndex:s,charIndex:n}=this.get2DCursorLocation(e);this._getLineStyle(s)||this._setLineStyle(s);const o=By(Y(Y({},this._getStyleDeclaration(s,n)),t),(l=>l!==void 0));this._setStyleDeclaration(s,n,o)}getSelectionStyles(e,t,s){const n=[];for(let o=e;o<(t||e);o++)n.push(this.getStyleAtPosition(o,s));return n}getStyleAtPosition(e,t){const{lineIndex:s,charIndex:n}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(s,n):this._getStyleDeclaration(s,n)}setSelectionStyles(e,t,s){for(let n=t;n<(s||t);n++)this._extendStyles(n,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var s;const n=this.styles&&this.styles[e];return n&&(s=n[t])!==null&&s!==void 0?s:{}}getCompleteStyleDeclaration(e,t){return Y(Y({},Ua(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,s){this.styles[e][t]=s}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}W(WN,"_styleProperties",q6);const KI=/  +/g,qI=/"/g;function Bm(r,e,t,s,n){return"		".concat((function(o,l){let{left:d,top:u,width:h,height:p}=l,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:at.NUM_FRACTION_DIGITS;const y=bc(er,o,!1),[x,v,w,j]=[d,u,h,p].map((C=>gt(C,m)));return"<rect ".concat(y,' x="').concat(x,'" y="').concat(v,'" width="').concat(w,'" height="').concat(j,'"></rect>')})(r,{left:e,top:t,width:s,height:n}),`
`)}const ZI=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Vm;class _r extends WN{static getDefaults(){return Y(Y({},super.getDefaults()),_r.ownDefaults)}constructor(e,t){super(),W(this,"__charBounds",[]),Object.assign(this,_r.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=PN(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(on)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,s,n,o,l,d;for(let u=0,h=this._textLines.length;u<h;u++)if((this.textAlign===on||u!==h-1&&!this.isEndOfWrapping(u))&&(n=0,o=this._textLines[u],t=this.getLineWidth(u),t<this.width&&(d=this.textLines[u].match(this._reSpacesAndTabs)))){s=d.length,e=(this.width-t)/s;for(let p=0;p<=o.length;p++)l=this.__charBounds[u][p],this._reSpaceAndTab.test(o[p])?(l.width+=e,l.kernedWidth+=e,l.left+=n,n+=e):l.left+=n}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const s=t?this._unwrappedTextLines:this._textLines;let n;for(n=0;n<s.length;n++){if(e<=s[n].length)return{lineIndex:n,charIndex:e};e-=s[n].length+this.missingNewlineOffset(n,t)}return{lineIndex:n-1,charIndex:s[n-1].length<e?s[n-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Ur?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,s){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Qe:e.textBaseline="middle";break;case"ascender":e.textBaseline=Wr;break;case"descender":e.textBaseline=e0}e.font=this._getFontDeclaration(t,s)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,s=this._textLines.length;t<s;t++){const n=this.getLineWidth(t);n>e&&(e=n)}return e}_renderTextLine(e,t,s,n,o,l){this._renderChars(e,t,s,n,o,l)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,s=this._getLeftOffset();let n=this._getTopOffset();for(let o=0,l=this._textLines.length;o<l;o++){const d=this.getHeightOfLine(o);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",o)){n+=d;continue}const u=this._textLines[o].length,h=this._getLineLeftOffset(o);let p,m,y=0,x=0,v=this.getValueOfPropertyAt(o,0,"textBackgroundColor");for(let w=0;w<u;w++){const j=this.__charBounds[o][w];m=this.getValueOfPropertyAt(o,w,"textBackgroundColor"),this.path?(e.save(),e.translate(j.renderLeft,j.renderTop),e.rotate(j.angle),e.fillStyle=m,m&&e.fillRect(-j.width/2,-d/this.lineHeight*(1-this._fontSizeFraction),j.width,d/this.lineHeight),e.restore()):m!==v?(p=s+h+x,this.direction==="rtl"&&(p=this.width-p-y),e.fillStyle=v,v&&e.fillRect(p,n,y,d/this.lineHeight),x=j.left,y=j.width,v=m):y+=j.kernedWidth}m&&!this.path&&(p=s+h+x,this.direction==="rtl"&&(p=this.width-p-y),e.fillStyle=m,e.fillRect(p,n,y,d/this.lineHeight)),n+=d}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,s,n){const o=Ql.getFontCache(t),l=this._getFontDeclaration(t),d=s+e,u=s&&l===this._getFontDeclaration(n),h=t.fontSize/this.CACHE_FONT_SIZE;let p,m,y,x;if(s&&o[s]!==void 0&&(y=o[s]),o[e]!==void 0&&(x=p=o[e]),u&&o[d]!==void 0&&(m=o[d],x=m-y),p===void 0||y===void 0||m===void 0){const v=(function(){return Vm||(Vm=ks({width:0,height:0}).getContext("2d")),Vm})();this._setTextStyles(v,t,!0),p===void 0&&(x=p=v.measureText(e).width,o[e]=p),y===void 0&&u&&s&&(y=v.measureText(s).width,o[s]=y),u&&m===void 0&&(m=v.measureText(d).width,o[d]=m,x=m-y)}return{width:p*h,kernedWidth:x*h}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return this.charSpacing!==0&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,s,n=0;const o=this.pathSide===Vt,l=this.path,d=this._textLines[e],u=d.length,h=new Array(u);this.__charBounds[e]=h;for(let p=0;p<u;p++){const m=d[p];s=this._getGraphemeBox(m,e,p,t),h[p]=s,n+=s.kernedWidth,t=m}if(h[u]={left:s?s.left+s.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},l&&l.segmentsInfo){let p=0;const m=l.segmentsInfo[l.segmentsInfo.length-1].length;switch(this.textAlign){case ut:p=o?m-n:0;break;case Qe:p=(m-n)/2;break;case Vt:p=o?0:m-n}p+=this.pathStartOffset*(o?-1:1);for(let y=o?u-1:0;o?y>=0:y<u;o?y--:y++)s=h[y],p>m?p%=m:p<0&&(p+=m),this._setGraphemeOnPath(p,s),p+=s.kernedWidth}return{width:n,numOfSpaces:0}}_setGraphemeOnPath(e,t){const s=e+t.kernedWidth/2,n=this.path,o=SI(n.path,s,n.segmentsInfo);t.renderLeft=o.x-n.pathOffset.x,t.renderTop=o.y-n.pathOffset.y,t.angle=o.angle+(this.pathSide===Vt?Math.PI:0)}_getGraphemeBox(e,t,s,n,o){const l=this.getCompleteStyleDeclaration(t,s),d=n?this.getCompleteStyleDeclaration(t,s-1):{},u=this._measureChar(e,l,n,d);let h,p=u.kernedWidth,m=u.width;this.charSpacing!==0&&(h=this._getWidthOfCharSpacing(),m+=h,p+=h);const y={width:m,left:0,height:l.fontSize,kernedWidth:p,deltaY:l.deltaY};if(s>0&&!o){const x=this.__charBounds[t][s-1];y.left=x.left+x.width+u.kernedWidth-u.width}return y}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let t=this.getHeightOfChar(e,0);for(let s=1,n=this._textLines[e].length;s<n;s++)t=Math.max(this.getHeightOfChar(e,s),t);return this.__lineHeights[e]=t*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,t=0;for(let s=0,n=this._textLines.length;s<n;s++)e=this.getHeightOfLine(s),t+=s===n-1?e/this.lineHeight:e;return t}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let s=0;const n=this._getLeftOffset(),o=this._getTopOffset();for(let l=0,d=this._textLines.length;l<d;l++){const u=this.getHeightOfLine(l),h=u/this.lineHeight,p=this._getLineLeftOffset(l);this._renderTextLine(t,e,this._textLines[l],n+p,o+s+h,l),s+=u}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(er))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,s,n,o,l){const d=this.getHeightOfLine(l),u=this.textAlign.includes(on),h=this.path,p=!u&&this.charSpacing===0&&this.isEmptyStyles(l)&&!h,m=this.direction==="ltr",y=this.direction==="ltr"?1:-1,x=t.direction;let v,w,j,C,N,k="",_=0;if(t.save(),x!==this.direction&&(t.canvas.setAttribute("dir",m?"ltr":"rtl"),t.direction=m?"ltr":"rtl",t.textAlign=m?ut:Vt),o-=d*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(e,t,l,0,s.join(""),n,o),void t.restore();for(let P=0,D=s.length-1;P<=D;P++)C=P===D||this.charSpacing||h,k+=s[P],j=this.__charBounds[l][P],_===0?(n+=y*(j.kernedWidth-j.width),_+=j.width):_+=j.kernedWidth,u&&!C&&this._reSpaceAndTab.test(s[P])&&(C=!0),C||(v=v||this.getCompleteStyleDeclaration(l,P),w=this.getCompleteStyleDeclaration(l,P+1),C=Xy(v,w,!1)),C&&(h?(t.save(),t.translate(j.renderLeft,j.renderTop),t.rotate(j.angle),this._renderChar(e,t,l,P,k,-_/2,0),t.restore()):(N=n,this._renderChar(e,t,l,P,k,N,o)),k="",v=w,n+=y*_,_=0);t.restore()}_applyPatternGradientTransformText(e){const t=this.width+this.strokeWidth,s=this.height+this.strokeWidth,n=ks({width:t,height:s}),o=n.getContext("2d");return n.width=t,n.height=s,o.beginPath(),o.moveTo(0,0),o.lineTo(t,0),o.lineTo(t,s),o.lineTo(0,s),o.closePath(),o.translate(t/2,s/2),o.fillStyle=e.toLive(o),this._applyPatternGradientTransform(o,e),o.fill(),o.createPattern(n,"no-repeat")}handleFiller(e,t,s){let n,o;return bs(s)?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(n=-this.width/2,o=-this.height/2,e.translate(n,o),e[t]=this._applyPatternGradientTransformText(s),{offsetX:n,offsetY:o}):(e[t]=s.toLive(e),this._applyPatternGradientTransform(e,s)):(e[t]=s,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:s,strokeWidth:n}=t;return e.lineWidth=n,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",s)}_setFillStyles(e,t){let{fill:s}=t;return this.handleFiller(e,"fillStyle",s)}_renderChar(e,t,s,n,o,l,d){const u=this._getStyleDeclaration(s,n),h=this.getCompleteStyleDeclaration(s,n),p=e==="fillText"&&h.fill,m=e==="strokeText"&&h.stroke&&h.strokeWidth;if(m||p){if(t.save(),t.font=this._getFontDeclaration(h),u.textBackgroundColor&&this._removeShadow(t),u.deltaY&&(d+=u.deltaY),p){const y=this._setFillStyles(t,h);t.fillText(o,l-y.offsetX,d-y.offsetY)}if(m){const y=this._setStrokeStyles(t,h);t.strokeText(o,l-y.offsetX,d-y.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,s){const n=this.get2DCursorLocation(e,!0),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),l=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),d={fontSize:o*s.size,deltaY:l+o*s.baseline};this.setSelectionStyles(d,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),s=this.width-t,n=this.textAlign,o=this.direction,l=this.isEndOfWrapping(e);let d=0;return n===on||n===tc&&!l||n===ec&&!l||n===Eh&&!l?0:(n===Qe&&(d=s/2),n===Vt&&(d=s),n===tc&&(d=s/2),n===ec&&(d=s),o==="rtl"&&(n===Vt||n===on||n===ec?d=0:n===ut||n===Eh?d=-s:n!==Qe&&n!==tc||(d=-s/2)),d)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,s){var n;return(n=this._getStyleDeclaration(e,t)[s])!==null&&n!==void 0?n:this[s]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let s=this._getTopOffset();const n=this._getLeftOffset(),o=this.path,l=this._getWidthOfCharSpacing(),d=t==="linethrough"?.5:t==="overline"?1:0,u=this.offsets[t];for(let h=0,p=this._textLines.length;h<p;h++){const m=this.getHeightOfLine(h);if(!this[t]&&!this.styleHas(t,h)){s+=m;continue}const y=this._textLines[h],x=m/this.lineHeight,v=this._getLineLeftOffset(h);let w=0,j=0,C=this.getValueOfPropertyAt(h,0,t),N=this.getValueOfPropertyAt(h,0,er),k=this.getValueOfPropertyAt(h,0,Si),_=C,P=N,D=k;const M=s+x*(1-this._fontSizeFraction);let E=this.getHeightOfChar(h,0),R=this.getValueOfPropertyAt(h,0,"deltaY");for(let L=0,$=y.length;L<$;L++){const J=this.__charBounds[h][L];_=this.getValueOfPropertyAt(h,L,t),P=this.getValueOfPropertyAt(h,L,er),D=this.getValueOfPropertyAt(h,L,Si);const ce=this.getHeightOfChar(h,L),V=this.getValueOfPropertyAt(h,L,"deltaY");if(o&&_&&P){const X=this.fontSize*D/1e3;e.save(),e.fillStyle=N,e.translate(J.renderLeft,J.renderTop),e.rotate(J.angle),e.fillRect(-J.kernedWidth/2,u*ce+V-d*X,J.kernedWidth,X),e.restore()}else if((_!==C||P!==N||ce!==E||D!==k||V!==R)&&j>0){const X=this.fontSize*k/1e3;let F=n+v+w;this.direction==="rtl"&&(F=this.width-F-j),C&&N&&k&&(e.fillStyle=N,e.fillRect(F,M+u*E+R-d*X,j,X)),w=J.left,j=J.width,C=_,k=D,N=P,E=ce,R=V}else j+=J.kernedWidth}let O=n+v+w;this.direction==="rtl"&&(O=this.width-O-j),e.fillStyle=P;const B=this.fontSize*D/1e3;_&&P&&D&&e.fillRect(O,M+u*E+R-d*B,j-l,B),s+=m}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:s=this.fontWeight,fontSize:n=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;const l=e.includes("'")||e.includes('"')||e.includes(",")||_r.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,s,"".concat(o?this.CACHE_FONT_SIZE:n,"px"),l].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return Yy(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),s=new Array(t.length),n=[`
`];let o=[];for(let l=0;l<t.length;l++)s[l]=this.graphemeSplit(t[l]),o=o.concat(s[l],n);return o.pop(),{_unwrappedLines:s,lines:t,graphemeText:o,graphemeLines:s}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject([...fN,...e])),{},{styles:zz(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:s}=this.constructor;super.set(e,t);let n=!1,o=!1;if(typeof e=="object")for(const l in e)l==="path"&&this.setPathInfo(),n=n||s.includes(l),o=o||l==="path";else n=s.includes(e),o=e==="path";return o&&this.setPathInfo(),n&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,t,s){const n=Kn(e,_r.ATTRIBUTE_NAMES,s),o=Y(Y({},t),n),{textAnchor:l=ut,textDecoration:d="",dx:u=0,dy:h=0,top:p=0,left:m=0,fontSize:y=Ry,strokeWidth:x=1}=o,v=kt(o,ZI),w=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),Y({left:m+u,top:p+h,underline:d.includes("underline"),overline:d.includes("overline"),linethrough:d.includes("line-through"),strokeWidth:0,fontSize:y},v)),j=w.getScaledHeight()/w.height,C=((w.height+w.strokeWidth)*w.lineHeight-w.height)*j,N=w.getScaledHeight()+C;let k=0;return l===Qe&&(k=w.getScaledWidth()/2),l===Vt&&(k=w.getScaledWidth()),w.set({left:w.left-k,top:w.top-(N-w.fontSize*(.07+w._fontSizeFraction))/w.lineHeight,strokeWidth:x}),w}static fromObject(e){return this._fromObject(Y(Y({},e),{},{styles:Iz(e.styles||{},e.text)}),{extraParam:"text"})}}W(_r,"textLayoutProperties",hN),W(_r,"cacheProperties",[...Xn,...fN]),W(_r,"ownDefaults",Z6),W(_r,"type","Text"),W(_r,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),W(_r,"ATTRIBUTE_NAMES",Vo.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),SN(_r,[class extends cN{_toSVG(){const r=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(r.textTop,r.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(r){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:r,noStyle:!0,withShadow:!0}),t=this.path;return t?e+t._createBaseSVGMarkup(t._toSVG(),{reviver:r,withShadow:!0,additionalTransform:vc(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(r){let{textBgRects:e,textSpans:t}=r;const s=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(qI,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",s?'text-decoration="'.concat(s,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.join(""),`</text>
`]}_getSVGTextAndBg(r,e){const t=[],s=[];let n,o=r;this.backgroundColor&&s.push(...Bm(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let l=0,d=this._textLines.length;l<d;l++)n=this._getLineLeftOffset(l),this.direction==="rtl"&&(n+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",l))&&this._setSVGTextLineBg(s,l,e+n,o),this._setSVGTextLineText(t,l,e+n,o),o+=this.getHeightOfLine(l);return{textSpans:t,textBgRects:s}}_createTextCharSpan(r,e,t,s,n){const o=at.NUM_FRACTION_DIGITS,l=this.getSvgSpanStyles(e,r!==r.trim()||!!r.match(KI)),d=l?'style="'.concat(l,'"'):"",u=e.deltaY,h=u?' dy="'.concat(gt(u,o),'" '):"",{angle:p,renderLeft:m,renderTop:y,width:x}=n;let v="";if(m!==void 0){const w=x/2;p&&(v=' rotate="'.concat(gt(Yn(p),o),'"'));const j=Ha({angle:Yn(p)});j[4]=m,j[5]=y;const C=new ne(-w,0).transform(j);t=C.x,s=C.y}return'<tspan x="'.concat(gt(t,o),'" y="').concat(gt(s,o),'" ').concat(h).concat(v).concat(d,">").concat(Oz(r),"</tspan>")}_setSVGTextLineText(r,e,t,s){const n=this.getHeightOfLine(e),o=this.textAlign.includes(on),l=this._textLines[e];let d,u,h,p,m,y="",x=0;s+=n*(1-this._fontSizeFraction)/this.lineHeight;for(let v=0,w=l.length-1;v<=w;v++)m=v===w||this.charSpacing||this.path,y+=l[v],h=this.__charBounds[e][v],x===0?(t+=h.kernedWidth-h.width,x+=h.width):x+=h.kernedWidth,o&&!m&&this._reSpaceAndTab.test(l[v])&&(m=!0),m||(d=d||this.getCompleteStyleDeclaration(e,v),u=this.getCompleteStyleDeclaration(e,v+1),m=Xy(d,u,!0)),m&&(p=this._getStyleDeclaration(e,v),r.push(this._createTextCharSpan(y,p,t,s,h)),y="",d=u,this.direction==="rtl"?t-=x:t+=x,x=0)}_setSVGTextLineBg(r,e,t,s){const n=this._textLines[e],o=this.getHeightOfLine(e)/this.lineHeight;let l,d=0,u=0,h=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let p=0;p<n.length;p++){const{left:m,width:y,kernedWidth:x}=this.__charBounds[e][p];l=this.getValueOfPropertyAt(e,p,"textBackgroundColor"),l!==h?(h&&r.push(...Bm(h,t+u,s,d,o)),u=m,d=y,h=l):d+=x}l&&r.push(...Bm(h,t+u,s,d,o))}_getSVGLineTopOffset(r){let e,t=0;for(e=0;e<r;e++)t+=this.getHeightOfLine(e);const s=this.getHeightOfLine(e);return{lineTop:t,offset:(this._fontSizeMult-this._fontSizeFraction)*s/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(r){return"".concat(super.getSvgStyles(r)," text-decoration-thickness: ").concat(gt(this.textDecorationThickness*this.getObjectScaling().y/10,at.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(r,e){const{fontFamily:t,strokeWidth:s,stroke:n,fill:o,fontSize:l,fontStyle:d,fontWeight:u,deltaY:h,textDecorationThickness:p,linethrough:m,overline:y,underline:x}=r,v=this.getSvgTextDecoration({underline:x??this.underline,overline:y??this.overline,linethrough:m??this.linethrough}),w=p||this.textDecorationThickness;return[n?bc(Ur,n):"",s?"stroke-width: ".concat(s,"; "):"",t?"font-family: ".concat(t.includes("'")||t.includes('"')?t:"'".concat(t,"'"),"; "):"",l?"font-size: ".concat(l,"px; "):"",d?"font-style: ".concat(d,"; "):"",u?"font-weight: ".concat(u,"; "):"",v?"text-decoration: ".concat(v,"; text-decoration-thickness: ").concat(gt(w*this.getObjectScaling().y/10,at.NUM_FRACTION_DIGITS),"%; "):"",o?bc(er,o):"",h?"baseline-shift: ".concat(-h,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(r){return["overline","underline","line-through"].filter((e=>r[e.replace("-","")])).join(" ")}}]),Ae.setClass(_r),Ae.setSVGClass(_r);class JI{constructor(e){W(this,"target",void 0),W(this,"__mouseDownInPlace",!1),W(this,"__dragStartFired",!1),W(this,"__isDraggingOver",!1),W(this,"__dragStartSelection",void 0),W(this,"__dragImageDisposer",void 0),W(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach((s=>s())),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,s=t.getSelectionStartFromPointer(e);return t.isEditing&&s>=t.selectionStart&&s<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var s;let{selectionStart:n,selectionEnd:o}=t;const l=this.target,d=l.canvas,u=new ne(l.flipX?-1:1,l.flipY?-1:1),h=l._getCursorBoundaries(n),p=new ne(h.left+h.leftOffset,h.top+h.topOffset).multiply(u).transform(l.calcTransformMatrix()),m=d.getScenePoint(e).subtract(p),y=l.getCanvasRetinaScaling(),x=l.getBoundingRect(),v=p.subtract(new ne(x.left,x.top)),w=d.viewportTransform,j=v.add(m).transform(w,!0),C=l.backgroundColor,N=Gy(l.styles);l.backgroundColor="";const k={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};l.setSelectionStyles(k,0,n),l.setSelectionStyles(k,o,l.text.length),l.dirty=!0;const _=l.toCanvasElement({enableRetinaScaling:d.enableRetinaScaling,viewportTransform:!0});l.backgroundColor=C,l.styles=N,l.dirty=!0,c0(_,{position:"fixed",left:"".concat(-_.width,"px"),border:Hr,width:"".concat(_.width/y,"px"),height:"".concat(_.height/y,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{_.remove()},zs(e.target||this.target.hiddenTextarea).body.appendChild(_),(s=e.dataTransfer)===null||s===void 0||s.setDragImage(_,j.x,j.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,s=this.isActive();if(s&&e.dataTransfer){const n=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},o=t._text.slice(n.selectionStart,n.selectionEnd).join(""),l=Y({text:t.text,value:o},n);e.dataTransfer.setData("text/plain",o),e.dataTransfer.setData("application/fabric",JSON.stringify({value:o,styles:t.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,l)}return t.abortCursorAnimation(),s}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),s=this.__dragStartSelection;return t<s.selectionStart||t>s.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const s=this.targetCanDrop(t);!this.__isDraggingOver&&s&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,s=this.targetCanDrop(t);!this.__isDraggingOver&&s?this.__isDraggingOver=!0:this.__isDraggingOver&&!s&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:s}=e,n=s.defaultPrevented;this.__isDraggingOver=!1,s.preventDefault();let o=(t=s.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain");if(o&&!n){const l=this.target,d=l.canvas;let u=l.getSelectionStartFromPointer(s);const{styles:h}=s.dataTransfer.types.includes("application/fabric")?JSON.parse(s.dataTransfer.getData("application/fabric")):{},p=o[Math.max(0,o.length-1)],m=0;if(this.__dragStartSelection){const y=this.__dragStartSelection.selectionStart,x=this.__dragStartSelection.selectionEnd;u>y&&u<=x?u=y:u>x&&(u-=x-y),l.removeChars(y,x),delete this.__dragStartSelection}l._reNewline.test(p)&&(l._reNewline.test(l._text[u])||u===l._text.length)&&(o=o.trimEnd()),e.didDrop=!0,e.dropTarget=l,l.insertChars(o,h,u),d.setActiveObject(l),l.enterEditing(s),l.selectionStart=Math.min(u+m,l._text.length),l.selectionEnd=Math.min(l.selectionStart+o.length,l._text.length),l.hiddenTextarea.value=l.text,l._updateTextarea(),l.hiddenTextarea.focus(),l.fire(kh,{index:u+m,action:"drop"}),d.fire("text:changed",{target:l}),d.contextTopDirty=!0,d.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var s;const n=this.target,o=this.target.canvas,{selectionStart:l,selectionEnd:d}=this.__dragStartSelection,u=((s=t.dataTransfer)===null||s===void 0?void 0:s.dropEffect)||Hr;u===Hr?(n.selectionStart=l,n.selectionEnd=d,n._updateTextarea(),n.hiddenTextarea.focus()):(n.clearContextTop(),u==="move"&&(n.removeChars(l,d),n.selectionStart=n.selectionEnd=l,n.hiddenTextarea&&(n.hiddenTextarea.value=n.text),n._updateTextarea(),n.fire(kh,{index:l,action:"dragend"}),o.fire("text:changed",{target:n}),o.requestRenderAll()),n.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const OS=/[ \n\.,;!\?\-]/;class QI extends _r{constructor(){super(...arguments),W(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:s,delay:n,onComplete:o}=e;return yN({startValue:this._currentCursorOpacity,endValue:t,duration:s,delay:n,onComplete:o,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:l=>{this._currentCursorOpacity=l,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach((t=>{t&&!t.isDone()&&(e=!0,t.abort())})),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((e=>!e||e.isDone()))&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,s=e-1;if(this._reSpace.test(this._text[s]))for(;this._reSpace.test(this._text[s]);)t++,s--;for(;/\S/.test(this._text[s])&&s>-1;)t++,s--;return e-t}findWordBoundaryRight(e){let t=0,s=e;if(this._reSpace.test(this._text[s]))for(;this._reSpace.test(this._text[s]);)t++,s++;for(;/\S/.test(this._text[s])&&s<this._text.length;)t++,s++;return e+t}findLineBoundaryLeft(e){let t=0,s=e-1;for(;!/\n/.test(this._text[s])&&s>-1;)t++,s--;return e-t}findLineBoundaryRight(e){let t=0,s=e;for(;!/\n/.test(this._text[s])&&s<this._text.length;)t++,s++;return e+t}searchWordBoundary(e,t){const s=this._text;let n=e>0&&this._reSpace.test(s[e])&&(t===-1||!Oy.test(s[e-1]))?e-1:e,o=s[n];for(;n>0&&n<s.length&&!OS.test(o);)n+=t,o=s[n];return t===-1&&OS.test(o)&&n++,n}selectWord(e){var t;e=(t=e)!==null&&t!==void 0?t:this.selectionStart;const s=this.searchWordBoundary(e,-1),n=Math.max(s,this.searchWordBoundary(e,1));this.selectionStart=s,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var t;e=(t=e)!==null&&t!==void 0?t:this.selectionStart;const s=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);this.selectionStart=s,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;zs(t).activeElement!==t&&t.focus();const s=this.getSelectionStartFromPointer(e),n=this.selectionStart,o=this.selectionEnd;(s===this.__selectionStartOnMouseDown&&n!==o||n!==s&&o!==s)&&(s>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=s):(this.selectionStart=s,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===o||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,s){const n=s.slice(0,e),o=this.graphemeSplit(n).length;if(e===t)return{selectionStart:o,selectionEnd:o};const l=s.slice(e,t);return{selectionStart:o,selectionEnd:o+this.graphemeSplit(l).length}}fromGraphemeToStringSelection(e,t,s){const n=s.slice(0,e).join("").length;return e===t?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+s.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),s=this.get2DCursorLocation(e),n=s.lineIndex,o=s.charIndex,l=this.getValueOfPropertyAt(n,o,"fontSize")*this.lineHeight,d=t.leftOffset,u=this.getCanvasRetinaScaling(),h=this.canvas.upperCanvasEl,p=h.width/u,m=h.height/u,y=p-l,x=m-l,v=new ne(t.left+d,t.top+t.topOffset+l).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ne(h.clientWidth/p,h.clientHeight/m));return v.x<0&&(v.x=0),v.x>y&&(v.x=y),v.y<0&&(v.y=0),v.y>x&&(v.y=x),v.x+=this.canvas._offset.left,v.y+=this.canvas._offset.top,{left:"".concat(v.x,"px"),top:"".concat(v.y,"px"),fontSize:"".concat(l,"px"),charHeight:l}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(jh),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:s,charIndex:n}=this.get2DCursorLocation(e,!0),{lineIndex:o,charIndex:l}=this.get2DCursorLocation(t,!0);if(s!==o){if(this.styles[s])for(let d=n;d<this._unwrappedTextLines[s].length;d++)delete this.styles[s][d];if(this.styles[o])for(let d=l;d<this._unwrappedTextLines[o].length;d++){const u=this.styles[o][d];u&&(this.styles[s]||(this.styles[s]={}),this.styles[s][n+d-l]=u)}for(let d=s+1;d<=o;d++)delete this.styles[d];this.shiftLineStyles(o,s-o)}else if(this.styles[s]){const d=this.styles[s],u=l-n;for(let h=n;h<l;h++)delete d[h];for(const h in this.styles[s]){const p=parseInt(h,10);p>=l&&(d[p-u]=d[h],delete d[h])}}}shiftLineStyles(e,t){const s=Object.assign({},this.styles);for(const n in this.styles){const o=parseInt(n,10);o>e&&(this.styles[o+t]=s[o],s[o-t]||delete this.styles[o])}}insertNewlineStyleObject(e,t,s,n){const o={},l=this._unwrappedTextLines[e].length,d=l===t;let u=!1;s||(s=1),this.shiftLineStyles(e,s);const h=this.styles[e]?this.styles[e][t===0?t:t-1]:void 0;for(const m in this.styles[e]){const y=parseInt(m,10);y>=t&&(u=!0,o[y-t]=this.styles[e][m],d&&t===0||delete this.styles[e][m])}let p=!1;for(u&&!d&&(this.styles[e+s]=o,p=!0),(p||l>t)&&s--;s>0;)n&&n[s-1]?this.styles[e+s]={0:Y({},n[s-1])}:h?this.styles[e+s]={0:Y({},h)}:delete this.styles[e+s],s--;this._forceClearCache=!0}insertCharStyleObject(e,t,s,n){this.styles||(this.styles={});const o=this.styles[e],l=o?Y({},o):{};s||(s=1);for(const u in l){const h=parseInt(u,10);h>=t&&(o[h+s]=l[h],l[h-s]||delete o[h])}if(this._forceClearCache=!0,n){for(;s--;)Object.keys(n[s]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+s]=Y({},n[s]));return}if(!o)return;const d=o[t?t-1:1];for(;d&&s--;)this.styles[e][t+s]=Y({},d)}insertNewStyleBlock(e,t,s){const n=this.get2DCursorLocation(t,!0),o=[0];let l,d=0;for(let u=0;u<e.length;u++)e[u]===`
`?(d++,o[d]=0):o[d]++;for(o[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,o[0],s),s=s&&s.slice(o[0]+1)),d&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+o[0],d),l=1;l<d;l++)o[l]>0?this.insertCharStyleObject(n.lineIndex+l,0,o[l],s):s&&this.styles[n.lineIndex+l]&&s[0]&&(this.styles[n.lineIndex+l][0]=s[0]),s=s&&s.slice(o[l]+1);o[l]>0&&this.insertCharStyleObject(n.lineIndex+l,0,o[l],s)}removeChars(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s;n>s&&this.removeStyleFromTo(s,n);const o=this.graphemeSplit(e);this.insertNewStyleBlock(o,s,t),this._text=[...this._text.slice(0,s),...o,...this._text.slice(n)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,s){s<=e?(t===e?this._selectionDirection=ut:this._selectionDirection===Vt&&(this._selectionDirection=ut,this.selectionEnd=e),this.selectionStart=s):s>e&&s<t?this._selectionDirection===Vt?this.selectionEnd=s:this.selectionStart=s:(t===e?this._selectionDirection=Vt:this._selectionDirection===ut&&(this._selectionDirection=Vt,this.selectionStart=t),this.selectionEnd=s)}}class eB extends QI{initHiddenTextarea(){const e=this.canvas&&zs(this.canvas.getElement())||Ba(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((l=>{let[d,u]=l;return t.setAttribute(d,u)}));const{top:s,left:n,fontSize:o}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(s,"; left: ").concat(n,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(o,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((l=>{let[d,u]=l;return t.addEventListener(d,this[u].bind(this))})),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste,{value:s,selectionStart:n,selectionEnd:o}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const l=()=>{this.updateFromTextArea(),this.fire(kh),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void l();const d=this._splitTextIntoLines(s).graphemeText,u=this._text.length,h=d.length,p=this.selectionStart,m=this.selectionEnd,y=p!==m;let x,v,w,j,C=h-u;const N=this.fromStringToGraphemeSelection(n,o,s),k=p>N.selectionStart;y?(v=this._text.slice(p,m),C+=m-p):h<u&&(v=k?this._text.slice(m+C,m):this._text.slice(p,p-C));const _=d.slice(N.selectionEnd-C,N.selectionEnd);if(v&&v.length&&(_.length&&(x=this.getSelectionStyles(p,p+1,!1),x=_.map((()=>x[0]))),y?(w=p,j=m):k?(w=m-v.length,j=m):(w=m,j=m+v.length),this.removeStyleFromTo(w,j)),_.length){const{copyPasteData:P}=xn();t&&_.join("")===P.copiedText&&!at.disableStyleCopyPaste&&(x=P.copiedTextStyle),this.insertNewStyleBlock(_,p,x)}l()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:s,selectionEnd:n}=t;this.compositionStart=s,this.compositionEnd=n,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=xn();e.copiedText=this.getSelectedText(),at.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let s,n=this._getLineLeftOffset(e);return t>0&&(s=this.__charBounds[e][t-1],n+=s.left+s.width),n}getDownCursorOffset(e,t){const s=this._getSelectionForOffset(e,t),n=this.get2DCursorLocation(s),o=n.lineIndex;if(o===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-s;const l=n.charIndex,d=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o+1,d);return this._textLines[o].slice(l).length+u+1+this.missingNewlineOffset(o)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const s=this._getSelectionForOffset(e,t),n=this.get2DCursorLocation(s),o=n.lineIndex;if(o===0||e.metaKey||e.keyCode===33)return-s;const l=n.charIndex,d=this._getWidthBeforeCursor(o,l),u=this._getIndexOnLine(o-1,d),h=this._textLines[o].slice(0,l),p=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+u-h.length+(1-p)}_getIndexOnLine(e,t){const s=this._textLines[e];let n,o,l=this._getLineLeftOffset(e),d=0;for(let u=0,h=s.length;u<h;u++)if(n=this.__charBounds[e][u].width,l+=n,l>t){o=!0;const p=l-n,m=l,y=Math.abs(p-t);d=Math.abs(m-t)<y?u:u-1;break}return o||(d=s.length-1),d}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const s=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===Vt);if(t.shiftKey?this.moveCursorWithShift(s):this.moveCursorWithoutShift(s),s!==0){const n=this.text.length;this.selectionStart=Ma(0,this.selectionStart,n),this.selectionEnd=Ma(0,this.selectionEnd,n),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===ut?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,t,s){let n;if(e.altKey)n=this["findWordBoundary".concat(s)](this[t]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[t]+=s==="Left"?-1:1,!0;n=this["findLineBoundary".concat(s)](this[t])}return n!==void 0&&this[t]!==n&&(this[t]=n,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=ut,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===Vt&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=ut,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const s="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[s](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===ut&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Vt,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=Vt,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const FS=r=>!!r.button;class tB extends eB{constructor(){super(...arguments),W(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new JI(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:t,alreadySelected:s}=e;this.canvas&&this.editable&&!FS(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),s&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=s||this.isEditing)))}mouseUpHandler(e){let{e:t,transform:s}=e;const n=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const o=this.canvas._activeObject;if(o&&o!==this)return}!this.editable||this.group&&!this.group.interactive||s&&s.actionPerformed||FS(t)||n||this.selected&&!this.getActiveControl()&&(this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),s=this.selectionStart,n=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(s,n,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(Is(this.calcTransformMatrix())).add(new ne(-this._getLeftOffset(),-this._getTopOffset()));let s=0,n=0,o=0;for(let h=0;h<this._textLines.length&&s<=t.y;h++)s+=this.getHeightOfLine(h),o=h,h>0&&(n+=this._textLines[h-1].length+this.missingNewlineOffset(h-1));let l=Math.abs(this._getLineLeftOffset(o));const d=this._textLines[o].length,u=this.__charBounds[o];for(let h=0;h<d;h++){const p=l+u[h].kernedWidth;if(t.x<=p){Math.abs(t.x-p)<=Math.abs(t.x-l)&&n++;break}l=p,n++}return Math.min(this.flipX?d-n:n,this._text.length)}}const du="moveCursorUp",uu="moveCursorDown",hu="moveCursorLeft",fu="moveCursorRight",pu="exitEditing",LS=(r,e)=>{const t=e.getRetinaScaling();r.setTransform(t,0,0,t,0,0);const s=e.viewportTransform;r.transform(s[0],s[1],s[2],s[3],s[4],s[5])},rB=Y({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:pu,27:pu,33:du,34:uu,35:fu,36:hu,37:hu,38:du,39:fu,40:uu},keysMapRtl:{9:pu,27:pu,33:du,34:uu,35:hu,36:fu,37:fu,38:du,39:hu,40:uu},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class In extends tB{static getDefaults(){return Y(Y({},super.getDefaults()),In.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,t){super(e,Y(Y({},In.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):(e==="canvas"&&(this.canvas instanceof d0&&this.canvas.textEditingManager.remove(this),t instanceof d0&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,s=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,s)}setSelectionStyles(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,s)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const s=super.toCanvasElement(e);return this.isEditing=t,s}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries(),s=this.findAncestorsWithClipPath(),n=s.length>0;let o,l=e;if(n){o=ks(e.canvas),l=o.getContext("2d"),LS(l,this.canvas);const d=this.calcTransformMatrix();l.transform(d[0],d[1],d[2],d[3],d[4],d[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(l,t):this.renderCursor(l,t),n)for(const d of s){const u=d.clipPath,h=ks(e.canvas),p=h.getContext("2d");if(LS(p,this.canvas),!u.absolutePositioned){const m=d.calcTransformMatrix();p.transform(m[0],m[1],m[2],m[3],m[4],m[5])}u.transform(p),u.drawObject(p,!0,{}),this.drawClipPathOnCache(l,u,h)}n&&(e.setTransform(1,0,0,1,0,0),e.drawImage(o,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let t=this;for(;t;)t.clipPath&&e.push(t),t=t.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const s=this._getLeftOffset(),n=this._getTopOffset(),o=this._getCursorBoundariesOffsets(e,t);return{left:s,top:n,leftOffset:o.left,topOffset:o.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,s=0;const{charIndex:n,lineIndex:o}=this.get2DCursorLocation(e);for(let h=0;h<o;h++)t+=this.getHeightOfLine(h);const l=this._getLineLeftOffset(o),d=this.__charBounds[o][n];d&&(s=d.left),this.charSpacing!==0&&n===this._textLines[o].length&&(s-=this._getWidthOfCharSpacing());const u={top:t,left:l+(s>0?s:0)};return this.direction==="rtl"&&(this.textAlign===Vt||this.textAlign===on||this.textAlign===ec?u.left*=-1:this.textAlign===ut||this.textAlign===Eh?u.left=l-(s>0?s:0):this.textAlign!==Qe&&this.textAlign!==tc||(u.left=l-(s>0?s:0))),u}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const s=this.get2DCursorLocation(e),n=s.lineIndex,o=s.charIndex>0?s.charIndex-1:0,l=this.getValueOfPropertyAt(n,o,"fontSize"),d=this.getObjectScaling().x*this.canvas.getZoom(),u=this.cursorWidth/d,h=this.getValueOfPropertyAt(n,o,"deltaY"),p=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-l*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(n,o,"fill"),opacity:this._currentCursorOpacity,left:t.left+t.leftOffset-u/2,top:p+t.top+h,width:u,height:l}}_renderCursor(e,t,s){const{color:n,opacity:o,left:l,top:d,width:u,height:h}=this.getCursorRenderingData(s,t);e.fillStyle=n,e.globalAlpha=o,e.fillRect(l,d,u,h)}renderSelection(e,t){const s={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,s,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,s){const n=t.selectionStart,o=t.selectionEnd,l=this.textAlign.includes(on),d=this.get2DCursorLocation(n),u=this.get2DCursorLocation(o),h=d.lineIndex,p=u.lineIndex,m=d.charIndex<0?0:d.charIndex,y=u.charIndex<0?0:u.charIndex;for(let x=h;x<=p;x++){const v=this._getLineLeftOffset(x)||0;let w=this.getHeightOfLine(x),j=0,C=0,N=0;if(x===h&&(C=this.__charBounds[h][m].left),x>=h&&x<p)N=l&&!this.isEndOfWrapping(x)?this.width:this.getLineWidth(x)||5;else if(x===p)if(y===0)N=this.__charBounds[p][y].left;else{const M=this._getWidthOfCharSpacing();N=this.__charBounds[p][y-1].left+this.__charBounds[p][y-1].width-M}j=w,(this.lineHeight<1||x===p&&this.lineHeight>1)&&(w/=this.lineHeight);let k=s.left+v+C,_=w,P=0;const D=N-C;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",_=1,P=w):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Vt||this.textAlign===on||this.textAlign===ec?k=this.width-k-D:this.textAlign===ut||this.textAlign===Eh?k=s.left+v-N:this.textAlign!==Qe&&this.textAlign!==tc||(k=s.left+v-N)),e.fillRect(k,s.top+s.topOffset+P,D,_),s.topOffset+=j}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,er)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}W(In,"ownDefaults",rB),W(In,"type","IText"),Ae.setClass(In),Ae.setClass(In,"i-text");class mi extends In{static getDefaults(){return Y(Y({},super.getDefaults()),mi.ownDefaults)}constructor(e,t){super(e,Y(Y({},mi.ownDefaults),t))}static createControls(){return{controls:Pz()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(on)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,s=0,n=0;const o={};for(let l=0;l<e.graphemeLines.length;l++)e.graphemeText[n]===`
`&&l>0?(s=0,n++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[n])&&l>0&&(s++,n++),o[l]={line:t,offset:s},n+=e.graphemeLines[l].length,s+=e.graphemeLines[l].length;return o}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const s=this._styleMap[t];s&&(t=s.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,s=0,n=e+1,o=!1;const l=this._styleMap[e],d=this._styleMap[e+1];l&&(e=l.line,s=l.offset),d&&(n=d.line,o=n===e,t=d.offset);const u=e===void 0?this.styles:{line:this.styles[e]};for(const h in u)for(const p in u[h]){const m=parseInt(p,10);if(m>=s&&(!o||m<t))for(const y in u[h][p])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const s=this._styleMap[e];if(!s)return{};e=s.line,t=s.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,s){const n=this._styleMap[e];super._setStyleDeclaration(n.line,n.offset+t,s)}_deleteStyleDeclaration(e,t){const s=this._styleMap[e];super._deleteStyleDeclaration(s.line,s.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const s=this.getGraphemeDataForRender(e),n=[];for(let o=0;o<s.wordsData.length;o++)n.push(...this._wrapLine(o,t,s));return this.isWrapping=!1,n}getGraphemeDataForRender(e){const t=this.splitByGrapheme,s=t?"":" ";let n=0;return{wordsData:e.map(((o,l)=>{let d=0;const u=t?this.graphemeSplit(o):this.wordSplit(o);return u.length===0?[{word:[],width:0}]:u.map((h=>{const p=t?[h]:this.graphemeSplit(h),m=this._measureWord(p,l,d);return n=Math.max(m,n),d+=p.length+s.length,{word:p,width:m}}))})),largestWordWidth:n}}_measureWord(e,t){let s,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=0;for(let l=0,d=e.length;l<d;l++)o+=this._getGraphemeBox(e[l],t,l+n,s,!0).kernedWidth,s=e[l];return o}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,s){let{largestWordWidth:n,wordsData:o}=s,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const d=this._getWidthOfCharSpacing(),u=this.splitByGrapheme,h=[],p=u?"":" ";let m=0,y=[],x=0,v=0,w=!0;t-=l;const j=Math.max(t,n,this.dynamicMinWidth),C=o[e];let N;for(x=0,N=0;N<C.length;N++){const{word:k,width:_}=C[N];x+=k.length,m+=v+_-d,m>j&&!w?(h.push(y),y=[],m=_,w=!0):m+=d,w||u||y.push(p),y=y.concat(k),v=u?0:this._measureWord([p],e,x),x++,w=!1}return N&&h.push(y),n+l>this.dynamicMinWidth&&(this.dynamicMinWidth=n-d+l),h}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),s=this._wrapText(t.lines,this.width),n=new Array(s.length);for(let o=0;o<s.length;o++)n[o]=s[o].join("");return t.lines=n,t.graphemeLines=s,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const s=parseInt(t,10);if(this._textLines[s]){const n=this._styleMap[t].line;e.set("".concat(n),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}W(mi,"type","Textbox"),W(mi,"textLayoutProperties",[...In.textLayoutProperties,"width"]),W(mi,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Ae.setClass(mi);class zS extends uf{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:s}=e,{clipPath:n,group:o}=s;if(!n||!this.shouldPerformLayout(e))return;const{width:l,height:d}=Bn(jN(s,n)),u=new ne(l,d);if(n.absolutePositioned)return{center:ga(n.getRelativeCenterPoint(),void 0,o?o.calcTransformMatrix():void 0),size:u};{const h=n.getRelativeCenterPoint().transform(s.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:p=new ne,correction:m=new ne}=this.calcBoundingBox(t,e)||{};return{center:p.add(h),correction:m.subtract(h),size:u}}return{center:s.getRelativeCenterPoint().add(h),size:u}}}}W(zS,"type","clip-path"),Ae.setClass(zS);class IS extends uf{getInitialSize(e,t){let{target:s}=e,{size:n}=t;return new ne(s.width||n.x,s.height||n.y)}}W(IS,"type","fixed"),Ae.setClass(IS);class sB extends Sc{subscribeTargets(e){const t=e.target;e.targets.reduce(((s,n)=>(n.parent&&s.add(n.parent),s)),new Set).forEach((s=>{s.layoutManager.subscribeTargets({target:s,targets:[t]})}))}unsubscribeTargets(e){const t=e.target,s=t.getObjects();e.targets.reduce(((n,o)=>(o.parent&&n.add(o.parent),n)),new Set).forEach((n=>{!s.some((o=>o.parent===n))&&n.layoutManager.unsubscribeTargets({target:n,targets:[t]})}))}}class gi extends Po{static getDefaults(){return Y(Y({},super.getDefaults()),gi.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,gi.ownDefaults),this.setOptions(t);const{left:s,top:n,layoutManager:o}=t;this.groupInit(e,{left:s,top:n,layoutManager:o??new sB})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this.multiSelectionStacking==="selection-order"?this.add(...t):t.forEach((n=>{const o=this._objects.findIndex((d=>d.isInFrontOf(n))),l=o===-1?this.size():o;this.insertAt(l,n)}))}canEnterGroup(e){return this.getObjects().some((t=>t.isDescendantOf(e)||e.isDescendantOf(t)))?(Fo("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const s=new Set;t.forEach((n=>{const{parent:o}=n;o&&s.add(o)})),e===qy?s.forEach((n=>{n._onAfterObjectsChange(Ph,t)})):s.forEach((n=>{n._set("dirty",!0)}))}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,s){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const n=Y(Y({hasControls:!1},s),{},{forActiveSelection:!0});for(let o=0;o<this._objects.length;o++)this._objects[o]._renderControls(e,n);super._renderControls(e,t),e.restore()}}W(gi,"type","ActiveSelection"),W(gi,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Ae.setClass(gi),Ae.setClass(gi,"activeSelection");class nB{constructor(){W(this,"resources",{})}applyFilters(e,t,s,n,o){const l=o.getContext("2d");if(!l)return;l.drawImage(t,0,0,s,n);const d={sourceWidth:s,sourceHeight:n,imageData:l.getImageData(0,0,s,n),originalEl:t,originalImageData:l.getImageData(0,0,s,n),canvasEl:o,ctx:l,filterBackend:this};e.forEach((h=>{h.applyTo(d)}));const{imageData:u}=d;return u.width===s&&u.height===n||(o.width=u.width,o.height=u.height),l.putImageData(u,0,0),d}}class HN{constructor(){let{tileSize:e=at.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};W(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),W(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const s=ks({width:e,height:t}),n=s.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});n&&(n.clearColor(0,0,0,0),this.canvas=s,this.gl=n)}applyFilters(e,t,s,n,o,l){const d=this.gl,u=o.getContext("2d");if(!d||!u)return;let h;l&&(h=this.getCachedTexture(l,t));const p={originalWidth:t.width||t.naturalWidth||0,originalHeight:t.height||t.naturalHeight||0,sourceWidth:s,sourceHeight:n,destinationWidth:s,destinationHeight:n,context:d,sourceTexture:this.createTexture(d,s,n,h?void 0:t),targetTexture:this.createTexture(d,s,n),originalTexture:h||this.createTexture(d,s,n,h?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o},m=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,m),e.forEach((y=>{y&&y.applyTo(p)})),(function(y){const x=y.targetCanvas,v=x.width,w=x.height,j=y.destinationWidth,C=y.destinationHeight;v===j&&w===C||(x.width=j,x.height=C)})(p),this.copyGLTo2D(d,p),d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(p.sourceTexture),d.deleteTexture(p.targetTexture),d.deleteFramebuffer(m),u.setTransform(1,0,0,1,0,0),p}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,s,n,o){const{NEAREST:l,TEXTURE_2D:d,RGBA:u,UNSIGNED_BYTE:h,CLAMP_TO_EDGE:p,TEXTURE_MAG_FILTER:m,TEXTURE_MIN_FILTER:y,TEXTURE_WRAP_S:x,TEXTURE_WRAP_T:v}=e,w=e.createTexture();return e.bindTexture(d,w),e.texParameteri(d,m,o||l),e.texParameteri(d,y,o||l),e.texParameteri(d,x,p),e.texParameteri(d,v,p),n?e.texImage2D(d,0,u,u,h,n):e.texImage2D(d,0,u,t,s,0,u,h,null),w}getCachedTexture(e,t,s){const{textureCache:n}=this;if(n[e])return n[e];{const o=this.createTexture(this.gl,t.width,t.height,t,s);return o&&(n[e]=o),o}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const s=e.canvas,n=t.targetCanvas,o=n.getContext("2d");if(!o)return;o.translate(0,n.height),o.scale(1,-1);const l=s.height-n.height;o.drawImage(s,0,l,n.width,n.height,0,0,n.width,n.height)}copyGLTo2DPutImageData(e,t){const s=t.targetCanvas.getContext("2d"),n=t.destinationWidth,o=t.destinationHeight,l=n*o*4;if(!s)return;const d=new Uint8Array(this.imageBuffer,0,l),u=new Uint8ClampedArray(this.imageBuffer,0,l);e.readPixels(0,0,n,o,e.RGBA,e.UNSIGNED_BYTE,d);const h=new ImageData(u,n,o);s.putImageData(h,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const s=e.getExtension("WEBGL_debug_renderer_info");if(s){const n=e.getParameter(s.UNMASKED_RENDERER_WEBGL),o=e.getParameter(s.UNMASKED_VENDOR_WEBGL);n&&(t.renderer=n.toLowerCase()),o&&(t.vendor=o.toLowerCase())}return this.gpuInfo=t,t}}let Wm;function oB(){const{WebGLProbe:r}=xn();return r.queryWebGL(vn()),at.enableGLFiltering&&r.isSupported(at.textureSize)?new HN({tileSize:at.textureSize}):new nB}function Hm(){return!Wm&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Wm=oB()),Wm}const iB=["filters","resizeFilter","src","crossOrigin","type"],UN=["cropX","cropY"];class xs extends wr{static getDefaults(){return Y(Y({},super.getDefaults()),xs.ownDefaults)}constructor(e,t){super(),W(this,"_lastScaleX",1),W(this,"_lastScaleY",1),W(this,"_filterScalingX",1),W(this,"_filterScalingY",1),this.filters=[],Object.assign(this,xs.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(Lo()),this.setElement(typeof e=="string"?(this.canvas&&zs(this.canvas.getElement())||Ba()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){var t;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(s),(t=e.classList)===null||t===void 0||t.add(xs.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=Hm(!1);t instanceof HN&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((e=>{const t=this[e];t&&xn().dispose(t),this[e]=void 0}))}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const t=this.width/2,s=this.height/2;e.beginPath(),e.moveTo(-t,-s),e.lineTo(t,-s),e.lineTo(t,s),e.lineTo(-t,s),e.lineTo(-t,-s),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return this.filters.forEach((s=>{s&&t.push(s.toObject())})),Y(Y({},super.toObject([...UN,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,s=-this.width/2,n=-this.height/2;let o=[],l=[],d="",u="";if(!t)return[];if(this.hasCrop()){const h=Lo();o.push('<clipPath id="imageCrop_'+h+`">
`,'	<rect x="'+s+'" y="'+n+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),d=' clip-path="url(#imageCrop_'+h+')" '}if(this.imageSmoothing||(u=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(s-this.cropX,'" y="').concat(n-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(u).concat(d,`></image>
`)),this.stroke||this.strokeDashArray){const h=this.fill;this.fill=null,l=['	<rect x="'.concat(s,'" y="').concat(n,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=h}return o=this.paintFirst!==er?o.concat(l,e):o.concat(e,l),o}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ju(e,{crossOrigin:t,signal:s}).then((n=>{t!==void 0&&this.set({crossOrigin:t}),this.setElement(n)}))}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),n=s.x,o=s.y,l=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||n>t&&o>t)return this._element=l,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=o);const d=ks(l),{width:u,height:h}=l;this._element=d,this._lastScaleX=e.scaleX=n,this._lastScaleY=e.scaleY=o,Hm().applyFilters([e],l,u,h,this._element),this._filterScalingX=d.width/this._originalElement.width,this._filterScalingY=d.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter((o=>o&&!o.isNeutralState())),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,s=t.naturalWidth||t.width,n=t.naturalHeight||t.height;if(this._element===this._originalElement){const o=ks({width:s,height:n});this._element=o,this._filteredEl=o}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,s,n),this._lastScaleX=1,this._lastScaleY=1);Hm().applyFilters(e,this._originalElement,s,n,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const s=this._filterScalingX,n=this._filterScalingY,o=this.width,l=this.height,d=Math.max(this.cropX,0),u=Math.max(this.cropY,0),h=t.naturalWidth||t.width,p=t.naturalHeight||t.height,m=d*s,y=u*n,x=Math.min(o*s,h-m),v=Math.min(l*n,p-y),w=-o/2,j=-l/2,C=Math.min(o,h/s-d),N=Math.min(l,p/n-u);t&&e.drawImage(t,m,y,x,v,w,j,C,N)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=this.getOriginalSize();this.width=e||s.width,this.height=t||s.height}parsePreserveAspectRatioAttribute(){const e=K6(this.preserveAspectRatio||""),t=this.width,s=this.height,n={width:t,height:s};let o,l=this._element.width,d=this._element.height,u=1,h=1,p=0,m=0,y=0,x=0;return!e||e.alignX===Hr&&e.alignY===Hr?(u=t/l,h=s/d):(e.meetOrSlice==="meet"&&(u=h=uI(this._element,n),o=(t-l*u)/2,e.alignX==="Min"&&(p=-o),e.alignX==="Max"&&(p=o),o=(s-d*h)/2,e.alignY==="Min"&&(m=-o),e.alignY==="Max"&&(m=o)),e.meetOrSlice==="slice"&&(u=h=hI(this._element,n),o=l-t/u,e.alignX==="Mid"&&(y=o/2),e.alignX==="Max"&&(y=o),o=d-s/h,e.alignY==="Mid"&&(x=o/2),e.alignY==="Max"&&(x=o),l=t/u,d=s/h)),{width:l,height:d,scaleX:u,scaleY:h,offsetLeft:p,offsetTop:m,cropX:y,cropY:x}}static fromObject(e,t){let{filters:s,resizeFilter:n,src:o,crossOrigin:l,type:d}=e,u=kt(e,iB);return Promise.all([Ju(o,Y(Y({},t),{},{crossOrigin:l})),s&&xc(s,t),n&&xc([n],t),af(u,t)]).then((h=>{let[p,m=[],[y]=[],x={}]=h;return new this(p,Y(Y({},u),{},{src:o,filters:m,resizeFilter:y},x))}))}static fromURL(e){let{crossOrigin:t=null,signal:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Ju(e,{crossOrigin:t,signal:s}).then((o=>new this(o,n)))}static async fromElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;const n=Kn(e,this.ATTRIBUTE_NAMES,s);return this.fromURL(n["xlink:href"]||n.href,t,n).catch((o=>(Fo("log","Unable to parse Image",o),null)))}}W(xs,"type","Image"),W(xs,"cacheProperties",[...Xn,...UN]),W(xs,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),W(xs,"CSS_CANVAS","canvas-img"),W(xs,"ATTRIBUTE_NAMES",[...Vo,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),Ae.setClass(xs),Ae.setSVGClass(xs);cf(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const ff=r=>r.webgl!==void 0,Zy="precision highp float",aB=`
    `.concat(Zy,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),lB=["type"],cB=["type"],dB=new RegExp(Zy,"g");class tr{get type(){return this.constructor.type}constructor(){let e=kt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lB);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return aB}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:n="highp"}}=xn();n!=="highp"&&(t=t.replace(dB,Zy.replace("highp",n)));const o=e.createShader(e.VERTEX_SHADER),l=e.createShader(e.FRAGMENT_SHADER),d=e.createProgram();if(!o||!l||!d)throw new dn("Vertex, fragment shader or program creation error");if(e.shaderSource(o,s),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new dn("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.shaderSource(l,t),e.compileShader(l),!e.getShaderParameter(l,e.COMPILE_STATUS))throw new dn("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(l)));if(e.attachShader(d,o),e.attachShader(d,l),e.linkProgram(d),!e.getProgramParameter(d,e.LINK_STATUS))throw new dn('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(d)));const u=this.getUniformLocations(e,d)||{};return u.uStepW=e.getUniformLocation(d,"uStepW"),u.uStepH=e.getUniformLocation(d,"uStepH"),{program:d,attributeLocations:this.getAttributeLocations(e,d),uniformLocations:u}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const s=this.constructor.uniformLocations,n={};for(let o=0;o<s.length;o++)n[s[o]]=e.getUniformLocation(t,s[o]);return n}sendAttributeData(e,t,s){const n=t.aPosition,o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const s=e.destinationWidth,n=e.destinationHeight;e.sourceWidth===s&&e.sourceHeight===n||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,s,n)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){ff(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,s=this.retrieveShader(e);e.pass===0&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(s.program),this.sendAttributeData(t,s.attributeLocations,e.aPosition),t.uniform1f(s.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(s.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,s.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,s){e.activeTexture(s),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:t,sourceHeight:s}=e,n=ks({width:t,height:s});e.helpLayer=n}}toObject(){const e=Object.keys(this.constructor.defaults||{});return Y({type:this.type},e.reduce(((t,s)=>(t[s]=this[s],t)),{}))}toJSON(){return this.toObject()}static async fromObject(e,t){return new this(kt(e,cB))}}W(tr,"type","BaseFilter"),W(tr,"uniformLocations",[]);const uB={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class mu extends tr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(uB[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:t}}=e;const s=new dt(this.color).getSource(),n=this.alpha,o=s[0]*n,l=s[1]*n,d=s[2]*n,u=1-n;for(let h=0;h<t.length;h+=4){const p=t[h],m=t[h+1],y=t[h+2];let x,v,w;switch(this.mode){case"multiply":x=p*o/255,v=m*l/255,w=y*d/255;break;case"screen":x=255-(255-p)*(255-o)/255,v=255-(255-m)*(255-l)/255,w=255-(255-y)*(255-d)/255;break;case"add":x=p+o,v=m+l,w=y+d;break;case"difference":x=Math.abs(p-o),v=Math.abs(m-l),w=Math.abs(y-d);break;case"subtract":x=p-o,v=m-l,w=y-d;break;case"darken":x=Math.min(p,o),v=Math.min(m,l),w=Math.min(y,d);break;case"lighten":x=Math.max(p,o),v=Math.max(m,l),w=Math.max(y,d);break;case"overlay":x=o<128?2*p*o/255:255-2*(255-p)*(255-o)/255,v=l<128?2*m*l/255:255-2*(255-m)*(255-l)/255,w=d<128?2*y*d/255:255-2*(255-y)*(255-d)/255;break;case"exclusion":x=o+p-2*o*p/255,v=l+m-2*l*m/255,w=d+y-2*d*y/255;break;case"tint":x=o+p*u,v=l+m*u,w=d+y*u}t[h]=x,t[h+1]=v,t[h+2]=w}}sendUniformData(e,t){const s=new dt(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,e.uniform4fv(t.uColor,s)}}W(mu,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),W(mu,"type","BlendColor"),W(mu,"uniformLocations",["uColor"]),Ae.setClass(mu);const hB={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},fB=["type","image"];class gu extends tr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return hB[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const t=e.context,s=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,s,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:s}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/s,1]}applyTo2d(e){let{imageData:{data:t,width:s,height:n},filterBackend:{resources:o}}=e;const l=this.image;o.blendImage||(o.blendImage=vn());const d=o.blendImage,u=d.getContext("2d");d.width!==s||d.height!==n?(d.width=s,d.height=n):u.clearRect(0,0,s,n),u.setTransform(l.scaleX,0,0,l.scaleY,l.left,l.top),u.drawImage(l.getElement(),0,0,s,n);const h=u.getImageData(0,0,s,n).data;for(let p=0;p<t.length;p+=4){const m=t[p],y=t[p+1],x=t[p+2],v=t[p+3],w=h[p],j=h[p+1],C=h[p+2],N=h[p+3];switch(this.mode){case"multiply":t[p]=m*w/255,t[p+1]=y*j/255,t[p+2]=x*C/255,t[p+3]=v*N/255;break;case"mask":t[p+3]=N}}}sendUniformData(e,t){const s=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,s)}toObject(){return Y(Y({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,t){let{type:s,image:n}=e,o=kt(e,fB);return xs.fromObject(n,t).then((l=>new this(Y(Y({},o),{},{image:l}))))}}W(gu,"type","BlendImage"),W(gu,"defaults",{mode:"multiply",alpha:1}),W(gu,"uniformLocations",["uTransformMatrix","uImage"]),Ae.setClass(gu);class yu extends tr{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){ff(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:t,width:s,height:n}}=e;this.aspectRatio=s/n,this.horizontal=!0;let o=this.getBlurValue()*s;const l=new Uint8ClampedArray(t),d=15,u=4*s;for(let h=0;h<t.length;h+=4){let p=0,m=0,y=0,x=0,v=0;const w=h-h%u,j=w+u;for(let C=-14;C<d;C++){const N=C/d,k=4*Math.floor(o*N),_=1-Math.abs(N);let P=h+k;P<w?P=w:P>j&&(P=j);const D=t[P+3]*_;p+=t[P]*D,m+=t[P+1]*D,y+=t[P+2]*D,x+=D,v+=_}l[h]=p/x,l[h+1]=m/x,l[h+2]=y/x,l[h+3]=x/v}this.horizontal=!1,o=this.getBlurValue()*n;for(let h=0;h<l.length;h+=4){let p=0,m=0,y=0,x=0,v=0;const w=h%u,j=l.length-u+w;for(let C=-14;C<d;C++){const N=C/d,k=Math.floor(o*N)*u,_=1-Math.abs(N);let P=h+k;P<w?P=w:P>j&&(P=j);const D=l[P+3]*_;p+=l[P]*D,m+=l[P+1]*D,y+=l[P+2]*D,x+=D,v+=_}t[h]=p/x,t[h+1]=m/x,t[h+2]=y/x,t[h+3]=x/v}}sendUniformData(e,t){const s=this.chooseRightDelta();e.uniform2fv(t.uDelta,s)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:t,aspectRatio:s}=this;return t?s>1&&(e=1/s):s<1&&(e=s),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}W(yu,"type","Blur"),W(yu,"defaults",{blur:0}),W(yu,"uniformLocations",["uDelta"]),Ae.setClass(yu);class xu extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const s=Math.round(255*this.brightness);for(let n=0;n<t.length;n+=4)t[n]+=s,t[n+1]+=s,t[n+2]+=s}isNeutralState(){return this.brightness===0}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}W(xu,"type","Brightness"),W(xu,"defaults",{brightness:0}),W(xu,"uniformLocations",["uBrightness"]),Ae.setClass(xu);const $N={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class fa extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const t=e.imageData.data,s=this.matrix,n=this.colorsOnly;for(let o=0;o<t.length;o+=4){const l=t[o],d=t[o+1],u=t[o+2];if(t[o]=l*s[0]+d*s[1]+u*s[2]+255*s[4],t[o+1]=l*s[5]+d*s[6]+u*s[7]+255*s[9],t[o+2]=l*s[10]+d*s[11]+u*s[12]+255*s[14],!n){const h=t[o+3];t[o]+=h*s[3],t[o+1]+=h*s[8],t[o+2]+=h*s[13],t[o+3]=l*s[15]+d*s[16]+u*s[17]+h*s[18]+255*s[19]}}}sendUniformData(e,t){const s=this.matrix,n=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],o=[s[4],s[9],s[14],s[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,n),e.uniform4fv(t.uConstants,o)}toObject(){return Y(Y({},super.toObject()),{},{matrix:[...this.matrix]})}}function ji(r,e){var t;const s=(W(t=class extends fa{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",r),W(t,"defaults",{colorsOnly:!1,matrix:e}),t);return Ae.setClass(s,r),s}W(fa,"type","ColorMatrix"),W(fa,"defaults",$N),W(fa,"uniformLocations",["uColorMatrix","uConstants"]),Ae.setClass(fa);ji("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);ji("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);ji("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);ji("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);ji("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);ji("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);ji("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class BS extends tr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){ff(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach((t=>{t.applyTo(e)}))}toObject(){return{type:this.type,subFilters:this.subFilters.map((e=>e.toObject()))}}isNeutralState(){return!this.subFilters.some((e=>!e.isNeutralState()))}static fromObject(e,t){return Promise.all((e.subFilters||[]).map((s=>Ae.getClass(s.type).fromObject(s,t)))).then((s=>new this({subFilters:s})))}}W(BS,"type","Composed"),Ae.setClass(BS);class vu extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:t}}=e;const s=Math.floor(255*this.contrast),n=259*(s+255)/(255*(259-s));for(let o=0;o<t.length;o+=4)t[o]=n*(t[o]-128)+128,t[o+1]=n*(t[o+1]-128)+128,t[o+2]=n*(t[o+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}W(vu,"type","Contrast"),W(vu,"defaults",{contrast:0}),W(vu,"uniformLocations",["uContrast"]),Ae.setClass(vu);const pB={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class bu extends tr{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return pB[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,s=t.data,n=this.matrix,o=Math.round(Math.sqrt(n.length)),l=Math.floor(o/2),d=t.width,u=t.height,h=e.ctx.createImageData(d,u),p=h.data,m=this.opaque?1:0;let y,x,v,w,j,C,N,k,_,P,D,M,E;for(D=0;D<u;D++)for(P=0;P<d;P++){for(j=4*(D*d+P),y=0,x=0,v=0,w=0,E=0;E<o;E++)for(M=0;M<o;M++)N=D+E-l,C=P+M-l,N<0||N>=u||C<0||C>=d||(k=4*(N*d+C),_=n[E*o+M],y+=s[k]*_,x+=s[k+1]*_,v+=s[k+2]*_,m||(w+=s[k+3]*_));p[j]=y,p[j+1]=x,p[j+2]=v,p[j+3]=m?s[j+3]:w}e.imageData=h}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return Y(Y({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}W(bu,"type","Convolute"),W(bu,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),W(bu,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Ae.setClass(bu);const GN="Gamma";class wu extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const s=this.gamma,n=1/s[0],o=1/s[1],l=1/s[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const d=this.rgbValues;for(let u=0;u<256;u++)d.r[u]=255*Math.pow(u/255,n),d.g[u]=255*Math.pow(u/255,o),d.b[u]=255*Math.pow(u/255,l);for(let u=0;u<t.length;u+=4)t[u]=d.r[t[u]],t[u+1]=d.g[t[u+1]],t[u+2]=d.b[t[u+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:GN,gamma:this.gamma.concat()}}}W(wu,"type",GN),W(wu,"defaults",{gamma:[1,1,1]}),W(wu,"uniformLocations",["uGamma"]),Ae.setClass(wu);const mB={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Su extends tr{applyTo2d(e){let{imageData:{data:t}}=e;for(let s,n=0;n<t.length;n+=4){const o=t[n],l=t[n+1],d=t[n+2];switch(this.mode){case"average":s=(o+l+d)/3;break;case"lightness":s=(Math.min(o,l,d)+Math.max(o,l,d))/2;break;case"luminosity":s=.21*o+.72*l+.07*d}t[n+2]=t[n+1]=t[n]=s}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return mB[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}W(Su,"type","Grayscale"),W(Su,"defaults",{mode:"average"}),W(Su,"uniformLocations",["uMode"]),Ae.setClass(Su);const gB=Y(Y({},$N),{},{rotation:0});class Um extends fa{calculateMatrix(){const e=this.rotation*Math.PI,t=$n(e),s=Gn(e),n=1/3,o=Math.sqrt(n)*s,l=1-t;this.matrix=[t+l/3,n*l-o,n*l+o,0,0,n*l+o,t+n*l,n*l-o,0,0,n*l-o,n*l+o,t+n*l,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}W(Um,"type","HueRotation"),W(Um,"defaults",gB),Ae.setClass(Um);class Cu extends tr{applyTo2d(e){let{imageData:{data:t}}=e;for(let s=0;s<t.length;s+=4)t[s]=255-t[s],t[s+1]=255-t[s+1],t[s+2]=255-t[s+2],this.alpha&&(t[s+3]=255-t[s+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}W(Cu,"type","Invert"),W(Cu,"defaults",{alpha:!1,invert:!0}),W(Cu,"uniformLocations",["uInvert","uAlpha"]),Ae.setClass(Cu);class ku extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const s=this.noise;for(let n=0;n<t.length;n+=4){const o=(.5-Math.random())*s;t[n]+=o,t[n+1]+=o,t[n+2]+=o}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return this.noise===0}}W(ku,"type","Noise"),W(ku,"defaults",{noise:0}),W(ku,"uniformLocations",["uNoise","uSeed"]),Ae.setClass(ku);class ju extends tr{applyTo2d(e){let{imageData:{data:t,width:s,height:n}}=e;for(let o=0;o<n;o+=this.blocksize)for(let l=0;l<s;l+=this.blocksize){const d=4*o*s+4*l,u=t[d],h=t[d+1],p=t[d+2],m=t[d+3];for(let y=o;y<Math.min(o+this.blocksize,n);y++)for(let x=l;x<Math.min(l+this.blocksize,s);x++){const v=4*y*s+4*x;t[v]=u,t[v+1]=h,t[v+2]=p,t[v+3]=m}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}W(ju,"type","Pixelate"),W(ju,"defaults",{blocksize:4}),W(ju,"uniformLocations",["uBlocksize"]),Ae.setClass(ju);class Nu extends tr{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:t}}=e;const s=255*this.distance,n=new dt(this.color).getSource(),o=[n[0]-s,n[1]-s,n[2]-s],l=[n[0]+s,n[1]+s,n[2]+s];for(let d=0;d<t.length;d+=4){const u=t[d],h=t[d+1],p=t[d+2];u>o[0]&&h>o[1]&&p>o[2]&&u<l[0]&&h<l[1]&&p<l[2]&&(t[d+3]=0)}}sendUniformData(e,t){const s=new dt(this.color).getSource(),n=this.distance,o=[0+s[0]/255-n,0+s[1]/255-n,0+s[2]/255-n,1],l=[s[0]/255+n,s[1]/255+n,s[2]/255+n,1];e.uniform4fv(t.uLow,o),e.uniform4fv(t.uHigh,l)}}W(Nu,"type","RemoveColor"),W(Nu,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),W(Nu,"uniformLocations",["uLow","uHigh"]),Ae.setClass(Nu);class Tu extends tr{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,s=this.getFilterWindow(),n=new Array(s);for(let o=1;o<=s;o++)n[o-1]=e(o*t);return n}generateShader(e){const t=new Array(e);for(let s=1;s<=e;s++)t[s-1]="".concat(s,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(t.map(((s,n)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(s,") * uTaps[").concat(n,"] + texture2D(uTexture, vTexCoord - ").concat(s,") * uTaps[").concat(n,`];
              sum += 2.0 * uTaps[`).concat(n,`];
            `))).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){ff(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<11920929e-14&&t>-11920929e-14)return 1;const s=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(s)/s}}applyTo2d(e){const t=e.imageData,s=this.scaleX,n=this.scaleY;this.rcpScaleX=1/s,this.rcpScaleY=1/n;const o=t.width,l=t.height,d=Math.round(o*s),u=Math.round(l*n);let h;h=this.resizeType==="sliceHack"?this.sliceByTwo(e,o,l,d,u):this.resizeType==="hermite"?this.hermiteFastResize(e,o,l,d,u):this.resizeType==="bilinear"?this.bilinearFiltering(e,o,l,d,u):this.resizeType==="lanczos"?this.lanczosResize(e,o,l,d,u):new ImageData(d,u),e.imageData=h}sliceByTwo(e,t,s,n,o){const l=e.imageData,d=.5;let u=!1,h=!1,p=t*d,m=s*d;const y=e.filterBackend.resources;let x=0,v=0;const w=t;let j=0;y.sliceByTwo||(y.sliceByTwo=vn());const C=y.sliceByTwo;(C.width<1.5*t||C.height<s)&&(C.width=1.5*t,C.height=s);const N=C.getContext("2d");for(N.clearRect(0,0,1.5*t,s),N.putImageData(l,0,0),n=Math.floor(n),o=Math.floor(o);!u||!h;)t=p,s=m,n<Math.floor(p*d)?p=Math.floor(p*d):(p=n,u=!0),o<Math.floor(m*d)?m=Math.floor(m*d):(m=o,h=!0),N.drawImage(C,x,v,t,s,w,j,p,m),x=w,v=j,j+=m;return N.getImageData(x,v,n,o)}lanczosResize(e,t,s,n,o){const l=e.imageData.data,d=e.ctx.createImageData(n,o),u=d.data,h=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,m=this.rcpScaleY,y=2/this.rcpScaleX,x=2/this.rcpScaleY,v=Math.ceil(p*this.lanczosLobes/2),w=Math.ceil(m*this.lanczosLobes/2),j={},C={x:0,y:0},N={x:0,y:0};return(function k(_){let P,D,M,E,R,O,B,L,$,J,ce;for(C.x=(_+.5)*p,N.x=Math.floor(C.x),P=0;P<o;P++){for(C.y=(P+.5)*m,N.y=Math.floor(C.y),R=0,O=0,B=0,L=0,$=0,D=N.x-v;D<=N.x+v;D++)if(!(D<0||D>=t)){J=Math.floor(1e3*Math.abs(D-C.x)),j[J]||(j[J]={});for(let V=N.y-w;V<=N.y+w;V++)V<0||V>=s||(ce=Math.floor(1e3*Math.abs(V-C.y)),j[J][ce]||(j[J][ce]=h(Math.sqrt(Math.pow(J*y,2)+Math.pow(ce*x,2))/1e3)),M=j[J][ce],M>0&&(E=4*(V*t+D),R+=M,O+=M*l[E],B+=M*l[E+1],L+=M*l[E+2],$+=M*l[E+3]))}E=4*(P*n+_),u[E]=O/R,u[E+1]=B/R,u[E+2]=L/R,u[E+3]=$/R}return++_<n?k(_):d})(0)}bilinearFiltering(e,t,s,n,o){let l,d,u,h,p,m,y,x,v,w,j,C,N,k=0;const _=this.rcpScaleX,P=this.rcpScaleY,D=4*(t-1),M=e.imageData.data,E=e.ctx.createImageData(n,o),R=E.data;for(y=0;y<o;y++)for(x=0;x<n;x++)for(p=Math.floor(_*x),m=Math.floor(P*y),v=_*x-p,w=P*y-m,N=4*(m*t+p),j=0;j<4;j++)l=M[N+j],d=M[N+4+j],u=M[N+D+j],h=M[N+D+4+j],C=l*(1-v)*(1-w)+d*v*(1-w)+u*w*(1-v)+h*v*w,R[k++]=C;return E}hermiteFastResize(e,t,s,n,o){const l=this.rcpScaleX,d=this.rcpScaleY,u=Math.ceil(l/2),h=Math.ceil(d/2),p=e.imageData.data,m=e.ctx.createImageData(n,o),y=m.data;for(let x=0;x<o;x++)for(let v=0;v<n;v++){const w=4*(v+x*n);let j=0,C=0,N=0,k=0,_=0,P=0,D=0;const M=(x+.5)*d;for(let E=Math.floor(x*d);E<(x+1)*d;E++){const R=Math.abs(M-(E+.5))/h,O=(v+.5)*l,B=R*R;for(let L=Math.floor(v*l);L<(v+1)*l;L++){let $=Math.abs(O-(L+.5))/u;const J=Math.sqrt(B+$*$);J>1&&J<-1||(j=2*J*J*J-3*J*J+1,j>0&&($=4*(L+E*t),D+=j*p[$+3],N+=j,p[$+3]<255&&(j=j*p[$+3]/250),k+=j*p[$],_+=j*p[$+1],P+=j*p[$+2],C+=j))}}y[w]=k/C,y[w+1]=_/C,y[w+2]=P/C,y[w+3]=D/N}return m}}W(Tu,"type","Resize"),W(Tu,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),W(Tu,"uniformLocations",["uDelta","uTaps"]),Ae.setClass(Tu);class _u extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const s=-this.saturation;for(let n=0;n<t.length;n+=4){const o=t[n],l=t[n+1],d=t[n+2],u=Math.max(o,l,d);t[n]+=u!==o?(u-o)*s:0,t[n+1]+=u!==l?(u-l)*s:0,t[n+2]+=u!==d?(u-d)*s:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}W(_u,"type","Saturation"),W(_u,"defaults",{saturation:0}),W(_u,"uniformLocations",["uSaturation"]),Ae.setClass(_u);class Mu extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const s=-this.vibrance;for(let n=0;n<t.length;n+=4){const o=t[n],l=t[n+1],d=t[n+2],u=Math.max(o,l,d),h=(o+l+d)/3,p=2*Math.abs(u-h)/255*s;t[n]+=u!==o?(u-o)*p:0,t[n+1]+=u!==l?(u-l)*p:0,t[n+2]+=u!==d?(u-d)*p:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}W(Mu,"type","Vibrance"),W(Mu,"defaults",{vibrance:0}),W(Mu,"uniformLocations",["uVibrance"]),Ae.setClass(Mu);let Ee=null;const va=[],Rh=[],Ht={color:"#000000",width:4,opacity:1,lastColors:[],_currentTool:""};let VS=null,th=[];function Jy(r){try{if(!r)throw new Error("initStickerModeSafe: no container");if(r.querySelectorAll("#stickerCanvas").forEach((o,l)=>{l>0&&o.remove()}),window.fabricCanvas){Ee=window.fabricCanvas;const o=Ee.getElement();o&&o.parentElement!==r&&r.appendChild(o),console.log("[ProStickerModule] reused window.fabricCanvas")}else{const o=document.querySelector("#stickerCanvas")||document.createElement("canvas");o.id="stickerCanvas",o.width=r.clientWidth||1200,o.height=r.clientHeight||800,o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.zIndex="10",o.style.pointerEvents="auto",o.style.cursor="crosshair",o.parentElement||r.appendChild(o),console.log("[ProStickerModule] Canvas element setup:",{element:o,parentElement:o.parentElement,pointerEvents:o.style.pointerEvents,zIndex:o.style.zIndex,position:o.style.position}),Ee=new d0(o,{preserveObjectStacking:!0,isDrawingMode:!1,selection:!0,backgroundColor:"transparent",width:r.clientWidth||1200,height:r.clientHeight||800}),window.fabricCanvas=Ee,window.ProStickerModule=window.ProStickerModule||{},window.ProStickerModule._currentTool="",window.ProStickerModule._canvas=Ee,console.log("[ProStickerModule] Canvas initialized successfully",{width:Ee.getWidth(),height:Ee.getHeight(),element:Ee.getElement(),isDrawingMode:Ee.isDrawingMode})}Ee.off(),Ee.on("path:created",an),Ee.on("object:modified",an),Ee.on("object:added",an),Ee.on("object:removed",an),Ee.on("mouse:down",o=>{console.log("[ProStickerModule] mouse:down",o.pointer)}),Ee.on("mouse:move",o=>{Ee.isDrawingMode&&console.log("[ProStickerModule] mouse:move (drawing)",o.pointer)}),Ee.on("mouse:up",o=>{console.log("[ProStickerModule] mouse:up",o.pointer)}),console.log("[ProStickerModule] Fabric.js canvas ready:",{width:Ee.getWidth(),height:Ee.getHeight(),isDrawingMode:Ee.isDrawingMode,selection:Ee.selection,freeDrawingBrush:!!Ee.freeDrawingBrush});const s=Ee.getElement().getBoundingClientRect(),n=document.elementsFromPoint(s.left+s.width/2,s.top+s.height/2);return console.log("[ProStickerModule] Elements at canvas center:",n.map(o=>({tagName:o.tagName,id:o.id,className:o.className,zIndex:window.getComputedStyle(o).zIndex}))),Ee.clear(),an(),Ee}catch(e){return console.error("[ProStickerModule] initStickerModeSafe error",e),null}}function an(){if(Ee)try{const r=JSON.stringify(Ee.toJSON(["selectable","lockMovementX"]));va.push(r),va.length>50&&va.shift(),Rh.length=0}catch(r){console.warn("[ProStickerModule] saveCanvasStateSafely failed",r)}}function pf(){if(!(!Ee||va.length===0))try{const r=va.pop();Rh.push(JSON.stringify(Ee.toJSON())),Ee.loadFromJSON(r,()=>{Ee.renderAll()})}catch(r){console.error("[ProStickerModule] undo failed",r)}}function mf(){if(!(!Ee||Rh.length===0))try{const r=Rh.pop();va.push(JSON.stringify(Ee.toJSON())),Ee.loadFromJSON(r,()=>{Ee.renderAll()})}catch(r){console.error("[ProStickerModule] redo failed",r)}}function gs(r,e={}){const t=window.ProStickerModule?._canvas||window.fabricCanvas;if(!t)return console.warn("[ProStickerModule] applyBrushType: no canvas");const s=(r||"pencil").toLowerCase(),n=Object.assign({color:Ht.color,width:Ht.width,opacity:Ht.opacity,density:30},e),o=(d,u)=>{try{d.__proStickerDebug=u}catch{}};let l=null;switch(s){case"marker":l=new sn(t),l.width=n.width||8,l.color=n.color,l.opacity=n.opacity??1,o(l,"marker");break;case"airbrush":case"spray":l=new HI(t),l.width=n.width||14,l.color=n.color,l.density=n.density||30,l.opacity=n.opacity??.9,o(l,"airbrush");break;case"texture":l=new UI(t);const d=document.createElement("canvas");d.width=d.height=40;const u=d.getContext("2d");u&&(u.fillStyle=n.color||"#000",u.fillRect(0,0,40,40),u.fillStyle="rgba(255,255,255,0.06)",u.fillRect(8,8,24,24)),l.source=d,l.width=n.width||8,o(l,"texture");break;case"crayon":case"charcoal":l=new sn(t),l.width=n.width||6,l.color=n.color,l.opacity=.75,l.shadow=new br({color:"rgba(0,0,0,0.12)",blur:2,offsetX:1,offsetY:1}),o(l,"crayon");break;case"oil":l=new sn(t),l.width=n.width||10,l.color=n.color,l.opacity=.95,l.shadow=new br({color:n.color,blur:6,offsetX:0,offsetY:0}),o(l,"oil");break;case"watercolor":l=new sn(t),l.width=n.width||10,l.color=n.color,l.opacity=.45,l.shadow=new br({color:n.color,blur:12,offsetX:0,offsetY:0}),o(l,"watercolor");break;case"eraser":l=new sn(t),l.width=n.width||20;try{l.globalCompositeOperation="destination-out"}catch{}o(l,"eraser");break;case"pencil":default:l=new sn(t),l.width=n.width||4,l.color=n.color||"#000000",l.opacity=n.opacity??1,o(l,"pencil");break}try{t.isDrawingMode=!1,t.freeDrawingBrush=l,l&&(typeof l.width<"u"&&(l.width=l.width),typeof l.color<"u"&&(l.color=l.color),typeof l.opacity<"u"&&(l.opacity=l.opacity)),t.isDrawingMode=!0,t.requestRenderAll(),Ht._currentTool=s,window.ProStickerModule=window.ProStickerModule||{},window.ProStickerModule._currentTool=s,YN(n.color),console.log("[ProStickerModule] applyBrushType ->",s,"color:",l.color,"width:",l.width,"ctor:",l.constructor?.name),console.log("[ProStickerModule] Canvas state after brush apply:",{isDrawingMode:t.isDrawingMode,canvasWidth:t.getWidth(),canvasHeight:t.getHeight(),brushSet:!!t.freeDrawingBrush,brushDebug:t.freeDrawingBrush?.__proStickerDebug}),gf()}catch(d){console.error("[ProStickerModule] applyBrushType error",d)}}function YN(r){r&&(Ht.lastColors=[r,...Ht.lastColors.filter(e=>e!==r)].slice(0,5))}function Qy(){return Ht.lastColors.slice()}function ex(r){Ht.color=r,YN(r);const e=window.ProStickerModule?._canvas||window.fabricCanvas;if(e&&e.isDrawingMode&&e.freeDrawingBrush)try{e.freeDrawingBrush.color=r}catch{}}function tx(r){Ht.width=r;const e=window.ProStickerModule?._canvas||window.fabricCanvas;if(e&&e.freeDrawingBrush)try{e.freeDrawingBrush.width=r}catch{}}function rx(r){Ht.opacity=r;const e=window.ProStickerModule?._canvas||window.fabricCanvas;if(e&&e.freeDrawingBrush)try{e.freeDrawingBrush.opacity=r}catch{}}function sx(r,e={}){if(!(window.ProStickerModule?._canvas||window.fabricCanvas)){console.warn("[ProStickerModule] selectTool: no canvas");return}if(VS===r){console.log("[ProStickerModule] Tool already selected:",r);return}try{switch(console.log("[ProStickerModule] selectTool called with:",r,e),VS=r,(r||"").toString()){case"pencil":case"brush-pencil":gs("pencil",e);break;case"marker":case"brush-marker":gs("marker",e);break;case"airbrush":case"brush-airbrush":case"spray":gs("airbrush",e);break;case"texture":case"brush-texture":gs("texture",e);break;case"crayon":case"brush-crayon":case"charcoal":gs("crayon",e);break;case"oil":case"brush-oil":gs("oil",e);break;case"watercolor":case"brush-watercolor":gs("watercolor",e);break;case"eraser":case"tool-eraser":gs("eraser",e);break;case"rectangle":case"shape-rect":Fl("rectangle");break;case"circle":case"shape-circle":Fl("circle");break;case"triangle":case"shape-triangle":Fl("triangle");break;case"polygon":case"shape-polygon":Fl("polygon");break;case"arrow":case"shape-arrow":Fl("arrow");break;case"layer-add":yB();break;case"layer-duplicate":xB();break;case"layer-merge":vB();break;case"layer-flatten":bB();break;case"layer-visibility":case"layer-opacity":wB();break;case"move":case"tool-select":case"transform-move":WS();break;case"rotate":case"transform-rotate":SB(15);break;case"scale":case"transform-scale":CB(1.1);break;case"flip":case"transform-flip":kB();break;case"transform-skew":jB(.1);break;case"blur":case"effect-blur":NB(2);break;case"sharpen":case"effect-sharpen":TB();break;case"glow":case"effect-glow":_B();break;case"shadow":case"effect-shadow":MB();break;case"noise":EB();break;case"fill":case"color-fill":RB(e.color||Ht.color);break;case"copy":case"tool-copy":PB();break;case"paste":case"tool-paste":DB();break;case"undo":case"tool-undo":pf();break;case"redo":case"tool-redo":mf();break;case"clear":case"tool-clear":AB();break;case"color-gradient":console.log("[ProStickerModule] color-gradient requested (placeholder)");break;case"color-swatches":console.log("[ProStickerModule] color-swatches requested (placeholder)");break;case"color-history":console.log("[ProStickerModule] color-history requested (placeholder)");break;case"color-palette":console.log("[ProStickerModule] color-palette requested (placeholder)");break;case"smudge":console.log("[ProStickerModule] smudge requested (placeholder)");break;case"crop":console.log("[ProStickerModule] crop requested (placeholder)");break;case"effect-gradient":console.log("[ProStickerModule] effect-gradient requested (placeholder)");break;case"select":WS();break;default:console.warn("[ProStickerModule] selectTool unknown:",r)}}catch(s){console.error("[ProStickerModule] selectTool error",s)}}function Fl(r){if(!Ee)return;console.log("[ProStickerModule] started shape interactive:",r);let e=null,t=0,s=0;Ee.isDrawingMode=!1,Ee.selection=!1;const n=d=>{const u=d.e;t=u.offsetX,s=u.offsetY,r==="rectangle"?e=new vs({left:t,top:s,width:1,height:1,fill:"rgba(0,0,0,0)",stroke:Ht.color||"#000",strokeWidth:2}):r==="circle"?e=new nn({left:t,top:s,rx:1,ry:1,fill:"rgba(0,0,0,0)",stroke:Ht.color||"#000",strokeWidth:2}):r==="triangle"?e=new Mo({left:t,top:s,width:1,height:1,fill:"rgba(0,0,0,0)",stroke:Ht.color||"#000",strokeWidth:2}):(r==="arrow"||r==="polygon")&&(e=new _o([t,s,t+1,s+1],{stroke:Ht.color||"#000",strokeWidth:3})),e&&Ee.add(e)},o=d=>{if(!e)return;const u=d.e,h=Math.abs(u.offsetX-t),p=Math.abs(u.offsetY-s);e.set&&(r==="rectangle"||r==="triangle"?e.set({left:Math.min(u.offsetX,t),top:Math.min(u.offsetY,s),width:h,height:p}):r==="circle"?e.set({left:Math.min(u.offsetX,t),top:Math.min(u.offsetY,s),rx:h/2,ry:p/2}):(r==="arrow"||r==="polygon")&&e.set({x2:u.offsetX,y2:u.offsetY}),Ee.renderAll())},l=()=>{Ee.off("mouse:down",n),Ee.off("mouse:move",o),Ee.off("mouse:up",l),e&&(e.setCoords(),an()),Ee.selection=!0};Ee.on("mouse:down",n),Ee.on("mouse:move",o),Ee.on("mouse:up",l)}function yB(){console.log("[ProStickerModule] added layer 1")}function xB(){console.log("[ProStickerModule] duplicate layer")}function vB(){console.log("[ProStickerModule] merge layer")}function bB(){console.log("[ProStickerModule] flatten layers")}function wB(){console.log("[ProStickerModule] toggle layer visibility")}function WS(){Ee&&(Ee.isDrawingMode=!1,Ee.selection=!0,Ee.forEachObject(r=>r.selectable=!0),console.log("[ProStickerModule] Move/select mode enabled"))}function SB(r=15){const e=Ee?.getActiveObject();if(!e)return console.log("[ProStickerModule] rotateActive: no active");e.rotate((e.angle||0)+r),Ee.renderAll(),an()}function CB(r=1.1){const e=Ee?.getActiveObject();if(!e)return console.log("[ProStickerModule] scaleActive: no active");e.scale((e.scaleX||1)*r),e.setCoords(),Ee.renderAll()}function kB(){const r=Ee?.getActiveObject();if(!r)return console.log("[ProStickerModule] flipActive: no active");r.set("flipX",!r.get("flipX")),Ee.renderAll()}function jB(r=.1){const e=Ee?.getActiveObject();if(!e)return console.log("[ProStickerModule] applySkewToActive: no active object");e.set("skewX",e.skewX?e.skewX+r:r),Ee.renderAll()}function NB(r=2){const e=Ee?.getActiveObject();if(!e)return console.log("[ProStickerModule] applyBlurToActive: no active");e.set("opacity",e.opacity*.95),Ee.renderAll()}function TB(){console.log("[ProStickerModule] applySharpenToActive (placeholder)")}function _B(){const r=Ee?.getActiveObject();r&&(r.set("shadow",new br({color:Ht.color||"#fff",blur:12,offsetX:0,offsetY:0})),Ee.renderAll())}function MB(){const r=Ee?.getActiveObject();r&&(r.set("shadow",new br({color:"rgba(0,0,0,0.35)",blur:6,offsetX:4,offsetY:4})),Ee.renderAll())}function EB(){console.log("[ProStickerModule] applyNoiseToActive (placeholder)")}function PB(){if(!Ee)return;const r=Ee.getActiveObject();if(!r)return console.log("[ProStickerModule] copy: no active object");r.clone(e=>{th=[e],console.log("[ProStickerModule] copied to clipboard")})}function DB(){if(Ee){if(!th||th.length===0)return console.log("[ProStickerModule] paste: clipboard empty");th.forEach(r=>{r.clone(e=>{e.set({left:(e.left||0)+20,top:(e.top||0)+20}),Ee.add(e),Ee.renderAll(),an()})})}}function AB(){Ee&&(Ee.clear(),an(),console.log("[ProStickerModule] canvas cleared"))}function RB(r){Ee&&(Ee.backgroundColor=r,Ee.renderAll(),an(),console.log("[ProStickerModule] canvas filled with",r))}let HS=null,$m=null;function gf(){HS||(HS=window.setInterval(()=>{const r=window.ProStickerModule?._canvas||window.fabricCanvas;if(!r||!r.isDrawingMode)return;const e=r.freeDrawingBrush?.constructor?.name;e!==$m&&($m=e,console.log(`[ProStickerModule] freeDrawingBrush applied: ${$m}`),Ht._currentTool&&e!==Ht._currentTool&&(console.warn("[ProStickerModule] freeDrawingBrush was overwritten. Reapplying currentTool:",Ht._currentTool),gs(Ht._currentTool)))},100))}const XN={initStickerModeSafe:Jy,selectTool:sx,applyBrushType:gs,setColor:ex,setBrushWidth:tx,setBrushOpacity:rx,undo:pf,redo:mf,getLastColors:Qy,_startBrushWatcher:gf},OB={initStickerModeSafe:Jy,selectTool:sx,applyBrushType:gs,setColor:ex,setBrushWidth:tx,setBrushOpacity:rx,undo:pf,redo:mf,getLastColors:Qy,_startBrushWatcher:gf},ai=Object.freeze(Object.defineProperty({__proto__:null,ProStickerModule:XN,_brushState:Ht,get _canvas(){return Ee},_startBrushWatcher:gf,applyBrushType:gs,default:OB,getLastColors:Qy,initStickerModeSafe:Jy,redo:mf,selectTool:sx,setBrushOpacity:rx,setBrushWidth:tx,setColor:ex,undo:pf},Symbol.toStringTag,{value:"Module"}));var nx="Progress",ox=100,[FB]=bn(nx),[LB,zB]=FB(nx),KN=b.forwardRef((r,e)=>{const{__scopeProgress:t,value:s=null,max:n,getValueLabel:o=IB,...l}=r;(n||n===0)&&!US(n)&&console.error(BB(`${n}`,"Progress"));const d=US(n)?n:ox;s!==null&&!$S(s,d)&&console.error(VB(`${s}`,"Progress"));const u=$S(s,d)?s:null,h=Oh(u)?o(u,d):void 0;return i.jsx(LB,{scope:t,value:u,max:d,children:i.jsx(Ze.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Oh(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":JN(u,d),"data-value":u??void 0,"data-max":d,...l,ref:e})})});KN.displayName=nx;var qN="ProgressIndicator",ZN=b.forwardRef((r,e)=>{const{__scopeProgress:t,...s}=r,n=zB(qN,t);return i.jsx(Ze.div,{"data-state":JN(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:e})});ZN.displayName=qN;function IB(r,e){return`${Math.round(r/e*100)}%`}function JN(r,e){return r==null?"indeterminate":r===e?"complete":"loading"}function Oh(r){return typeof r=="number"}function US(r){return Oh(r)&&!isNaN(r)&&r>0}function $S(r,e){return Oh(r)&&!isNaN(r)&&r<=e&&r>=0}function BB(r,e){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ox}\`.`}function VB(r,e){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ox} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WB=KN,HB=ZN;function QN({className:r,value:e,...t}){return i.jsx(WB,{"data-slot":"progress",className:Pt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r),...t,children:i.jsx(HB,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function UB(){const[r,e]=b.useState(!1),[t,s]=b.useState([{id:"1",name:"Verse Melody Idea",duration:45,isPlaying:!1,progress:0},{id:"2",name:"Chorus Hook",duration:30,isPlaying:!1,progress:0}]),n=()=>{e(!r)},o=d=>{s(u=>u.map(h=>h.id===d?{...h,isPlaying:!h.isPlaying}:{...h,isPlaying:!1}))},l=d=>{s(u=>u.filter(h=>h.id!==d))};return i.jsxs("div",{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsxs(Se,{onClick:n,className:`${r?"bg-red-600 hover:bg-red-700 dropsource-glow-red":"dropsource-gradient hover:dropsource-glow-blue"} transition-all duration-200`,children:[r?i.jsx(xr,{className:"w-4 h-4 mr-2"}):i.jsx(xg,{className:"w-4 h-4 mr-2"}),r?"Stop Recording":"Record"]}),i.jsxs(Se,{variant:"outline",className:"dropsource-border-glow hover:dropsource-glow-blue",children:[i.jsx(Cg,{className:"w-4 h-4 mr-2"}),"Upload Audio"]}),r&&i.jsxs("div",{className:"flex items-center gap-2 dropsource-text-secondary",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),"Recording..."]})]}),i.jsxs("div",{className:"space-y-3",children:[t.map(d=>i.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700 hover:border-cyan-500/50 transition-colors group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"dropsource-text-primary font-medium",children:d.name}),i.jsxs("p",{className:"dropsource-text-secondary text-sm",children:[d.duration,"s"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>o(d.id),className:"dropsource-text-secondary hover:dropsource-glow-cyan",children:d.isPlaying?i.jsx(Xh,{className:"w-4 h-4"}):i.jsx(_c,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>l(d.id),className:"text-red-400 hover:dropsource-glow-red opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(lc,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(QN,{value:d.progress,className:"w-full h-2 bg-gray-800"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity dropsource-glow-cyan"})]})]},d.id)),t.length===0&&i.jsxs("div",{className:"text-center py-8 dropsource-text-secondary",children:[i.jsx(xg,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No audio clips yet. Record or upload your first audio note!"})]})]})]})}const Gm={love:["above","dove","shove","glove","thereof","enough","tough","rough"],heart:["apart","start","chart","dart","smart","art","impart","restart"],time:["rhyme","climb","prime","sublime","mime","chime","slime","crime"],dream:["beam","cream","stream","scheme","extreme","esteem","team","supreme"],light:["night","bright","flight","sight","tight","height","might","delight"],fire:["desire","inspire","entire","require","acquire","admire","wire","higher"],day:["play","stay","way","say","delay","array","display","away"],life:["strife","knife","wife","rife","midlife","afterlife","wildlife","fife"],pain:["rain","chain","main","strain","again","domain","sustain","remain"],song:["long","strong","belong","along","wrong","throng","prolong","gong"],flow:["go","show","blow","know","throw","slow","bestow","below"],beat:["street","seat","meet","heat","tweet","repeat","defeat","retreat"],high:["fly","sky","sigh","try","dry","apply","rely","goodbye"],low:["show","glow","go","know","throw","flow","below","bestow"],night:["light","bright","flight","sight","tight","height","might","delight"],dark:["spark","mark","stark","park","shark","remark","embark","lark"],star:["far","car","bar","guitar","avatar","radar","seminar","bizarre"],moon:["soon","tune","noon","balloon","cartoon","monsoon","maroon","spoon"],sky:["high","fly","sigh","try","dry","apply","rely","goodbye"],rise:["eyes","size","wise","surprise","prize","guise","despise","supplies"],fall:["all","call","small","tall","stall","recall","install","hall"],sound:["ground","around","profound","found","bound","astound","resound","surround"],word:["heard","absurd","preferred","blurred","conferred","inferred","stirred","occurred"],line:["shine","sign","divine","combine","resign","confine","align","design"],bar:["far","car","star","guitar","avatar","radar","seminar","bizarre"],verse:["worse","curse","rehearse","disperse","universe","converse","reverse","perverse"],rap:["cap","slap","map","trap","snap","wrap","clap","gap"],mic:["like","strike","bike","spike","hike","psych","pike","dislike"],stage:["page","age","cage","engage","rage","wage","outrage","sage"],crowd:["loud","proud","shroud","cloud","allowed","endowed","avowed","bowed"],voice:["choice","rejoice","noise","poise","boys","toys","employs","destroys"],flowing:["showing","knowing","glowing","throwing","growing","bestowing","overflowing","undergoing"],moving:["proving","soothing","grooving","improving","removing","approving","disproving","reproving"],running:["stunning","gunning","cunning","sunning","dunning","punning","bunning","shunning"],living:["giving","forgiving","reliving","misgiving","thanksgiving","driving","surviving","striving"],loving:["shoving","gloving","above in","coving","doving","roving","proving","moving"],crying:["flying","dying","buying","relying","complying","defying","implying","replying"],dying:["crying","flying","buying","relying","applying","complying","supplying","defying"],trying:["crying","flying","buying","relying","applying","complying","supplying","defying"],flying:["crying","dying","buying","relying","applying","complying","supplying","defying"],going:["showing","knowing","glowing","throwing","growing","bestowing","overflowing","undergoing"],knowing:["showing","going","glowing","throwing","growing","bestowing","overflowing","undergoing"],seeing:["being","fleeing","agreeing","freeing","treeing","kneeing","guaranteeing","foreseeing"],being:["seeing","fleeing","agreeing","freeing","treeing","kneeing","guaranteeing","foreseeing"],feeling:["dealing","healing","reeling","stealing","appealing","concealing","revealing","wheeling"],healing:["feeling","dealing","reeling","stealing","appealing","concealing","revealing","wheeling"],breaking:["taking","making","faking","shaking","quaking","mistaking","forsaking","undertaking"],making:["taking","breaking","faking","shaking","quaking","mistaking","forsaking","undertaking"],taking:["breaking","making","faking","shaking","quaking","mistaking","forsaking","undertaking"],lost:["cost","frost","tossed","exhaust","embossed","crossed","accost","mossed"],found:["ground","around","sound","bound","astound","resound","surround","profound"],home:["roam","foam","dome","chrome","gnome","loam","comb","tome"],alone:["stone","tone","phone","known","drone","shown","grown","bone"],together:["forever","endeavor","whenever","wherever","clever","lever","sever","however"],forever:["together","endeavor","whenever","wherever","clever","lever","sever","however"],never:["ever","clever","endeavor","whenever","wherever","sever","however","whoever"],always:["days","ways","praise","raise","phase","maze","blaze","gaze"],sometimes:["rhymes","climbs","times","mimes","dimes","crimes","sublimes","grimes"],sus:["bus","plus","fuss","cuss","thus","discuss","trust","adjust"],drip:["slip","trip","flip","equip","grip","zip","whip","ship"],cap:["slap","trap","snap","map","app","gap","wrap","recap"],"no cap":["recap","strap","snap","map","flap","trap","handclap","overlap"],vibe:["tribe","scribe","imbibe","subscribe","describe","diatribe","bribe","ascribe"],meme:["dream","beam","scheme","supreme","extreme","esteem","team","stream"],simp:["limp","pimp","shrimp","chimp","skimp","gimp","wimp","crimp"],stan:["plan","man","scan","fan","ran","clan","span","ban"],based:["faced","placed","traced","aced","embraced","replaced","chased","wasted"],cringe:["hinge","syringe","binge","tinge","fringe","infringe","whinge","plunge"],ratio:["patio","cameo","studio","portfolio","audio","video","scenario","oreo"],cope:["hope","rope","slope","mope","elope","antelope","telescope","soap"],seethe:["breathe","wreathe","teethe","beneath","bequeath","heath","sheath","grieve"],bussin:["buzzin","cousin","dozen","fussin","discussin","crushin","rushin","hushin"],yeet:["meet","seat","tweet","heat","street","repeat","defeat","retreat"],sheesh:["leash","peach","speech","beach","screech","beseech","breach","reach"],bruh:["duh","huh","uh","shuh","nuh","yuh","wha","gah"],suspect:["inspect","respect","detect","collect","connect","protect","neglect","perfect"],clout:["shout","spout","drought","about","sprout","knockout","burnout","blackout"],grind:["mind","find","kind","behind","signed","aligned","designed","refined"],grindset:["mindset","upset","offset","reset","asset","cassette","sunset","onset"],dub:["club","sub","scrub","hub","grub","tub","rub","stub"],L:["sell","tell","dwell","shell","spell","smell","excel","farewell"],W:["double you","trouble you","bubble crew","stubble too","shuffle through","couple new","subtle blue","snuggle crew"],"glow up":["show up","blow up","throw up","grow up","sew up","flow up","lineup","rollup"],flex:["hex","text","next","complex","vortex","apex","syntax","annex"],ghost:["post","toast","boast","coast","most","host","roast","almost"],cancel:["dismantle","scandal","panel","channel","flannel","mammal","camel","handle"],beta:["theta","meta","cheetah","fajita","pita","margarita","reta","eta"],sigma:["stigma","enigma","dogma","paradigm a","trauma","drama","carma","ligma"],grindr:["finder","reminder","blinder","kinder","recliner","designer","aligner","headliner"],"ok boomer":["consumer","rumor","humor","groomer","schooner","doomer","bloomer","roomer"],doomer:["rumor","tumor","humor","boomer","consumer","groomer","bloomer","loom-er"],zoomer:["rumor","boomer","doomer","humor","bloomer","groomer","assumer","consumer"],glizzy:["busy","dizzy","fizzy","lizzy","whizzy","frizzy","missy","sissy"],thicc:["brick","kick","lick","pick","stick","slick","tick","quick"],drunk:["funk","chunk","punk","skunk","bunk","hunk","sunk","shrunk"],stoned:["zoned","toned","owned","loaned","drone d","groaned","condoned","enthroned"],vape:["cape","grape","tape","escape","reshape","scrape","drape","landscape"],blunt:["stunt","front","hunt","grunt","punt","runt","shunt","brunt"],joint:["point","anoint","appoint","counterpoint","checkpoint","standpoint","disjoint","disappoint"],hash:["bash","crash","flash","stash","trash","splash","slash","cash"],weed:["need","feed","bleed","speed","greed","indeed","proceed","succeed"],dab:["grab","stab","slab","crab","drab","blab","cab","tab"],molly:["jolly","folly","holly","golly","trolley","dolly","poly","collie"],perk:["jerk","work","twerk","lurk","smirk","irk","shirk","quark"],lean:["mean","seen","green","serene","between","routine","machine","teen"],trap:["cap","map","slap","snap","wrap","clap","strap","entrap"],plug:["jug","rug","hug","mug","dug","snug","slug","thug"],dealer:["healer","stealer","feeler","wheeler","squealer","concealer","appealer","revealer"],skrrt:["hurt","flirt","shirt","dirt","alert","convert","insert","dessert"],ops:["cops","drops","flops","hops","mops","pops","shops","stops"],gang:["bang","hang","clang","fang","rang","sang","slang","yang"],squad:["god","odd","mod","prod","abroad","applaud","rod","plod"],crew:["blue","true","clue","through","pursue","askew","renew","review"],fam:["ham","jam","slam","cram","exam","wham","program","diagram"],homie:["roomie","zoomie","gloomy","doomy","boomy","broomy","chromey","tomb-y"],bro:["go","flow","show","snow","throw","grow","foe","below"],sis:["miss","kiss","bliss","dismiss","abyss","swiss","amiss","hiss"],cousin:["dozen","buzzin","fussin","discussin","was in","does in","wasn’t","doesn’t"],flexin:["textin","next in","complexin","perplexin","annexin","vexin","rexin","hexin"],chad:["mad","sad","glad","rad","dad","fad","ironclad","bad"],virgin:["surgeon","urgent","emergent","resurgent","detergent","insurgent","divergent","convergent"],giga:["stigma","enigma","dogma","drama","llama","magma","gamma","saga"],brain:["train","gain","pain","chain","strain","remain","explain","sustain"],bag:["lag","rag","drag","brag","flag","snag","swag","stag"],bread:["red","said","led","spread","thread","shed","ahead","dead"],cash:["bash","crash","flash","stash","trash","splash","slash","dash"],stack:["pack","track","back","crack","attack","snack","slack","hack"],coin:["join","anoint","appoint","counterpoint","checkpoint","point","groin","loin"],crypto:["tiptoe","zip code","hippo","dip low","clip though","grip though","script though","riptoe"],stonks:["honks","bonks","conks","monks","wonks","drunks","punks","skunks"],hustle:["muscle","tussle","rustle","bustle","jostle","castle","nestle","throttle"],glow:["show","flow","snow","grow","throw","bestow","foreknow","overflow"],ping:["ring","sing","wing","thing","fling","bring","sting","bling"],lag:["drag","snag","tag","flag","nag","sag","gag","rag"],nerf:["surf","turf","smurf","scurf","serf","swerve","curve","reserve"],buff:["tough","rough","scruff","stuff","bluff","huff","puff","enough"],patch:["match","catch","hatch","latch","snatch","dispatch","detach","rematch"],queue:["blue","true","clue","through","askew","pursue","renew","venue"],meta:["beta","theta","cheta","reta","eta","greta","vendetta","beretta"],clique:["unique","antique","critique","mystique","boutique","physique","oblique","technique"],stream:["beam","dream","scheme","esteem","extreme","supreme","team","scream"],post:["most","host","coast","toast","boast","ghost","almost","engrossed"],like:["bike","spike","hike","strike","mike","psych","pike","dislike"],share:["care","dare","flare","glare","rare","stare","pair","repair"],boost:["roost","toast","ghost","most","coast","boast","spruce","juice"],ban:["plan","man","scan","fan","ran","clan","span","van"],report:["port","fort","court","short","snort","resort","escort","support"],queueing:["gluing","chewing","spewing","stewing","viewing","reviewing","subduing","pursuing"],mood:["dude","rude","food","brood","intrude","prelude","include","conclude"],aura:["flora","scora","thora","quora","ignora","explora","tempora","aurora"],vibes:["tribes","scribes","bribes","hives","drives","arrives","survives","revives"],ratioed:["radioed","patio-ed","cameoed","ideoed","overflowed","bestowed","reloaded","uploaded"],unfollow:["hollow","swallow","follow","apollo","yolo","solo","polo","sorrow"]};function $B(r,e){if(r.length!==e.length)return Math.abs(r.length-e.length);let t=0;for(let s=0;s<r.length;s++)r[s]!==e[s]&&t++;return t}function GB(){const[r,e]=b.useState(""),[t,s]=b.useState([]),[n,o]=b.useState([]),[l,d]=b.useState(!1),[u,h]=b.useState([]),[p,m]=b.useState([]),y=Object.keys(Gm).slice(0,8);b.useEffect(()=>{m(y)},[]);const x=_=>{if(!_.trim()){s([]),o([]);return}d(!0),setTimeout(()=>{const P=_.toLowerCase().trim(),D=Mg(P);if(D.length===0){s([]),o([]),d(!1);return}const M=D[0],E=Eg(M.norm);if(!E){s([]),o([]),d(!1);return}const R=Object.keys(Gm).concat(Object.values(Gm).flat()),O=[],B=[];for(const J of R){if(J.toLowerCase()===P)continue;const ce=Mg(J.toLowerCase());if(ce.length===0)continue;const V=Eg(ce[0].norm);V&&(V===E?O.push(J):V.length===E.length&&$B(V,E)===1&&B.push(J))}const L=[...new Set(O)].slice(0,8),$=[...new Set(B)].slice(0,6);s(L),o($),d(!1)},300)},v=()=>{x(r)},w=_=>{_.key==="Enter"&&v()},j=_=>{h(P=>P.includes(_)?P.filter(D=>D!==_):[...P,_])},C=()=>{if(u.length===0)return;const _=u.join(", ");window.insertIntoLyrics&&window.insertIntoLyrics(_),h([])},N=()=>{h([])},k=(_,P,D)=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("h4",{className:"text-sm dropsource-text-secondary mb-2",children:[P,D&&i.jsxs("span",{className:"text-xs ml-1",children:["(",D,")"]})]}),i.jsx("div",{className:"space-y-2",children:_.map((M,E)=>i.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${u.includes(M)?"bg-cyan-900/30 border-cyan-600 dropsource-glow-cyan":"bg-gray-800/30 border-gray-700 hover:border-gray-600 hover:bg-gray-800/50"}`,onClick:()=>j(M),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"dropsource-text-primary font-medium",children:M}),i.jsxs("div",{className:"flex items-center gap-2",children:[u.includes(M)&&i.jsx(ft,{variant:"outline",className:"text-xs text-cyan-400 border-cyan-400",children:"Selected"}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:R=>{R.stopPropagation(),window.insertIntoLyrics&&window.insertIntoLyrics(M)},className:"p-1 h-6 w-6 dropsource-text-secondary hover:text-cyan-400",children:i.jsx(wi,{className:"w-3 h-3"})})]})]})},`${P}-${E}`))})]});return i.jsxs("div",{className:"space-y-4 h-full overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"space-y-3 flex-shrink-0",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Cr,{value:r,onChange:_=>e(_.target.value),onKeyPress:w,placeholder:"Enter a word to find rhymes...",className:"flex-1 bg-gray-900/50 border-gray-700 dropsource-text-primary placeholder:dropsource-text-secondary"}),i.jsx(Se,{onClick:v,disabled:!r.trim()||l,className:"dropsource-gradient text-white",children:i.jsx(yn,{className:"w-4 h-4"})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm dropsource-text-secondary mb-2",children:"Popular words:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:p.map(_=>i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>{e(_),x(_)},className:"text-xs border-gray-600 dropsource-text-secondary hover:text-cyan-400 hover:border-cyan-400",children:_},_))})]})]}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[r&&i.jsx("div",{className:"mb-3",children:i.jsxs("h3",{className:"font-medium dropsource-text-primary",children:['Rhymes for "',r,'"',(t.length>0||n.length>0)&&i.jsxs(ft,{variant:"outline",className:"ml-2 text-xs",children:[t.length+n.length," found"]})]})}),i.jsx(hn,{className:"h-full",children:l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"})}):t.length>0||n.length>0?i.jsxs("div",{children:[t.length>0&&k(t,"Exact Rhymes","same ending sound"),n.length>0&&k(n,"Near Rhymes","similar ending sound")]}):r?i.jsxs("div",{className:"text-center py-8 dropsource-text-secondary",children:[i.jsx(Yh,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsxs("p",{children:['No rhymes found for "',r,'"']}),i.jsx("p",{className:"text-sm mt-1",children:"Try a different word or check the spelling"})]}):i.jsxs("div",{className:"text-center py-8 dropsource-text-secondary",children:[i.jsx(ms,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"Enter a word above to find rhymes"}),i.jsx("p",{className:"text-sm mt-1",children:'Try popular words like "love", "heart", or "dream"'})]})})]}),u.length>0&&i.jsxs("div",{className:"flex-shrink-0 pt-3 border-t border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm dropsource-text-secondary",children:[u.length," rhyme",u.length!==1?"s":""," selected"]}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:N,className:"text-xs dropsource-text-secondary hover:text-red-400",children:"Clear"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(Se,{onClick:C,className:"flex-1 dropsource-gradient text-white",children:[i.jsx(wi,{className:"w-4 h-4 mr-1"}),"Insert Selected"]})})]})]})}function ix(r){const e=r+"CollectionProvider",[t,s]=bn(e),[n,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:j,children:C}=w,N=je.useRef(null),k=je.useRef(new Map).current;return i.jsx(n,{scope:j,itemMap:k,collectionRef:N,children:C})};l.displayName=e;const d=r+"CollectionSlot",u=sc(d),h=je.forwardRef((w,j)=>{const{scope:C,children:N}=w,k=o(d,C),_=nt(j,k.collectionRef);return i.jsx(u,{ref:_,children:N})});h.displayName=d;const p=r+"CollectionItemSlot",m="data-radix-collection-item",y=sc(p),x=je.forwardRef((w,j)=>{const{scope:C,children:N,...k}=w,_=je.useRef(null),P=nt(j,_),D=o(p,C);return je.useEffect(()=>(D.itemMap.set(_,{ref:_,...k}),()=>void D.itemMap.delete(_))),i.jsx(y,{[m]:"",ref:P,children:N})});x.displayName=p;function v(w){const j=o(r+"CollectionConsumer",w);return je.useCallback(()=>{const N=j.collectionRef.current;if(!N)return[];const k=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((D,M)=>k.indexOf(D.ref.current)-k.indexOf(M.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:l,Slot:h,ItemSlot:x},v,s]}var Ym=0;function YB(){b.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??GS()),document.body.insertAdjacentElement("beforeend",r[1]??GS()),Ym++,()=>{Ym===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ym--}},[])}function GS(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Xm="focusScope.autoFocusOnMount",Km="focusScope.autoFocusOnUnmount",YS={bubbles:!1,cancelable:!0},XB="FocusScope",eT=b.forwardRef((r,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:n,onUnmountAutoFocus:o,...l}=r,[d,u]=b.useState(null),h=Er(n),p=Er(o),m=b.useRef(null),y=nt(e,w=>u(w)),x=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let w=function(k){if(x.paused||!d)return;const _=k.target;d.contains(_)?m.current=_:No(m.current,{select:!0})},j=function(k){if(x.paused||!d)return;const _=k.relatedTarget;_!==null&&(d.contains(_)||No(m.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const P of k)P.removedNodes.length>0&&No(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const N=new MutationObserver(C);return d&&N.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),N.disconnect()}}},[s,d,x.paused]),b.useEffect(()=>{if(d){KS.add(x);const w=document.activeElement;if(!d.contains(w)){const C=new CustomEvent(Xm,YS);d.addEventListener(Xm,h),d.dispatchEvent(C),C.defaultPrevented||(KB(e8(tT(d)),{select:!0}),document.activeElement===w&&No(d))}return()=>{d.removeEventListener(Xm,h),setTimeout(()=>{const C=new CustomEvent(Km,YS);d.addEventListener(Km,p),d.dispatchEvent(C),C.defaultPrevented||No(w??document.body,{select:!0}),d.removeEventListener(Km,p),KS.remove(x)},0)}}},[d,h,p,x]);const v=b.useCallback(w=>{if(!t&&!s||x.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,C=document.activeElement;if(j&&C){const N=w.currentTarget,[k,_]=qB(N);k&&_?!w.shiftKey&&C===_?(w.preventDefault(),t&&No(k,{select:!0})):w.shiftKey&&C===k&&(w.preventDefault(),t&&No(_,{select:!0})):C===N&&w.preventDefault()}},[t,s,x.paused]);return i.jsx(Ze.div,{tabIndex:-1,...l,ref:y,onKeyDown:v})});eT.displayName=XB;function KB(r,{select:e=!1}={}){const t=document.activeElement;for(const s of r)if(No(s,{select:e}),document.activeElement!==t)return}function qB(r){const e=tT(r),t=XS(e,r),s=XS(e.reverse(),r);return[t,s]}function tT(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function XS(r,e){for(const t of r)if(!ZB(t,{upTo:e}))return t}function ZB(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function JB(r){return r instanceof HTMLInputElement&&"select"in r}function No(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&JB(r)&&e&&r.select()}}var KS=QB();function QB(){let r=[];return{add(e){const t=r[0];e!==t&&t?.pause(),r=qS(r,e),r.unshift(e)},remove(e){r=qS(r,e),r[0]?.resume()}}}function qS(r,e){const t=[...r],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function e8(r){return r.filter(e=>e.tagName!=="A")}function ax(r){const e=b.useRef({value:r,previous:r});return b.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var t8=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},Qi=new WeakMap,Eu=new WeakMap,Pu={},qm=0,rT=function(r){return r&&(r.host||rT(r.parentNode))},r8=function(r,e){return e.map(function(t){if(r.contains(t))return t;var s=rT(t);return s&&r.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},s8=function(r,e,t,s){var n=r8(e,Array.isArray(r)?r:[r]);Pu[t]||(Pu[t]=new WeakMap);var o=Pu[t],l=[],d=new Set,u=new Set(n),h=function(m){!m||d.has(m)||(d.add(m),h(m.parentNode))};n.forEach(h);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(y){if(d.has(y))p(y);else try{var x=y.getAttribute(s),v=x!==null&&x!=="false",w=(Qi.get(y)||0)+1,j=(o.get(y)||0)+1;Qi.set(y,w),o.set(y,j),l.push(y),w===1&&v&&Eu.set(y,!0),j===1&&y.setAttribute(t,"true"),v||y.setAttribute(s,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return p(e),d.clear(),qm++,function(){l.forEach(function(m){var y=Qi.get(m)-1,x=o.get(m)-1;Qi.set(m,y),o.set(m,x),y||(Eu.has(m)||m.removeAttribute(s),Eu.delete(m)),x||m.removeAttribute(t)}),qm--,qm||(Qi=new WeakMap,Qi=new WeakMap,Eu=new WeakMap,Pu={})}},n8=function(r,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(r)?r:[r]),n=t8(r);return n?(s.push.apply(s,Array.from(n.querySelectorAll("[aria-live], script"))),s8(s,n,t,"aria-hidden")):function(){return null}},ln=function(){return ln=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ln.apply(this,arguments)};function sT(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t}function o8(r,e,t){if(t||arguments.length===2)for(var s=0,n=e.length,o;s<n;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return r.concat(o||Array.prototype.slice.call(e))}var rh="right-scroll-bar-position",sh="width-before-scroll-bar",i8="with-scroll-bars-hidden",a8="--removed-body-scroll-bar-size";function Zm(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function l8(r,e){var t=b.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(s){var n=t.value;n!==s&&(t.value=s,t.callback(s,n))}}}})[0];return t.callback=e,t.facade}var c8=typeof window<"u"?b.useLayoutEffect:b.useEffect,ZS=new WeakMap;function d8(r,e){var t=l8(null,function(s){return r.forEach(function(n){return Zm(n,s)})});return c8(function(){var s=ZS.get(t);if(s){var n=new Set(s),o=new Set(r),l=t.current;n.forEach(function(d){o.has(d)||Zm(d,null)}),o.forEach(function(d){n.has(d)||Zm(d,l)})}ZS.set(t,r)},[r]),t}function u8(r){return r}function h8(r,e){e===void 0&&(e=u8);var t=[],s=!1,n={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(o){var l=e(o,s);return t.push(l),function(){t=t.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(s=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(d){return o(d)},filter:function(){return t}}},assignMedium:function(o){s=!0;var l=[];if(t.length){var d=t;t=[],d.forEach(o),l=t}var u=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),t={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),t}}}};return n}function f8(r){r===void 0&&(r={});var e=h8(null);return e.options=ln({async:!0,ssr:!1},r),e}var nT=function(r){var e=r.sideCar,t=sT(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,ln({},t))};nT.isSideCarExport=!0;function p8(r,e){return r.useMedium(e),nT}var oT=f8(),Jm=function(){},yf=b.forwardRef(function(r,e){var t=b.useRef(null),s=b.useState({onScrollCapture:Jm,onWheelCapture:Jm,onTouchMoveCapture:Jm}),n=s[0],o=s[1],l=r.forwardProps,d=r.children,u=r.className,h=r.removeScrollBar,p=r.enabled,m=r.shards,y=r.sideCar,x=r.noRelative,v=r.noIsolation,w=r.inert,j=r.allowPinchZoom,C=r.as,N=C===void 0?"div":C,k=r.gapMode,_=sT(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=y,D=d8([t,e]),M=ln(ln({},_),n);return b.createElement(b.Fragment,null,p&&b.createElement(P,{sideCar:oT,removeScrollBar:h,shards:m,noRelative:x,noIsolation:v,inert:w,setCallbacks:o,allowPinchZoom:!!j,lockRef:t,gapMode:k}),l?b.cloneElement(b.Children.only(d),ln(ln({},M),{ref:D})):b.createElement(N,ln({},M,{className:u,ref:D}),d))});yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yf.classNames={fullWidth:sh,zeroRight:rh};var m8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g8(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=m8();return e&&r.setAttribute("nonce",e),r}function y8(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function x8(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var v8=function(){var r=0,e=null;return{add:function(t){r==0&&(e=g8())&&(y8(e,t),x8(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},b8=function(){var r=v8();return function(e,t){b.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},iT=function(){var r=b8(),e=function(t){var s=t.styles,n=t.dynamic;return r(s,n),null};return e},w8={left:0,top:0,right:0,gap:0},Qm=function(r){return parseInt(r||"",10)||0},S8=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],s=e[r==="padding"?"paddingTop":"marginTop"],n=e[r==="padding"?"paddingRight":"marginRight"];return[Qm(t),Qm(s),Qm(n)]},C8=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return w8;var e=S8(r),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},k8=iT(),ba="data-scroll-locked",j8=function(r,e,t,s){var n=r.left,o=r.top,l=r.right,d=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(i8,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(ba,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(sh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(sh," .").concat(sh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ba,`] {
    `).concat(a8,": ").concat(d,`px;
  }
`)},JS=function(){var r=parseInt(document.body.getAttribute(ba)||"0",10);return isFinite(r)?r:0},N8=function(){b.useEffect(function(){return document.body.setAttribute(ba,(JS()+1).toString()),function(){var r=JS()-1;r<=0?document.body.removeAttribute(ba):document.body.setAttribute(ba,r.toString())}},[])},T8=function(r){var e=r.noRelative,t=r.noImportant,s=r.gapMode,n=s===void 0?"margin":s;N8();var o=b.useMemo(function(){return C8(n)},[n]);return b.createElement(k8,{styles:j8(o,!e,n,t?"":"!important")})},h0=!1;if(typeof window<"u")try{var Du=Object.defineProperty({},"passive",{get:function(){return h0=!0,!0}});window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{h0=!1}var ea=h0?{passive:!1}:!1,_8=function(r){return r.tagName==="TEXTAREA"},aT=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!_8(r)&&t[e]==="visible")},M8=function(r){return aT(r,"overflowY")},E8=function(r){return aT(r,"overflowX")},QS=function(r,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var n=lT(r,s);if(n){var o=cT(r,s),l=o[1],d=o[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},P8=function(r){var e=r.scrollTop,t=r.scrollHeight,s=r.clientHeight;return[e,t,s]},D8=function(r){var e=r.scrollLeft,t=r.scrollWidth,s=r.clientWidth;return[e,t,s]},lT=function(r,e){return r==="v"?M8(e):E8(e)},cT=function(r,e){return r==="v"?P8(e):D8(e)},A8=function(r,e){return r==="h"&&e==="rtl"?-1:1},R8=function(r,e,t,s,n){var o=A8(r,window.getComputedStyle(e).direction),l=o*s,d=t.target,u=e.contains(d),h=!1,p=l>0,m=0,y=0;do{if(!d)break;var x=cT(r,d),v=x[0],w=x[1],j=x[2],C=w-j-o*v;(v||C)&&lT(r,d)&&(m+=C,y+=v);var N=d.parentNode;d=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!u&&d!==document.body||u&&(e.contains(d)||e===d));return(p&&Math.abs(m)<1||!p&&Math.abs(y)<1)&&(h=!0),h},Au=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},e2=function(r){return[r.deltaX,r.deltaY]},t2=function(r){return r&&"current"in r?r.current:r},O8=function(r,e){return r[0]===e[0]&&r[1]===e[1]},F8=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},L8=0,ta=[];function z8(r){var e=b.useRef([]),t=b.useRef([0,0]),s=b.useRef(),n=b.useState(L8++)[0],o=b.useState(iT)[0],l=b.useRef(r);b.useEffect(function(){l.current=r},[r]),b.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(n));var w=o8([r.lockRef.current],(r.shards||[]).map(t2),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(n))})}}},[r.inert,r.lockRef.current,r.shards]);var d=b.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var C=Au(w),N=t.current,k="deltaX"in w?w.deltaX:N[0]-C[0],_="deltaY"in w?w.deltaY:N[1]-C[1],P,D=w.target,M=Math.abs(k)>Math.abs(_)?"h":"v";if("touches"in w&&M==="h"&&D.type==="range")return!1;var E=QS(M,D);if(!E)return!0;if(E?P=M:(P=M==="v"?"h":"v",E=QS(M,D)),!E)return!1;if(!s.current&&"changedTouches"in w&&(k||_)&&(s.current=P),!P)return!0;var R=s.current||P;return R8(R,j,w,R==="h"?k:_)},[]),u=b.useCallback(function(w){var j=w;if(!(!ta.length||ta[ta.length-1]!==o)){var C="deltaY"in j?e2(j):Au(j),N=e.current.filter(function(P){return P.name===j.type&&(P.target===j.target||j.target===P.shadowParent)&&O8(P.delta,C)})[0];if(N&&N.should){j.cancelable&&j.preventDefault();return}if(!N){var k=(l.current.shards||[]).map(t2).filter(Boolean).filter(function(P){return P.contains(j.target)}),_=k.length>0?d(j,k[0]):!l.current.noIsolation;_&&j.cancelable&&j.preventDefault()}}},[]),h=b.useCallback(function(w,j,C,N){var k={name:w,delta:j,target:C,should:N,shadowParent:I8(C)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(_){return _!==k})},1)},[]),p=b.useCallback(function(w){t.current=Au(w),s.current=void 0},[]),m=b.useCallback(function(w){h(w.type,e2(w),w.target,d(w,r.lockRef.current))},[]),y=b.useCallback(function(w){h(w.type,Au(w),w.target,d(w,r.lockRef.current))},[]);b.useEffect(function(){return ta.push(o),r.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",u,ea),document.addEventListener("touchmove",u,ea),document.addEventListener("touchstart",p,ea),function(){ta=ta.filter(function(w){return w!==o}),document.removeEventListener("wheel",u,ea),document.removeEventListener("touchmove",u,ea),document.removeEventListener("touchstart",p,ea)}},[]);var x=r.removeScrollBar,v=r.inert;return b.createElement(b.Fragment,null,v?b.createElement(o,{styles:F8(n)}):null,x?b.createElement(T8,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function I8(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const B8=p8(oT,z8);var dT=b.forwardRef(function(r,e){return b.createElement(yf,ln({},r,{ref:e,sideCar:B8}))});dT.classNames=yf.classNames;var V8=[" ","Enter","ArrowUp","ArrowDown"],W8=[" ","Enter"],Ci="Select",[xf,vf,H8]=ix(Ci),[Ya]=bn(Ci,[H8,Uh]),bf=Uh(),[U8,Wo]=Ya(Ci),[$8,G8]=Ya(Ci),uT=r=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:n,onOpenChange:o,value:l,defaultValue:d,onValueChange:u,dir:h,name:p,autoComplete:m,disabled:y,required:x,form:v}=r,w=bf(e),[j,C]=b.useState(null),[N,k]=b.useState(null),[_,P]=b.useState(!1),D=Ec(h),[M,E]=bi({prop:s,defaultProp:n??!1,onChange:o,caller:Ci}),[R,O]=bi({prop:l,defaultProp:d,onChange:u,caller:Ci}),B=b.useRef(null),L=j?v||!!j.closest("form"):!0,[$,J]=b.useState(new Set),ce=Array.from($).map(V=>V.props.value).join(";");return i.jsx(cC,{...w,children:i.jsxs(U8,{required:x,scope:e,trigger:j,onTriggerChange:C,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:_,onValueNodeHasChildrenChange:P,contentId:Pa(),value:R,onValueChange:O,open:M,onOpenChange:E,dir:D,triggerPointerDownPosRef:B,disabled:y,children:[i.jsx(xf.Provider,{scope:e,children:i.jsx($8,{scope:r.__scopeSelect,onNativeOptionAdd:b.useCallback(V=>{J(X=>new Set(X).add(V))},[]),onNativeOptionRemove:b.useCallback(V=>{J(X=>{const F=new Set(X);return F.delete(V),F})},[]),children:t})}),L?i.jsxs(AT,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:m,value:R,onChange:V=>O(V.target.value),disabled:y,form:v,children:[R===void 0?i.jsx("option",{value:""}):null,Array.from($)]},ce):null]})})};uT.displayName=Ci;var hT="SelectTrigger",fT=b.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:s=!1,...n}=r,o=bf(t),l=Wo(hT,t),d=l.disabled||s,u=nt(e,l.onTriggerChange),h=vf(t),p=b.useRef("touch"),[m,y,x]=OT(w=>{const j=h().filter(k=>!k.disabled),C=j.find(k=>k.value===l.value),N=FT(j,w,C);N!==void 0&&l.onValueChange(N.value)}),v=w=>{d||(l.onOpenChange(!0),x()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx(dC,{asChild:!0,...o,children:i.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":RT(l.value)?"":void 0,...n,ref:u,onClick:Ye(n.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&v(w)}),onPointerDown:Ye(n.onPointerDown,w=>{p.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:Ye(n.onKeyDown,w=>{const j=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(j&&w.key===" ")&&V8.includes(w.key)&&(v(),w.preventDefault())})})})});fT.displayName=hT;var pT="SelectValue",mT=b.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:n,children:o,placeholder:l="",...d}=r,u=Wo(pT,t),{onValueNodeHasChildrenChange:h}=u,p=o!==void 0,m=nt(e,u.onValueNodeChange);return ur(()=>{h(p)},[h,p]),i.jsx(Ze.span,{...d,ref:m,style:{pointerEvents:"none"},children:RT(u.value)?i.jsx(i.Fragment,{children:l}):o})});mT.displayName=pT;var Y8="SelectIcon",gT=b.forwardRef((r,e)=>{const{__scopeSelect:t,children:s,...n}=r;return i.jsx(Ze.span,{"aria-hidden":!0,...n,ref:e,children:s||"▼"})});gT.displayName=Y8;var X8="SelectPortal",yT=r=>i.jsx(W0,{asChild:!0,...r});yT.displayName=X8;var ki="SelectContent",xT=b.forwardRef((r,e)=>{const t=Wo(ki,r.__scopeSelect),[s,n]=b.useState();if(ur(()=>{n(new DocumentFragment)},[]),!t.open){const o=s;return o?zo.createPortal(i.jsx(vT,{scope:r.__scopeSelect,children:i.jsx(xf.Slot,{scope:r.__scopeSelect,children:i.jsx("div",{children:r.children})})}),o):null}return i.jsx(bT,{...r,ref:e})});xT.displayName=ki;var Fs=10,[vT,Ho]=Ya(ki),K8="SelectContentImpl",q8=sc("SelectContent.RemoveScroll"),bT=b.forwardRef((r,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:l,side:d,sideOffset:u,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:x,sticky:v,hideWhenDetached:w,avoidCollisions:j,...C}=r,N=Wo(ki,t),[k,_]=b.useState(null),[P,D]=b.useState(null),M=nt(e,G=>_(G)),[E,R]=b.useState(null),[O,B]=b.useState(null),L=vf(t),[$,J]=b.useState(!1),ce=b.useRef(!1);b.useEffect(()=>{if(k)return n8(k)},[k]),YB();const V=b.useCallback(G=>{const[Q,...de]=L().map(Ve=>Ve.ref.current),[me]=de.slice(-1),_e=document.activeElement;for(const Ve of G)if(Ve===_e||(Ve?.scrollIntoView({block:"nearest"}),Ve===Q&&P&&(P.scrollTop=0),Ve===me&&P&&(P.scrollTop=P.scrollHeight),Ve?.focus(),document.activeElement!==_e))return},[L,P]),X=b.useCallback(()=>V([E,k]),[V,E,k]);b.useEffect(()=>{$&&X()},[$,X]);const{onOpenChange:F,triggerPointerDownPosRef:ee}=N;b.useEffect(()=>{if(k){let G={x:0,y:0};const Q=me=>{G={x:Math.abs(Math.round(me.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(me.pageY)-(ee.current?.y??0))}},de=me=>{G.x<=10&&G.y<=10?me.preventDefault():k.contains(me.target)||F(!1),document.removeEventListener("pointermove",Q),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",de,{capture:!0})}}},[k,F,ee]),b.useEffect(()=>{const G=()=>F(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[F]);const[H,z]=OT(G=>{const Q=L().filter(_e=>!_e.disabled),de=Q.find(_e=>_e.ref.current===document.activeElement),me=FT(Q,G,de);me&&setTimeout(()=>me.ref.current.focus())}),Z=b.useCallback((G,Q,de)=>{const me=!ce.current&&!de;(N.value!==void 0&&N.value===Q||me)&&(R(G),me&&(ce.current=!0))},[N.value]),q=b.useCallback(()=>k?.focus(),[k]),oe=b.useCallback((G,Q,de)=>{const me=!ce.current&&!de;(N.value!==void 0&&N.value===Q||me)&&B(G)},[N.value]),he=s==="popper"?f0:wT,fe=he===f0?{side:d,sideOffset:u,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:y,collisionPadding:x,sticky:v,hideWhenDetached:w,avoidCollisions:j}:{};return i.jsx(vT,{scope:t,content:k,viewport:P,onViewportChange:D,itemRefCallback:Z,selectedItem:E,onItemLeave:q,itemTextRefCallback:oe,focusSelectedItem:X,selectedItemText:O,position:s,isPositioned:$,searchRef:H,children:i.jsx(dT,{as:q8,allowPinchZoom:!0,children:i.jsx(eT,{asChild:!0,trapped:N.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ye(n,G=>{N.trigger?.focus({preventScroll:!0}),G.preventDefault()}),children:i.jsx(D0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:i.jsx(he,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:G=>G.preventDefault(),...C,...fe,onPlaced:()=>J(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ye(C.onKeyDown,G=>{const Q=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!Q&&G.key.length===1&&z(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let me=L().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(G.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const _e=G.target,Ve=me.indexOf(_e);me=me.slice(Ve+1)}setTimeout(()=>V(me)),G.preventDefault()}})})})})})})});bT.displayName=K8;var Z8="SelectItemAlignedPosition",wT=b.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:s,...n}=r,o=Wo(ki,t),l=Ho(ki,t),[d,u]=b.useState(null),[h,p]=b.useState(null),m=nt(e,M=>p(M)),y=vf(t),x=b.useRef(!1),v=b.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:C,focusSelectedItem:N}=l,k=b.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&h&&w&&j&&C){const M=o.trigger.getBoundingClientRect(),E=h.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),O=C.getBoundingClientRect();if(o.dir!=="rtl"){const _e=O.left-E.left,Ve=R.left-_e,be=M.left-Ve,pe=M.width+be,re=Math.max(pe,E.width),ge=window.innerWidth-Fs,ae=dc(Ve,[Fs,Math.max(Fs,ge-re)]);d.style.minWidth=pe+"px",d.style.left=ae+"px"}else{const _e=E.right-O.right,Ve=window.innerWidth-R.right-_e,be=window.innerWidth-M.right-Ve,pe=M.width+be,re=Math.max(pe,E.width),ge=window.innerWidth-Fs,ae=dc(Ve,[Fs,Math.max(Fs,ge-re)]);d.style.minWidth=pe+"px",d.style.right=ae+"px"}const B=y(),L=window.innerHeight-Fs*2,$=w.scrollHeight,J=window.getComputedStyle(h),ce=parseInt(J.borderTopWidth,10),V=parseInt(J.paddingTop,10),X=parseInt(J.borderBottomWidth,10),F=parseInt(J.paddingBottom,10),ee=ce+V+$+F+X,H=Math.min(j.offsetHeight*5,ee),z=window.getComputedStyle(w),Z=parseInt(z.paddingTop,10),q=parseInt(z.paddingBottom,10),oe=M.top+M.height/2-Fs,he=L-oe,fe=j.offsetHeight/2,G=j.offsetTop+fe,Q=ce+V+G,de=ee-Q;if(Q<=oe){const _e=B.length>0&&j===B[B.length-1].ref.current;d.style.bottom="0px";const Ve=h.clientHeight-w.offsetTop-w.offsetHeight,be=Math.max(he,fe+(_e?q:0)+Ve+X),pe=Q+be;d.style.height=pe+"px"}else{const _e=B.length>0&&j===B[0].ref.current;d.style.top="0px";const be=Math.max(oe,ce+w.offsetTop+(_e?Z:0)+fe)+de;d.style.height=be+"px",w.scrollTop=Q-oe+w.offsetTop}d.style.margin=`${Fs}px 0`,d.style.minHeight=H+"px",d.style.maxHeight=L+"px",s?.(),requestAnimationFrame(()=>x.current=!0)}},[y,o.trigger,o.valueNode,d,h,w,j,C,o.dir,s]);ur(()=>k(),[k]);const[_,P]=b.useState();ur(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);const D=b.useCallback(M=>{M&&v.current===!0&&(k(),N?.(),v.current=!1)},[k,N]);return i.jsx(Q8,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:x,onScrollButtonChange:D,children:i.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(Ze.div,{...n,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});wT.displayName=Z8;var J8="SelectPopperPosition",f0=b.forwardRef((r,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:n=Fs,...o}=r,l=bf(t);return i.jsx(uC,{...l,...o,ref:e,align:s,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});f0.displayName=J8;var[Q8,lx]=Ya(ki,{}),p0="SelectViewport",ST=b.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:s,...n}=r,o=Ho(p0,t),l=lx(p0,t),d=nt(e,o.onViewportChange),u=b.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(xf.Slot,{scope:t,children:i.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Ye(n.onScroll,h=>{const p=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=l;if(y?.current&&m){const x=Math.abs(u.current-p.scrollTop);if(x>0){const v=window.innerHeight-Fs*2,w=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),C=Math.max(w,j);if(C<v){const N=C+x,k=Math.min(v,N),_=N-k;m.style.height=k+"px",m.style.bottom==="0px"&&(p.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});ST.displayName=p0;var CT="SelectGroup",[e9,t9]=Ya(CT),r9=b.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,n=Pa();return i.jsx(e9,{scope:t,id:n,children:i.jsx(Ze.div,{role:"group","aria-labelledby":n,...s,ref:e})})});r9.displayName=CT;var kT="SelectLabel",s9=b.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,n=t9(kT,t);return i.jsx(Ze.div,{id:n.id,...s,ref:e})});s9.displayName=kT;var Fh="SelectItem",[n9,jT]=Ya(Fh),NT=b.forwardRef((r,e)=>{const{__scopeSelect:t,value:s,disabled:n=!1,textValue:o,...l}=r,d=Wo(Fh,t),u=Ho(Fh,t),h=d.value===s,[p,m]=b.useState(o??""),[y,x]=b.useState(!1),v=nt(e,N=>u.itemRefCallback?.(N,s,n)),w=Pa(),j=b.useRef("touch"),C=()=>{n||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(n9,{scope:t,value:s,disabled:n,textId:w,isSelected:h,onItemTextChange:b.useCallback(N=>{m(k=>k||(N?.textContent??"").trim())},[]),children:i.jsx(xf.ItemSlot,{scope:t,value:s,disabled:n,textValue:p,children:i.jsx(Ze.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...l,ref:v,onFocus:Ye(l.onFocus,()=>x(!0)),onBlur:Ye(l.onBlur,()=>x(!1)),onClick:Ye(l.onClick,()=>{j.current!=="mouse"&&C()}),onPointerUp:Ye(l.onPointerUp,()=>{j.current==="mouse"&&C()}),onPointerDown:Ye(l.onPointerDown,N=>{j.current=N.pointerType}),onPointerMove:Ye(l.onPointerMove,N=>{j.current=N.pointerType,n?u.onItemLeave?.():j.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(l.onPointerLeave,N=>{N.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Ye(l.onKeyDown,N=>{u.searchRef?.current!==""&&N.key===" "||(W8.includes(N.key)&&C(),N.key===" "&&N.preventDefault())})})})})});NT.displayName=Fh;var Gl="SelectItemText",TT=b.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:n,...o}=r,l=Wo(Gl,t),d=Ho(Gl,t),u=jT(Gl,t),h=G8(Gl,t),[p,m]=b.useState(null),y=nt(e,C=>m(C),u.onItemTextChange,C=>d.itemTextRefCallback?.(C,u.value,u.disabled)),x=p?.textContent,v=b.useMemo(()=>i.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=h;return ur(()=>(w(v),()=>j(v)),[w,j,v]),i.jsxs(i.Fragment,{children:[i.jsx(Ze.span,{id:u.textId,...o,ref:y}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?zo.createPortal(o.children,l.valueNode):null]})});TT.displayName=Gl;var _T="SelectItemIndicator",MT=b.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return jT(_T,t).isSelected?i.jsx(Ze.span,{"aria-hidden":!0,...s,ref:e}):null});MT.displayName=_T;var m0="SelectScrollUpButton",ET=b.forwardRef((r,e)=>{const t=Ho(m0,r.__scopeSelect),s=lx(m0,r.__scopeSelect),[n,o]=b.useState(!1),l=nt(e,s.onScrollButtonChange);return ur(()=>{if(t.viewport&&t.isPositioned){let d=function(){const h=u.scrollTop>0;o(h)};const u=t.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),n?i.jsx(DT,{...r,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=t;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});ET.displayName=m0;var g0="SelectScrollDownButton",PT=b.forwardRef((r,e)=>{const t=Ho(g0,r.__scopeSelect),s=lx(g0,r.__scopeSelect),[n,o]=b.useState(!1),l=nt(e,s.onScrollButtonChange);return ur(()=>{if(t.viewport&&t.isPositioned){let d=function(){const h=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<h;o(p)};const u=t.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),n?i.jsx(DT,{...r,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=t;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});PT.displayName=g0;var DT=b.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:s,...n}=r,o=Ho("SelectScrollButton",t),l=b.useRef(null),d=vf(t),u=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>u(),[u]),ur(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),i.jsx(Ze.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:Ye(n.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:Ye(n.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:Ye(n.onPointerLeave,()=>{u()})})}),o9="SelectSeparator",i9=b.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return i.jsx(Ze.div,{"aria-hidden":!0,...s,ref:e})});i9.displayName=o9;var y0="SelectArrow",a9=b.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,n=bf(t),o=Wo(y0,t),l=Ho(y0,t);return o.open&&l.position==="popper"?i.jsx(hC,{...n,...s,ref:e}):null});a9.displayName=y0;var l9="SelectBubbleInput",AT=b.forwardRef(({__scopeSelect:r,value:e,...t},s)=>{const n=b.useRef(null),o=nt(s,n),l=ax(e);return b.useEffect(()=>{const d=n.current;if(!d)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==e&&p){const m=new Event("change",{bubbles:!0});p.call(d,e),d.dispatchEvent(m)}},[l,e]),i.jsx(Ze.select,{...t,style:{...fC,...t.style},ref:o,defaultValue:e})});AT.displayName=l9;function RT(r){return r===""||r===void 0}function OT(r){const e=Er(r),t=b.useRef(""),s=b.useRef(0),n=b.useCallback(l=>{const d=t.current+l;e(d),(function u(h){t.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(d)},[e]),o=b.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,n,o]}function FT(r,e,t){const n=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?r.indexOf(t):-1;let l=c9(r,Math.max(o,0));n.length===1&&(l=l.filter(h=>h!==t));const u=l.find(h=>h.textValue.toLowerCase().startsWith(n.toLowerCase()));return u!==t?u:void 0}function c9(r,e){return r.map((t,s)=>r[(e+s)%r.length])}var d9=uT,u9=fT,h9=mT,f9=gT,p9=yT,m9=xT,g9=ST,y9=NT,x9=TT,v9=MT,b9=ET,w9=PT;function x0({...r}){return i.jsx(d9,{"data-slot":"select",...r})}function v0({...r}){return i.jsx(h9,{"data-slot":"select-value",...r})}function b0({className:r,size:e="default",children:t,...s}){return i.jsxs(u9,{"data-slot":"select-trigger","data-size":e,className:Pt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s,children:[t,i.jsx(f9,{asChild:!0,children:i.jsx(G0,{className:"size-4 opacity-50"})})]})}function w0({className:r,children:e,position:t="popper",...s}){return i.jsx(p9,{children:i.jsxs(m9,{"data-slot":"select-content",className:Pt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...s,children:[i.jsx(S9,{}),i.jsx(g9,{className:Pt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),i.jsx(C9,{})]})})}function Lh({className:r,children:e,...t}){return i.jsxs(y9,{"data-slot":"select-item",className:Pt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(v9,{children:i.jsx(K4,{className:"size-4"})})}),i.jsx(x9,{children:e})]})}function S9({className:r,...e}){return i.jsx(b9,{"data-slot":"select-scroll-up-button",className:Pt("flex cursor-default items-center justify-center py-1",r),...e,children:i.jsx(rD,{className:"size-4"})})}function C9({className:r,...e}){return i.jsx(w9,{"data-slot":"select-scroll-down-button",className:Pt("flex cursor-default items-center justify-center py-1",r),...e,children:i.jsx(G0,{className:"size-4"})})}function es({className:r,...e}){return i.jsx("div",{"data-slot":"card",className:Pt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...e})}function k9(){const[r,e]=b.useState("C"),[t,s]=b.useState("major"),[n,o]=b.useState("piano"),l={major:{name:"Major",intervals:[0,4,7]},minor:{name:"Minor",intervals:[0,3,7]},dim:{name:"Diminished",intervals:[0,3,6]},aug:{name:"Augmented",intervals:[0,4,8]},sus2:{name:"Sus2",intervals:[0,2,7]},sus4:{name:"Sus4",intervals:[0,5,7]},7:{name:"Dominant 7th",intervals:[0,4,7,10]},maj7:{name:"Major 7th",intervals:[0,4,7,11]},min7:{name:"Minor 7th",intervals:[0,3,7,10]},add9:{name:"Add9",intervals:[0,4,7,14]}},d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],u={C:0,"C#":1,D:2,"D#":3,E:4,F:5,"F#":6,G:7,"G#":8,A:9,"A#":10,B:11},h={C:{major:[0,1,0,2,3,0],minor:[0,1,3,3,2,1],7:[0,1,0,2,3,1],maj7:[0,0,0,2,3,0]},D:{major:[-1,-1,0,2,3,2],minor:[-1,-1,0,2,3,1],7:[-1,-1,0,2,1,2],maj7:[-1,-1,0,2,2,2]},E:{major:[0,2,2,1,0,0],minor:[0,2,2,0,0,0],7:[0,2,0,1,0,0],maj7:[0,2,1,1,0,0]},F:{major:[1,3,3,2,1,1],minor:[1,3,3,1,1,1],7:[1,3,1,2,1,1],maj7:[1,3,2,2,1,1]},G:{major:[3,2,0,0,3,3],minor:[3,5,5,3,3,3],7:[3,2,0,0,0,1],maj7:[3,2,0,0,0,2]},A:{major:[-1,0,2,2,2,0],minor:[-1,0,2,2,1,0],7:[-1,0,2,0,2,0],maj7:[-1,0,2,1,2,0]},B:{major:[-1,2,4,4,4,2],minor:[-1,2,4,4,3,2],7:[-1,2,1,2,0,2],maj7:[-1,2,3,2,4,2]}},m=((w,j)=>{const C=u[w];return(l[j]?.intervals||[0,4,7]).map((k,_)=>{const P=(C+k)%12,D=Math.floor((C+k)/12)+4;return{note:d[P],octave:D,isRoot:_===0}})})(r,t),y=`${r} ${l[t]?.name||"Major"}`,x=()=>{const w=["C","D","E","F","G","A","B"],j=["C#","D#","","F#","G#","A#",""],C=k=>m.some(_=>_.note===k),N=k=>m.some(_=>_.note===k&&_.isRoot);return i.jsx("div",{className:"w-full max-w-sm mx-auto",children:i.jsxs("div",{className:"relative",style:{width:"350px",height:"140px",margin:"0 auto"},children:[i.jsx("div",{className:"flex absolute bottom-0",children:w.map((k,_)=>i.jsx("div",{className:`
                  w-12 h-24 border-2 border-gray-600 flex items-end justify-center pb-2 text-sm font-bold
                  ${C(k)?N(k)?"bg-cyan-300 text-black shadow-xl shadow-cyan-400/80 border-cyan-500":"bg-blue-300 text-black shadow-xl shadow-blue-400/80 border-blue-500":"bg-white text-gray-900 hover:bg-gray-50 border-gray-400"}
                  transition-all duration-200 cursor-pointer relative
                `,onClick:()=>{console.log(`Playing ${k}`)},children:i.jsx("span",{className:"select-none font-bold text-sm",children:k})},k))}),i.jsx("div",{className:"flex absolute bottom-0",children:j.map((k,_)=>k?i.jsx("div",{className:`
                    w-8 h-16 -ml-4 mr-4 flex items-end justify-center pb-2 text-xs font-bold rounded-b-md
                    ${C(k)?N(k)?"bg-cyan-400 text-black shadow-xl shadow-cyan-400/80 border-2 border-cyan-600":"bg-blue-400 text-black shadow-xl shadow-blue-400/80 border-2 border-blue-600":"bg-gray-800 text-white hover:bg-gray-700 border-2 border-gray-600"}
                    transition-all duration-200 cursor-pointer z-10
                  `,onClick:()=>{console.log(`Playing ${k}`)},children:i.jsx("span",{className:"select-none font-bold text-[10px] text-center",children:k})},k):i.jsx("div",{className:"w-12"},_))})]})})},v=()=>{const w=["E","A","D","G","B","E"],j=h[r]?.[t]||[1,3,3,2,1,1];return i.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[i.jsx("h4",{className:"text-center font-medium dropsource-text-primary mb-4",children:"Guitar Chord"}),i.jsxs("div",{className:"bg-amber-50 rounded-xl p-6 border-2 border-amber-200 shadow-lg",children:[i.jsx("div",{className:"flex justify-between mb-3 px-2",children:w.map((C,N)=>i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-sm font-bold text-amber-900",children:C}),i.jsx("div",{className:"text-xs text-amber-700",children:j[N]===-1?"×":j[N]===0?"O":j[N]})]},N))}),i.jsx("div",{className:"h-1 bg-gray-800 mb-4 rounded shadow-sm"}),i.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(C=>i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute w-full h-0.5 bg-gray-400 top-2"}),i.jsx("div",{className:"flex justify-between items-center h-4",children:j.map((N,k)=>i.jsxs("div",{className:"relative flex flex-col items-center",children:[i.jsx("div",{className:"w-0.5 h-4 bg-gray-600",style:{backgroundColor:k===0||k===5?"#8B4513":"#C0C0C0"}}),N===C&&N>0&&i.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-4 h-4 bg-red-600 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px] font-bold",children:N})})]},k))}),i.jsx("div",{className:"absolute -right-8 top-1/2 transform -translate-y-1/2",children:i.jsx("span",{className:"text-xs text-amber-800 font-medium",children:C})})]},C))}),i.jsx("div",{className:"mt-4 pt-3 border-t border-amber-300",children:i.jsx("div",{className:"text-center text-xs text-amber-800",children:i.jsxs("div",{className:"flex justify-center items-center gap-4",children:[i.jsx("span",{children:"× = Muted"}),i.jsx("span",{children:"O = Open"}),i.jsx("span",{children:"• = Fret"})]})})})]})]})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm dropsource-text-secondary mb-2",children:"Key"}),i.jsxs(x0,{value:r,onValueChange:e,children:[i.jsx(b0,{className:"dropsource-border-glow bg-transparent text-white",children:i.jsx(v0,{})}),i.jsx(w0,{className:"dropsource-panel border-gray-700",children:d.map(w=>i.jsx(Lh,{value:w,className:"text-white hover:bg-gray-700",children:w},w))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm dropsource-text-secondary mb-2",children:"Chord Type"}),i.jsxs(x0,{value:t,onValueChange:s,children:[i.jsx(b0,{className:"dropsource-border-glow bg-transparent text-white",children:i.jsx(v0,{})}),i.jsx(w0,{className:"dropsource-panel border-gray-700",children:Object.entries(l).map(([w,j])=>i.jsx(Lh,{value:w,className:"text-white hover:bg-gray-700",children:j.name},w))})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Se,{variant:n==="piano"?"default":"outline",size:"sm",onClick:()=>o("piano"),className:`flex-1 ${n==="piano"?"dropsource-gradient text-white":"border-gray-600 dropsource-text-secondary hover:text-cyan-400"}`,children:[i.jsx(y3,{className:"w-4 h-4 mr-2"}),"Piano"]}),i.jsxs(Se,{variant:n==="guitar"?"default":"outline",size:"sm",onClick:()=>o("guitar"),className:`flex-1 ${n==="guitar"?"dropsource-gradient text-white":"border-gray-600 dropsource-text-secondary hover:text-cyan-400"}`,children:[i.jsx(DD,{className:"w-4 h-4 mr-2"}),"Guitar"]})]})]}),i.jsxs(es,{className:"p-4 bg-gray-900/50 border-gray-700",children:[i.jsx("h3",{className:"text-lg font-medium dropsource-text-primary mb-2 text-center",children:y}),i.jsxs("div",{className:"text-center dropsource-text-secondary text-sm",children:["Notes: ",m.map(w=>w.note).join(" - ")]})]}),i.jsx("div",{className:"bg-gray-900/30 rounded-lg p-6",children:n==="piano"?i.jsx(x,{}):i.jsx(v,{})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium dropsource-text-primary mb-3",children:["Common Progressions in ",r,":"]}),i.jsx("div",{className:"space-y-2",children:[{name:"I-V-vi-IV",chords:["major","major","minor","major"],roman:["I","V","vi","IV"]},{name:"vi-IV-I-V",chords:["minor","major","major","major"],roman:["vi","IV","I","V"]},{name:"I-vi-IV-V",chords:["major","minor","major","major"],roman:["I","vi","IV","V"]}].map((w,j)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-primary font-medium",children:w.name}),i.jsx("div",{className:"text-sm dropsource-text-secondary",children:w.roman.join(" - ")})]}),i.jsx(Se,{variant:"outline",size:"sm",className:"border-gray-600 dropsource-text-secondary hover:text-cyan-400 hover:border-cyan-400",onClick:()=>{if(window.insertIntoLyrics){const C=w.roman.map(N=>`[${N}]`).join(" ");window.insertIntoLyrics(`chord-progression:${C}`)}},children:"Insert"})]},j))})]})]})}function j9(){const[r,e]=b.useState(""),[t,s]=b.useState({words:0,lines:0,syllables:0,verses:0,choruses:0,bridges:0,readingTime:0}),[n,o]=b.useState([]);b.useEffect(()=>{const u=setInterval(()=>{const h=document.querySelectorAll("textarea");if(h.length>0){const p=h[0].value;p!==r&&(e(p),d(p))}},500);return()=>clearInterval(u)},[r]);const l=u=>{if(!u||u.length===0)return 0;const h=u.toLowerCase().replace(/[^a-z]/g,"");if(h.length===0)return 0;const p={the:1,a:1,an:1,and:1,or:1,but:1,in:1,on:1,at:1,to:1,for:1,of:1,with:1,by:1,from:1,like:1,love:1,fire:2,desire:3,hour:1,our:1,every:3,family:3,library:4,different:3,interest:3,camera:3,orange:2,people:2,purple:2,circle:2,simple:2,little:2,middle:2,battle:2,gentle:2};if(p[h])return p[h];let m=0,y=!1;const x="aeiouy";for(let v=0;v<h.length;v++){const w=x.includes(h[v]);w&&!y&&m++,y=w}return h.endsWith("e")&&m>1&&m--,h.endsWith("le")&&h.length>2&&!x.includes(h[h.length-3])&&m++,Math.max(1,m)},d=u=>{if(!u.trim()){s({words:0,lines:0,syllables:0,verses:0,choruses:0,bridges:0,readingTime:0}),o([]);return}const p=u.split(`
`).filter(_=>_.trim().length>0),m=/\b[a-zA-Z]+(?:'[a-zA-Z]+)?\b/g,y=[],x=[];u.replace(m,_=>{if(u.replace(/\[.*?\]/g,"").includes(_)){y.push(_);const D=l(_);x.push({word:_.toLowerCase(),syllables:D})}return _});const v=(u.match(/\[verse\]/gi)||[]).length,w=(u.match(/\[chorus\]/gi)||[]).length,j=(u.match(/\[bridge\]/gi)||[]).length,C=x.reduce((_,P)=>_+P.syllables,0),N=Math.ceil(y.length/150);s({words:y.length,lines:p.length,syllables:C,verses:v,choruses:w,bridges:j,readingTime:N});const k=x.reduce((_,P)=>{const D=_.find(M=>M.word===P.word);return D?D.count=(D.count||1)+1:_.push({...P,count:1}),_},[]);o(k.sort((_,P)=>P.syllables-_.syllables).slice(0,20))};return i.jsxs("div",{className:"space-y-4 h-full overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-shrink-0",children:[i.jsxs(es,{className:"p-3 bg-gray-900/50 border-gray-700 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(Sg,{className:"w-4 h-4 dropsource-text-secondary"}),i.jsx("span",{className:"text-sm dropsource-text-secondary",children:"Words"})]}),i.jsx("div",{className:"text-2xl font-bold dropsource-text-primary dropsource-glow-cyan",children:t.words.toLocaleString()})]}),i.jsxs(es,{className:"p-3 bg-gray-900/50 border-gray-700 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(X0,{className:"w-4 h-4 dropsource-text-secondary"}),i.jsx("span",{className:"text-sm dropsource-text-secondary",children:"Syllables"})]}),i.jsx("div",{className:"text-2xl font-bold dropsource-text-primary dropsource-glow-cyan",children:t.syllables.toLocaleString()})]}),i.jsxs(es,{className:"p-3 bg-gray-900/50 border-gray-700 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(Yh,{className:"w-4 h-4 dropsource-text-secondary"}),i.jsx("span",{className:"text-sm dropsource-text-secondary",children:"Lines"})]}),i.jsx("div",{className:"text-2xl font-bold dropsource-text-primary",children:t.lines})]}),i.jsxs(es,{className:"p-3 bg-gray-900/50 border-gray-700 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(Ca,{className:"w-4 h-4 dropsource-text-secondary"}),i.jsx("span",{className:"text-sm dropsource-text-secondary",children:"Read Time"})]}),i.jsxs("div",{className:"text-2xl font-bold dropsource-text-primary",children:[t.readingTime,"m"]})]})]}),(t.verses>0||t.choruses>0||t.bridges>0)&&i.jsxs(es,{className:"p-4 bg-gray-900/50 border-gray-700 flex-shrink-0",children:[i.jsxs("h3",{className:"font-medium dropsource-text-primary mb-3 flex items-center gap-2",children:[i.jsx(Y4,{className:"w-4 h-4"}),"Song Structure"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.verses>0&&i.jsxs(ft,{variant:"outline",className:"border-blue-600 text-blue-400",children:[t.verses," Verse",t.verses!==1?"s":""]}),t.choruses>0&&i.jsxs(ft,{variant:"outline",className:"border-green-600 text-green-400",children:[t.choruses," Chorus",t.choruses!==1?"es":""]}),t.bridges>0&&i.jsxs(ft,{variant:"outline",className:"border-purple-600 text-purple-400",children:[t.bridges," Bridge",t.bridges!==1?"s":""]})]})]}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("h3",{className:"font-medium dropsource-text-primary mb-3",children:"Syllable Breakdown"}),n.length>0?i.jsx(hn,{className:"h-full",children:i.jsx("div",{className:"space-y-2",children:n.map((u,h)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800/30 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"dropsource-text-primary font-medium",children:u.word}),(u.count||0)>1&&i.jsxs(ft,{variant:"outline",className:"text-xs",children:["×",u.count]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(ft,{variant:"outline",className:`text-xs ${u.syllables===1?"border-green-600 text-green-400":u.syllables===2?"border-blue-600 text-blue-400":u.syllables===3?"border-yellow-600 text-yellow-400":"border-red-600 text-red-400"}`,children:[u.syllables," syl"]})})]},h))})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-32 dropsource-text-secondary",children:[i.jsx(Sg,{className:"w-8 h-8 mb-2 opacity-50"}),i.jsx("p",{className:"text-sm text-center",children:"Start writing to see syllable breakdown"})]})]}),i.jsx("div",{className:"flex-shrink-0 pt-3 border-t border-gray-700",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>{window.insertIntoLyrics&&window.insertIntoLyrics(`

--- Stats ---
Words: ${t.words}
Lines: ${t.lines}
Syllables: ${t.syllables}
`)},className:"border-gray-600 dropsource-text-secondary hover:text-cyan-400 hover:border-cyan-400",children:"Insert Stats"}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>{const u=document.querySelectorAll("textarea");u.length>0&&d(u[0].value)},className:"border-gray-600 dropsource-text-secondary hover:text-cyan-400 hover:border-cyan-400",children:"Refresh"})]})})]})}var LT=["PageUp","PageDown"],zT=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],IT={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xa="Slider",[S0,N9,T9]=ix(Xa),[BT]=bn(Xa,[T9]),[_9,wf]=BT(Xa),VT=b.forwardRef((r,e)=>{const{name:t,min:s=0,max:n=100,step:o=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:u=0,defaultValue:h=[s],value:p,onValueChange:m=()=>{},onValueCommit:y=()=>{},inverted:x=!1,form:v,...w}=r,j=b.useRef(new Set),C=b.useRef(0),k=l==="horizontal"?M9:E9,[_=[],P]=bi({prop:p,defaultProp:h,onChange:B=>{[...j.current][C.current]?.focus(),m(B)}}),D=b.useRef(_);function M(B){const L=O9(_,B);O(B,L)}function E(B){O(B,C.current)}function R(){const B=D.current[C.current];_[C.current]!==B&&y(_)}function O(B,L,{commit:$}={commit:!1}){const J=I9(o),ce=B9(Math.round((B-s)/o)*o+s,J),V=dc(ce,[s,n]);P((X=[])=>{const F=A9(X,V,L);if(z9(F,u*o)){C.current=F.indexOf(V);const ee=String(F)!==String(X);return ee&&$&&y(F),ee?F:X}else return X})}return i.jsx(_9,{scope:r.__scopeSlider,name:t,disabled:d,min:s,max:n,valueIndexToChangeRef:C,thumbs:j.current,values:_,orientation:l,form:v,children:i.jsx(S0.Provider,{scope:r.__scopeSlider,children:i.jsx(S0.Slot,{scope:r.__scopeSlider,children:i.jsx(k,{"aria-disabled":d,"data-disabled":d?"":void 0,...w,ref:e,onPointerDown:Ye(w.onPointerDown,()=>{d||(D.current=_)}),min:s,max:n,inverted:x,onSlideStart:d?void 0:M,onSlideMove:d?void 0:E,onSlideEnd:d?void 0:R,onHomeKeyDown:()=>!d&&O(s,0,{commit:!0}),onEndKeyDown:()=>!d&&O(n,_.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:L})=>{if(!d){const ce=LT.includes(B.key)||B.shiftKey&&zT.includes(B.key)?10:1,V=C.current,X=_[V],F=o*ce*L;O(X+F,V,{commit:!0})}}})})})})});VT.displayName=Xa;var[WT,HT]=BT(Xa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),M9=b.forwardRef((r,e)=>{const{min:t,max:s,dir:n,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:h,...p}=r,[m,y]=b.useState(null),x=nt(e,k=>y(k)),v=b.useRef(void 0),w=Ec(n),j=w==="ltr",C=j&&!o||!j&&o;function N(k){const _=v.current||m.getBoundingClientRect(),P=[0,_.width],M=cx(P,C?[t,s]:[s,t]);return v.current=_,M(k-_.left)}return i.jsx(WT,{scope:r.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:i.jsx(UT,{dir:w,"data-orientation":"horizontal",...p,ref:x,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const _=N(k.clientX);l?.(_)},onSlideMove:k=>{const _=N(k.clientX);d?.(_)},onSlideEnd:()=>{v.current=void 0,u?.()},onStepKeyDown:k=>{const P=IT[C?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:P?-1:1})}})})}),E9=b.forwardRef((r,e)=>{const{min:t,max:s,inverted:n,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...h}=r,p=b.useRef(null),m=nt(e,p),y=b.useRef(void 0),x=!n;function v(w){const j=y.current||p.current.getBoundingClientRect(),C=[0,j.height],k=cx(C,x?[s,t]:[t,s]);return y.current=j,k(w-j.top)}return i.jsx(WT,{scope:r.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:i.jsx(UT,{"data-orientation":"vertical",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const j=v(w.clientY);o?.(j)},onSlideMove:w=>{const j=v(w.clientY);l?.(j)},onSlideEnd:()=>{y.current=void 0,d?.()},onStepKeyDown:w=>{const C=IT[x?"from-bottom":"from-top"].includes(w.key);u?.({event:w,direction:C?-1:1})}})})}),UT=b.forwardRef((r,e)=>{const{__scopeSlider:t,onSlideStart:s,onSlideMove:n,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:u,...h}=r,p=wf(Xa,t);return i.jsx(Ze.span,{...h,ref:e,onKeyDown:Ye(r.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(d(m),m.preventDefault()):LT.concat(zT).includes(m.key)&&(u(m),m.preventDefault())}),onPointerDown:Ye(r.onPointerDown,m=>{const y=m.target;y.setPointerCapture(m.pointerId),m.preventDefault(),p.thumbs.has(y)?y.focus():s(m)}),onPointerMove:Ye(r.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&n(m)}),onPointerUp:Ye(r.onPointerUp,m=>{const y=m.target;y.hasPointerCapture(m.pointerId)&&(y.releasePointerCapture(m.pointerId),o(m))})})}),$T="SliderTrack",GT=b.forwardRef((r,e)=>{const{__scopeSlider:t,...s}=r,n=wf($T,t);return i.jsx(Ze.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...s,ref:e})});GT.displayName=$T;var C0="SliderRange",YT=b.forwardRef((r,e)=>{const{__scopeSlider:t,...s}=r,n=wf(C0,t),o=HT(C0,t),l=b.useRef(null),d=nt(e,l),u=n.values.length,h=n.values.map(y=>qT(y,n.min,n.max)),p=u>1?Math.min(...h):0,m=100-Math.max(...h);return i.jsx(Ze.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...s,ref:d,style:{...r.style,[o.startEdge]:p+"%",[o.endEdge]:m+"%"}})});YT.displayName=C0;var k0="SliderThumb",XT=b.forwardRef((r,e)=>{const t=N9(r.__scopeSlider),[s,n]=b.useState(null),o=nt(e,d=>n(d)),l=b.useMemo(()=>s?t().findIndex(d=>d.ref.current===s):-1,[t,s]);return i.jsx(P9,{...r,ref:o,index:l})}),P9=b.forwardRef((r,e)=>{const{__scopeSlider:t,index:s,name:n,...o}=r,l=wf(k0,t),d=HT(k0,t),[u,h]=b.useState(null),p=nt(e,N=>h(N)),m=u?l.form||!!u.closest("form"):!0,y=I0(u),x=l.values[s],v=x===void 0?0:qT(x,l.min,l.max),w=R9(s,l.values.length),j=y?.[d.size],C=j?F9(j,v,d.direction):0;return b.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${v}% + ${C}px)`},children:[i.jsx(S0.ItemSlot,{scope:r.__scopeSlider,children:i.jsx(Ze.span,{role:"slider","aria-label":r["aria-label"]||w,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:p,style:x===void 0?{display:"none"}:r.style,onFocus:Ye(r.onFocus,()=>{l.valueIndexToChangeRef.current=s})})}),m&&i.jsx(KT,{name:n??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},s)]})});XT.displayName=k0;var D9="RadioBubbleInput",KT=b.forwardRef(({__scopeSlider:r,value:e,...t},s)=>{const n=b.useRef(null),o=nt(n,s),l=ax(e);return b.useEffect(()=>{const d=n.current;if(!d)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==e&&p){const m=new Event("input",{bubbles:!0});p.call(d,e),d.dispatchEvent(m)}},[l,e]),i.jsx(Ze.input,{style:{display:"none"},...t,ref:o,defaultValue:e})});KT.displayName=D9;function A9(r=[],e,t){const s=[...r];return s[t]=e,s.sort((n,o)=>n-o)}function qT(r,e,t){const o=100/(t-e)*(r-e);return dc(o,[0,100])}function R9(r,e){return e>2?`Value ${r+1} of ${e}`:e===2?["Minimum","Maximum"][r]:void 0}function O9(r,e){if(r.length===1)return 0;const t=r.map(n=>Math.abs(n-e)),s=Math.min(...t);return t.indexOf(s)}function F9(r,e,t){const s=r/2,o=cx([0,50],[0,s]);return(s-o(e)*t)*t}function L9(r){return r.slice(0,-1).map((e,t)=>r[t+1]-e)}function z9(r,e){if(e>0){const t=L9(r);return Math.min(...t)>=e}return!0}function cx(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(r[1]-r[0]);return e[0]+s*(t-r[0])}}function I9(r){return(String(r).split(".")[1]||"").length}function B9(r,e){const t=Math.pow(10,e);return Math.round(r*t)/t}var ZT=VT,V9=GT,W9=YT,H9=XT;const j0=b.forwardRef(({className:r,...e},t)=>i.jsxs(ZT,{ref:t,className:Pt("relative flex w-full touch-none select-none items-center",r),...e,children:[i.jsx(V9,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-700",children:i.jsx(W9,{className:"absolute h-full bg-gradient-to-r from-purple-500 to-pink-500"})}),i.jsx(H9,{className:"block h-5 w-5 rounded-full border-2 border-white bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));j0.displayName=ZT.displayName;function U9({currentBpm:r=120,onBpmChange:e}){const[t,s]=b.useState(r),[n,o]=b.useState(!1),[l,d]=b.useState(.7),[u,h]=b.useState([]),[p,m]=b.useState(0),[y,x]=b.useState(null),v=b.useRef(null),w=b.useRef(null),j=b.useRef(null);b.useEffect(()=>(typeof window<"u"&&(v.current=new(window.AudioContext||window.webkitAudioContext)),()=>{v.current&&v.current.close()}),[]),b.useEffect(()=>{s(r)},[r]);const C=(M=!1)=>{if(!v.current)return;const E=v.current,R=E.createOscillator(),O=E.createGain();R.connect(O),O.connect(E.destination),R.frequency.setValueAtTime(M?1e3:800,E.currentTime),R.type="square",O.gain.setValueAtTime(0,E.currentTime),O.gain.linearRampToValueAtTime(l*.3,E.currentTime+.01),O.gain.exponentialRampToValueAtTime(.001,E.currentTime+.1),R.start(E.currentTime),R.stop(E.currentTime+.1)},N=()=>{if(n)w.current&&(clearInterval(w.current),w.current=null),o(!1);else{const M=6e4/t;let E=0;w.current=setInterval(()=>{C(E%4===0),E++},M),o(!0),C(!0)}},k=M=>{if(s(M),e&&e(M),window.updateProjectBpm&&window.updateProjectBpm(M),n){w.current&&clearInterval(w.current);const E=6e4/M;let R=0;w.current=setInterval(()=>{C(R%4===0),R++},E)}},_=()=>{const M=Date.now();if(p===0){m(M),h([M]);return}if(M-p>3e3){h([M]),m(M),x(null);return}const R=[...u,M].slice(-8);if(h(R),m(M),R.length>=2){const O=[];for(let $=1;$<R.length;$++)O.push(R[$]-R[$-1]);const B=O.reduce(($,J)=>$+J,0)/O.length,L=Math.round(6e4/B);L>=60&&L<=200&&x(L)}j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{h([]),m(0),x(null)},3e3)},P=()=>{y&&(k(y),h([]),m(0),x(null))},D=()=>{h([]),m(0),x(null),j.current&&clearTimeout(j.current)};return b.useEffect(()=>()=>{w.current&&clearInterval(w.current),j.current&&clearTimeout(j.current)},[]),i.jsxs("div",{className:"space-y-4 h-full overflow-hidden flex flex-col",children:[i.jsx(es,{className:"p-4 bg-gray-900/50 border-gray-700 text-center flex-shrink-0",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-3xl font-bold dropsource-text-primary dropsource-glow-cyan",children:t}),i.jsx("div",{className:"dropsource-text-secondary text-sm",children:"BPM"})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm dropsource-text-secondary mb-2",children:"Set BPM"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Cr,{type:"number",value:t,onChange:M=>k(Number(M.target.value)),min:"60",max:"200",className:"flex-1 bg-gray-900/50 border-gray-700 dropsource-text-primary"}),i.jsx(Se,{variant:"outline",onClick:()=>k(120),className:"border-gray-600 dropsource-text-secondary hover:text-cyan-400",children:"Reset"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm dropsource-text-secondary mb-2",children:["Quick Adjust: ",t," BPM"]}),i.jsx(j0,{value:[t],onValueChange:M=>k(M[0]),max:200,min:60,step:1,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs dropsource-text-secondary mt-1",children:[i.jsx("span",{children:"60"}),i.jsx("span",{children:"200"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium dropsource-text-primary",children:"Tap Tempo"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Se,{size:"lg",onClick:_,className:"flex-1 mr-2 bg-cyan-600 hover:bg-cyan-700 text-white font-medium py-8 text-lg",children:"TAP"}),i.jsx(Se,{variant:"outline",size:"sm",onClick:D,className:"border-gray-600 dropsource-text-secondary hover:text-cyan-400",children:i.jsx(ci,{className:"w-4 h-4"})})]}),y&&i.jsx(es,{className:"p-4 bg-cyan-900/20 border-cyan-700/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-lg font-bold text-cyan-400",children:[y," BPM"]}),i.jsxs("div",{className:"text-xs text-cyan-300",children:["Tap detected (",u.length," taps)"]})]}),i.jsx(Se,{size:"sm",onClick:P,className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:"Apply"})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium dropsource-text-primary",children:"Metronome"}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(Se,{size:"lg",onClick:N,className:`flex-1 mr-4 ${n?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?i.jsxs(i.Fragment,{children:[i.jsx(Xh,{className:"w-5 h-5 mr-2"}),"Stop"]}):i.jsxs(i.Fragment,{children:[i.jsx(_c,{className:"w-5 h-5 mr-2"}),"Start"]})})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(GC,{className:"w-4 h-4 dropsource-text-secondary"}),i.jsxs("label",{className:"text-sm dropsource-text-secondary",children:["Volume: ",Math.round(l*100),"%"]})]}),i.jsx(j0,{value:[l],onValueChange:M=>d(M[0]),max:1,min:0,step:.1,className:"w-full"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium dropsource-text-primary mb-3",children:"Common Tempos"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:"Ballad",bpm:80},{name:"Pop",bpm:120},{name:"Rock",bpm:140},{name:"Dance",bpm:128},{name:"Hip-Hop",bpm:95},{name:"House",bpm:130}].map(M=>i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>k(M.bpm),className:"border-gray-600 dropsource-text-secondary hover:text-cyan-400 hover:border-cyan-400",children:[M.name," (",M.bpm,")"]},M.name))})]})]})]})}function $9(){const[r,e]=b.useState([{id:"1",type:"ai",content:"Hello! I'm your AI songwriting assistant. I can help you with lyrics, chord progressions, song structure, rhymes, and creative inspiration. What would you like to work on today?",timestamp:new Date}]),[t,s]=b.useState(""),[n,o]=b.useState(!1),l=b.useRef(null),d=["Here are some rhymes for that word: {word}. Try incorporating them into your verse!","For a song in that mood, I'd suggest using minor chords like Am, Dm, and Em. They create a melancholic feeling.","That's a great lyrical concept! Consider exploring the emotions from different angles - maybe add a bridge that shows hope?","Try this chord progression: C - Am - F - G. It's versatile and works well for both verses and choruses.","Your lyrics have a nice flow! You might want to vary the syllable count in some lines to create more rhythmic interest.","That theme reminds me of classic songs like 'Hotel California' - you could use similar storytelling techniques."];b.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[r]);const u=async()=>{if(!t.trim())return;const m={id:Date.now().toString(),type:"user",content:t,timestamp:new Date};e(y=>[...y,m]),s(""),o(!0),setTimeout(()=>{const y={id:(Date.now()+1).toString(),type:"ai",content:d[Math.floor(Math.random()*d.length)],timestamp:new Date};e(x=>[...x,y]),o(!1)},1e3+Math.random()*1500)},h=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),u())},p=({message:m})=>i.jsxs("div",{className:`flex gap-3 ${m.type==="user"?"justify-end":"justify-start"}`,children:[m.type==="ai"&&i.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full dropsource-gradient flex items-center justify-center dropsource-glow-blue",children:i.jsx(yg,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{className:`max-w-[80%] ${m.type==="user"?"order-first":""}`,children:[i.jsx("div",{className:`
            p-3 rounded-2xl
            ${m.type==="ai"?"bg-gray-900/70 dropsource-text-primary border border-cyan-500/30 dropsource-glow-cyan":"bg-gray-800 dropsource-text-primary border border-gray-600"}
          `,children:m.content}),i.jsx("div",{className:"dropsource-text-secondary text-xs mt-1 px-3",children:m.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),m.type==="user"&&i.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:i.jsx(q3,{className:"w-4 h-4 dropsource-text-secondary"})})]});return i.jsxs("div",{className:"h-full overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-gray-900/50 rounded-lg border border-gray-700 flex-shrink-0",children:[i.jsx(Jr,{className:"w-5 h-5 text-cyan-400 dropsource-glow-cyan"}),i.jsx("h4",{className:"dropsource-text-primary font-medium",children:"AI Songwriting Assistant"}),i.jsx("div",{className:"ml-auto",children:i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})})]}),i.jsx("div",{className:"flex-1 overflow-hidden mb-4",children:i.jsx(hn,{className:"h-full p-4 bg-gray-900/30 rounded-lg border border-gray-700",ref:l,children:i.jsxs("div",{className:"space-y-4",children:[r.map(m=>i.jsx(p,{message:m},m.id)),n&&i.jsxs("div",{className:"flex gap-3 justify-start",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full dropsource-gradient flex items-center justify-center dropsource-glow-blue",children:i.jsx(yg,{className:"w-4 h-4 text-white"})}),i.jsx("div",{className:"bg-gray-900/70 p-3 rounded-2xl border border-cyan-500/30",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})})}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[i.jsx(Cr,{value:t,onChange:m=>s(m.target.value),onKeyPress:h,placeholder:"Ask me about lyrics, chords, song structure...",className:"flex-1 bg-gray-900/50 border-gray-700 dropsource-text-primary focus:dropsource-glow-cyan focus:border-cyan-500",disabled:n}),i.jsx(Se,{onClick:u,disabled:!t.trim()||n,className:"dropsource-gradient hover:dropsource-glow-blue disabled:opacity-50",children:i.jsx(Mc,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"mt-4 flex-shrink-0",children:[i.jsx("div",{className:"dropsource-text-secondary text-sm mb-2",children:"Quick suggestions:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Help me write a chorus","Suggest chord progressions",'Find rhymes for "love"',"Song structure ideas"].map(m=>i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>s(m),className:"dropsource-border-glow hover:dropsource-glow-cyan text-xs",children:m},m))})]})]})}function G9(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const Y9=r=>{switch(r){case"success":return q9;case"info":return J9;case"warning":return Z9;case"error":return Q9;default:return null}},X9=Array(12).fill(0),K9=({visible:r,className:e})=>je.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},je.createElement("div",{className:"sonner-spinner"},X9.map((t,s)=>je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),q9=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Z9=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),J9=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Q9=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),e7=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),t7=()=>{const[r,e]=je.useState(document.hidden);return je.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let N0=1;class r7{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...n}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:N0++,l=this.toasts.find(u=>u.id===o),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:s}),{...u,...e,id:o,dismissible:d,title:s}):u):this.addToast({title:s,...n,dismissible:d,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const n=Promise.resolve(e instanceof Function?e():e);let o=s!==void 0,l;const d=n.then(async h=>{if(l=["resolve",h],je.isValidElement(h))o=!1,this.create({id:s,type:"default",message:h});else if(n7(h)&&!h.ok){o=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description,v=typeof m=="object"&&!je.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:y,...v})}else if(h instanceof Error){o=!1;const m=typeof t.error=="function"?await t.error(h):t.error,y=typeof t.description=="function"?await t.description(h):t.description,v=typeof m=="object"&&!je.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:y,...v})}else if(t.success!==void 0){o=!1;const m=typeof t.success=="function"?await t.success(h):t.success,y=typeof t.description=="function"?await t.description(h):t.description,v=typeof m=="object"&&!je.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:y,...v})}}).catch(async h=>{if(l=["reject",h],t.error!==void 0){o=!1;const p=typeof t.error=="function"?await t.error(h):t.error,m=typeof t.description=="function"?await t.description(h):t.description,x=typeof p=="object"&&!je.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:m,...x})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),u=()=>new Promise((h,p)=>d.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(e,t)=>{const s=t?.id||N0++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ir=new r7,s7=(r,e)=>{const t=e?.id||N0++;return Ir.addToast({title:r,...e,id:t}),t},n7=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",o7=s7,i7=()=>Ir.toasts,a7=()=>Ir.getActiveToasts(),JT=Object.assign(o7,{success:Ir.success,info:Ir.info,warning:Ir.warning,error:Ir.error,custom:Ir.custom,message:Ir.message,promise:Ir.promise,dismiss:Ir.dismiss,loading:Ir.loading},{getHistory:i7,getToasts:a7});G9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ru(r){return r.label!==void 0}const l7=3,c7="24px",d7="16px",r2=4e3,u7=356,h7=14,f7=45,p7=200;function Qs(...r){return r.filter(Boolean).join(" ")}function m7(r){const[e,t]=r.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const g7=r=>{var e,t,s,n,o,l,d,u,h;const{invert:p,toast:m,unstyled:y,interacting:x,setHeights:v,visibleToasts:w,heights:j,index:C,toasts:N,expanded:k,removeToast:_,defaultRichColors:P,closeButton:D,style:M,cancelButtonStyle:E,actionButtonStyle:R,className:O="",descriptionClassName:B="",duration:L,position:$,gap:J,expandByDefault:ce,classNames:V,icons:X,closeButtonAriaLabel:F="Close toast"}=r,[ee,H]=je.useState(null),[z,Z]=je.useState(null),[q,oe]=je.useState(!1),[he,fe]=je.useState(!1),[G,Q]=je.useState(!1),[de,me]=je.useState(!1),[_e,Ve]=je.useState(!1),[be,pe]=je.useState(0),[re,ge]=je.useState(0),ae=je.useRef(m.duration||L||r2),ve=je.useRef(null),Re=je.useRef(null),Pe=C===0,Je=C+1<=w,He=m.type,le=m.dismissible!==!1,Ge=m.className||"",st=m.descriptionClassName||"",ct=je.useMemo(()=>j.findIndex(qe=>qe.toastId===m.id)||0,[j,m.id]),vt=je.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:D},[m.closeButton,D]),jr=je.useMemo(()=>m.duration||L||r2,[m.duration,L]),Gs=je.useRef(0),Dt=je.useRef(0),hr=je.useRef(0),ue=je.useRef(null),[Ne,we]=$.split("-"),Me=je.useMemo(()=>j.reduce((qe,Ot,Kt)=>Kt>=ct?qe:qe+Ot.height,0),[j,ct]),We=t7(),Uo=m.invert||p,$o=He==="loading";Dt.current=je.useMemo(()=>ct*J+Me,[ct,Me]),je.useEffect(()=>{ae.current=jr},[jr]),je.useEffect(()=>{oe(!0)},[]),je.useEffect(()=>{const qe=Re.current;if(qe){const Ot=qe.getBoundingClientRect().height;return ge(Ot),v(Kt=>[{toastId:m.id,height:Ot,position:m.position},...Kt]),()=>v(Kt=>Kt.filter(fr=>fr.toastId!==m.id))}},[v,m.id]),je.useLayoutEffect(()=>{if(!q)return;const qe=Re.current,Ot=qe.style.height;qe.style.height="auto";const Kt=qe.getBoundingClientRect().height;qe.style.height=Ot,ge(Kt),v(fr=>fr.find(Ut=>Ut.toastId===m.id)?fr.map(Ut=>Ut.toastId===m.id?{...Ut,height:Kt}:Ut):[{toastId:m.id,height:Kt,position:m.position},...fr])},[q,m.title,m.description,v,m.id,m.jsx,m.action,m.cancel]);const ns=je.useCallback(()=>{fe(!0),pe(Dt.current),v(qe=>qe.filter(Ot=>Ot.toastId!==m.id)),setTimeout(()=>{_(m)},p7)},[m,_,v,Dt]);je.useEffect(()=>{if(m.promise&&He==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return k||x||We?(()=>{if(hr.current<Gs.current){const fr=new Date().getTime()-Gs.current;ae.current=ae.current-fr}hr.current=new Date().getTime()})():(()=>{ae.current!==1/0&&(Gs.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),ns()},ae.current))})(),()=>clearTimeout(qe)},[k,x,m,He,We,ns]),je.useEffect(()=>{m.delete&&(ns(),m.onDismiss==null||m.onDismiss.call(m,m))},[ns,m.delete]);function Ka(){var qe;if(X?.loading){var Ot;return je.createElement("div",{className:Qs(V?.loader,m==null||(Ot=m.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":He==="loading"},X.loading)}return je.createElement(K9,{className:Qs(V?.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:He==="loading"})}const qn=m.icon||X?.[He]||Y9(He);var kn,qa;return je.createElement("li",{tabIndex:0,ref:Re,className:Qs(O,Ge,V?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,V?.default,V?.[He],m==null||(t=m.classNames)==null?void 0:t[He]),"data-sonner-toast":"","data-rich-colors":(kn=m.richColors)!=null?kn:P,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":_e,"data-removed":he,"data-visible":Je,"data-y-position":Ne,"data-x-position":we,"data-index":C,"data-front":Pe,"data-swiping":G,"data-dismissible":le,"data-type":He,"data-invert":Uo,"data-swipe-out":de,"data-swipe-direction":z,"data-expanded":!!(k||ce&&q),"data-testid":m.testId,style:{"--index":C,"--toasts-before":C,"--z-index":N.length-C,"--offset":`${he?be:Dt.current}px`,"--initial-height":ce?"auto":`${re}px`,...M,...m.style},onDragEnd:()=>{Q(!1),H(null),ue.current=null},onPointerDown:qe=>{qe.button!==2&&($o||!le||(ve.current=new Date,pe(Dt.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Q(!0),ue.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,Ot,Kt;if(de||!le)return;ue.current=null;const fr=Number(((qe=Re.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Zn=Number(((Ot=Re.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((Kt=ve.current)==null?void 0:Kt.getTime()),rr=ee==="x"?fr:Zn,Jn=Math.abs(rr)/Ut;if(Math.abs(rr)>=f7||Jn>.11){pe(Dt.current),m.onDismiss==null||m.onDismiss.call(m,m),Z(ee==="x"?fr>0?"right":"left":Zn>0?"down":"up"),ns(),me(!0);return}else{var ir,Gr;(ir=Re.current)==null||ir.style.setProperty("--swipe-amount-x","0px"),(Gr=Re.current)==null||Gr.style.setProperty("--swipe-amount-y","0px")}Ve(!1),Q(!1),H(null)},onPointerMove:qe=>{var Ot,Kt,fr;if(!ue.current||!le||((Ot=window.getSelection())==null?void 0:Ot.toString().length)>0)return;const Ut=qe.clientY-ue.current.y,rr=qe.clientX-ue.current.x;var Jn;const ir=(Jn=r.swipeDirections)!=null?Jn:m7($);!ee&&(Math.abs(rr)>1||Math.abs(Ut)>1)&&H(Math.abs(rr)>Math.abs(Ut)?"x":"y");let Gr={x:0,y:0};const Qn=os=>1/(1.5+Math.abs(os)/20);if(ee==="y"){if(ir.includes("top")||ir.includes("bottom"))if(ir.includes("top")&&Ut<0||ir.includes("bottom")&&Ut>0)Gr.y=Ut;else{const os=Ut*Qn(Ut);Gr.y=Math.abs(os)<Math.abs(Ut)?os:Ut}}else if(ee==="x"&&(ir.includes("left")||ir.includes("right")))if(ir.includes("left")&&rr<0||ir.includes("right")&&rr>0)Gr.x=rr;else{const os=rr*Qn(rr);Gr.x=Math.abs(os)<Math.abs(rr)?os:rr}(Math.abs(Gr.x)>0||Math.abs(Gr.y)>0)&&Ve(!0),(Kt=Re.current)==null||Kt.style.setProperty("--swipe-amount-x",`${Gr.x}px`),(fr=Re.current)==null||fr.style.setProperty("--swipe-amount-y",`${Gr.y}px`)}},vt&&!m.jsx&&He!=="loading"?je.createElement("button",{"aria-label":F,"data-disabled":$o,"data-close-button":!0,onClick:$o||!le?()=>{}:()=>{ns(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Qs(V?.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(qa=X?.close)!=null?qa:e7):null,(He||m.icon||m.promise)&&m.icon!==null&&(X?.[He]!==null||m.icon)?je.createElement("div",{"data-icon":"",className:Qs(V?.icon,m==null||(n=m.classNames)==null?void 0:n.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ka():null,m.type!=="loading"?qn:null):null,je.createElement("div",{"data-content":"",className:Qs(V?.content,m==null||(o=m.classNames)==null?void 0:o.content)},je.createElement("div",{"data-title":"",className:Qs(V?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?je.createElement("div",{"data-description":"",className:Qs(B,st,V?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),je.isValidElement(m.cancel)?m.cancel:m.cancel&&Ru(m.cancel)?je.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:qe=>{Ru(m.cancel)&&le&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),ns())},className:Qs(V?.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,je.isValidElement(m.action)?m.action:m.action&&Ru(m.action)?je.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:qe=>{Ru(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&ns())},className:Qs(V?.actionButton,m==null||(h=m.classNames)==null?void 0:h.actionButton)},m.action.label):null)};function s2(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function y7(r,e){const t={};return[r,e].forEach((s,n)=>{const o=n===1,l=o?"--mobile-offset":"--offset",d=o?d7:c7;function u(h){["top","right","bottom","left"].forEach(p=>{t[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?t[`${l}-${h}`]=d:t[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):u(d)}),t}const x7=je.forwardRef(function(e,t){const{id:s,invert:n,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:u,className:h,offset:p,mobileOffset:m,theme:y="light",richColors:x,duration:v,style:w,visibleToasts:j=l7,toastOptions:C,dir:N=s2(),gap:k=h7,icons:_,containerAriaLabel:P="Notifications"}=e,[D,M]=je.useState([]),E=je.useMemo(()=>s?D.filter(q=>q.toasterId===s):D.filter(q=>!q.toasterId),[D,s]),R=je.useMemo(()=>Array.from(new Set([o].concat(E.filter(q=>q.position).map(q=>q.position)))),[E,o]),[O,B]=je.useState([]),[L,$]=je.useState(!1),[J,ce]=je.useState(!1),[V,X]=je.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=je.useRef(null),ee=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=je.useRef(null),z=je.useRef(!1),Z=je.useCallback(q=>{M(oe=>{var he;return(he=oe.find(fe=>fe.id===q.id))!=null&&he.delete||Ir.dismiss(q.id),oe.filter(({id:fe})=>fe!==q.id)})},[]);return je.useEffect(()=>Ir.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{M(oe=>oe.map(he=>he.id===q.id?{...he,delete:!0}:he))});return}setTimeout(()=>{L2.flushSync(()=>{M(oe=>{const he=oe.findIndex(fe=>fe.id===q.id);return he!==-1?[...oe.slice(0,he),{...oe[he],...q},...oe.slice(he+1)]:[q,...oe]})})})}),[D]),je.useEffect(()=>{if(y!=="system"){X(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:oe})=>{X(oe?"dark":"light")})}catch{q.addListener(({matches:he})=>{try{X(he?"dark":"light")}catch(fe){console.error(fe)}})}},[y]),je.useEffect(()=>{D.length<=1&&$(!1)},[D]),je.useEffect(()=>{const q=oe=>{var he;if(l.every(Q=>oe[Q]||oe.code===Q)){var G;$(!0),(G=F.current)==null||G.focus()}oe.code==="Escape"&&(document.activeElement===F.current||(he=F.current)!=null&&he.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[l]),je.useEffect(()=>{if(F.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,z.current=!1)}},[F.current]),je.createElement("section",{ref:t,"aria-label":`${P} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((q,oe)=>{var he;const[fe,G]=q.split("-");return E.length?je.createElement("ol",{key:q,dir:N==="auto"?s2():N,tabIndex:-1,ref:F,className:h,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":fe,"data-x-position":G,style:{"--front-toast-height":`${((he=O[0])==null?void 0:he.height)||0}px`,"--width":`${u7}px`,"--gap":`${k}px`,...w,...y7(p,m)},onBlur:Q=>{z.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(z.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||z.current||(z.current=!0,H.current=Q.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{J||$(!1)},onDragEnd:()=>$(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},E.filter(Q=>!Q.position&&oe===0||Q.position===q).map((Q,de)=>{var me,_e;return je.createElement(g7,{key:Q.id,icons:_,index:de,toast:Q,defaultRichColors:x,duration:(me=C?.duration)!=null?me:v,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:n,visibleToasts:j,closeButton:(_e=C?.closeButton)!=null?_e:u,interacting:J,position:q,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:Z,toasts:E.filter(Ve=>Ve.position==Q.position),heights:O.filter(Ve=>Ve.position==Q.position),setHeights:B,expandByDefault:d,gap:k,expanded:L,swipeDirections:e.swipeDirections})})):null}))});function v7(){const[r]=b.useState("https://dropsource.app/invite/abc123xyz"),[e]=b.useState([{id:"1",name:"Alex Rivers",role:"owner",status:"online"},{id:"2",name:"Jordan Blake",role:"editor",status:"online"},{id:"3",name:"Casey Morgan",role:"viewer",status:"offline"}]),t=()=>{navigator.clipboard.writeText(r),JT.success("Invite link copied to clipboard!")},s=o=>{switch(o){case"owner":return i.jsx(hh,{className:"w-3 h-3"});case"editor":return i.jsx(kg,{className:"w-3 h-3"});case"viewer":return i.jsx(ka,{className:"w-3 h-3"});default:return i.jsx(ss,{className:"w-3 h-3"})}},n=o=>{switch(o){case"owner":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"editor":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"viewer":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return i.jsxs("div",{className:"space-y-4 h-full overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsx("div",{className:"p-2 rounded-lg dropsource-gradient",children:i.jsx(ss,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"dropsource-text-primary font-medium",children:"Collaboration"}),i.jsx("p",{className:"text-sm dropsource-text-secondary",children:"Invite others to write together"})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm dropsource-text-secondary mb-2",children:"Share Invite Link"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Cr,{value:r,readOnly:!0,className:"flex-1 bg-gray-800/50 border-gray-600 dropsource-text-primary"}),i.jsx(Se,{onClick:t,className:"dropsource-gradient hover:dropsource-glow-blue",children:i.jsx(On,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-xs dropsource-text-secondary mt-1",children:"Anyone with this link can edit this project"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Se,{variant:"outline",size:"sm",className:"flex-1 border-gray-600 hover:border-cyan-500 dropsource-text-secondary hover:text-cyan-400",children:"Generate New Link"}),i.jsx(Se,{variant:"outline",size:"sm",className:"flex-1 border-gray-600 hover:border-cyan-500 dropsource-text-secondary hover:text-cyan-400",children:"Set Permissions"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"dropsource-text-primary font-medium",children:"Active Collaborators"}),i.jsxs(ft,{variant:"outline",className:"text-xs dropsource-text-secondary",children:[e.filter(o=>o.status==="online").length," online"]})]}),i.jsx("div",{className:"space-y-2",children:e.map(o=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-800/30 border border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:o.name.split(" ").map(l=>l[0]).join("")})}),i.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-gray-800 ${o.status==="online"?"bg-green-500":"bg-gray-500"}`})]}),i.jsxs("div",{children:[i.jsx("p",{className:"dropsource-text-primary text-sm font-medium",children:o.name}),i.jsx("p",{className:"text-xs dropsource-text-secondary",children:o.status})]})]}),i.jsxs(ft,{variant:"outline",className:`text-xs flex items-center gap-1 ${n(o.role)}`,children:[s(o.role),o.role]})]},o.id))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"dropsource-text-primary font-medium",children:"Real-time Features"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-gray-800/30 border border-gray-700 text-center",children:[i.jsx("div",{className:"w-6 h-6 mx-auto mb-1 text-green-400",children:"✓"}),i.jsx("p",{className:"text-xs dropsource-text-secondary",children:"Live Cursors"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-gray-800/30 border border-gray-700 text-center",children:[i.jsx("div",{className:"w-6 h-6 mx-auto mb-1 text-green-400",children:"✓"}),i.jsx("p",{className:"text-xs dropsource-text-secondary",children:"Auto-save"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-gray-800/30 border border-gray-700 text-center",children:[i.jsx("div",{className:"w-6 h-6 mx-auto mb-1 text-green-400",children:"✓"}),i.jsx("p",{className:"text-xs dropsource-text-secondary",children:"Voice Chat"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-gray-800/30 border border-gray-700 text-center",children:[i.jsx("div",{className:"w-6 h-6 mx-auto mb-1 text-blue-400",children:"⚡"}),i.jsx("p",{className:"text-xs dropsource-text-secondary",children:"Coming Soon"})]})]})]}),i.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10 border border-cyan-500/30",children:i.jsx("p",{className:"text-xs text-cyan-400 text-center",children:"🚀 Demo Mode - Real collaboration features coming in full version!"})})]})]})}function b7({className:r}){const e=b.useRef(null),t=b.useRef(0),s=b.useRef(!1),n=b.useRef(0);return b.useEffect(()=>{const o=e.current;if(!o)return;const l=o.getContext("2d");if(!l)return;n.current===0&&(n.current=performance.now());const d=()=>{const x=window.devicePixelRatio||1,v=window.innerWidth,w=window.innerHeight;o.width=v*x,o.height=w*x,o.style.width=v+"px",o.style.height=w+"px",l.scale(x,x),l.imageSmoothingEnabled=!0},u=[{count:28,minSize:2,maxSize:3,minOpacity:.2,maxOpacity:.3,blur:1,twinkleRate:0,driftRangeX:3,driftRangeY:2,drift:!0},{count:24,minSize:3,maxSize:4,minOpacity:.35,maxOpacity:.45,blur:0,twinkleRate:0,driftRangeX:2,driftRangeY:0,drift:!0},{count:18,minSize:4,maxSize:5,minOpacity:.5,maxOpacity:.7,blur:0,twinkleRate:.15,driftRangeX:0,driftRangeY:0,drift:!1}],h=()=>{const x=window.innerWidth,v=window.innerHeight,w=[];return u.forEach(j=>{for(let C=0;C<j.count;C++){const N=Math.random()*x,k=Math.random()*v,_={baseX:N,baseY:k,x:N,y:k,size:j.minSize+Math.random()*(j.maxSize-j.minSize),baseOpacity:j.minOpacity+Math.random()*(j.maxOpacity-j.minOpacity),blur:j.blur,shouldTwinkle:Math.random()<Math.max(j.twinkleRate,.3),twinkleSpeed:Math.PI*2/(2e3+Math.random()*3e3),twinkleStartDelay:Math.random()*2e3,shouldDrift:j.drift,driftRangeX:j.driftRangeX,driftRangeY:j.driftRangeY,driftPhaseX:Math.random()*Math.PI*2,driftPhaseY:Math.random()*Math.PI*2,driftSpeed:Math.PI*2/(6e3+Math.random()*4e3)};w.push(_)}}),w};let p=h();const m=x=>{if(!s.current)return;const v=x-n.current;l.clearRect(0,0,window.innerWidth,window.innerHeight),p.forEach(w=>{let j=w.baseOpacity;if(w.shouldTwinkle&&v>w.twinkleStartDelay){const D=(v-w.twinkleStartDelay)*w.twinkleSpeed,M=.4+.8*(.5+.5*Math.sin(D));j=Math.min(1,w.baseOpacity*M)}let C=w.baseX,N=w.baseY;const _=v*.005%(window.innerWidth+50);if(C=(w.baseX+_)%(window.innerWidth+50),C>window.innerWidth+25&&(C=-25,w.baseX=C-_),w.shouldDrift){const P=v*w.driftSpeed+w.driftPhaseX,D=v*w.driftSpeed+w.driftPhaseY;C=C+Math.sin(P)*w.driftRangeX,N=w.baseY+Math.sin(D)*w.driftRangeY}w.x=C,w.y=N,l.filter=w.blur>0?`blur(${w.blur}px)`:"none",l.globalCompositeOperation="normal",l.beginPath(),l.arc(w.x,w.y,w.size/2,0,Math.PI*2),l.fillStyle=`rgba(255, 255, 255, ${j})`,l.fill()}),l.filter="none",t.current=requestAnimationFrame(m)},y=()=>{d(),p=h()};return d(),s.current=!0,console.log("Starting starfield animation with",p.length,"stars"),t.current=requestAnimationFrame(m),window.addEventListener("resize",y),()=>{s.current=!1,t.current&&cancelAnimationFrame(t.current),window.removeEventListener("resize",y)}},[]),i.jsx("canvas",{ref:e,className:r,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1}})}function w7({className:r}){const e=b.useRef(null);return b.useEffect(()=>{const t=e.current;if(!t)return;const s={maxConcurrent:3,duration:Math.random()*800+1200,delays:[8e3,1e4,12e3,15e3],directions:[{name:"TL→BR",startX:-10,startY:-10,endX:110,endY:110,rotation:45},{name:"TR→BL",startX:110,startY:-10,endX:-10,endY:110,rotation:135},{name:"L→R",startX:-10,startY:50,endX:110,endY:50,rotation:0},{name:"R→L",startX:110,startY:50,endX:-10,endY:50,rotation:180}]};let n=0;const o=[],l=()=>{if(n>=s.maxConcurrent)return;const u=document.createElement("div"),h=s.directions[Math.floor(Math.random()*s.directions.length)];u.style.cssText=`
        position: absolute;
        width: 3px;
        height: 3px;
        background: #FFFFFF;
        border-radius: 50%;
        box-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
        left: ${h.startX}vw;
        top: ${h.startY}vh;
        opacity: 0;
        z-index: 2;
        pointer-events: none;
      `,t.appendChild(u),o.push(u),n++,u.style.transition=`transform ${s.duration}ms linear, opacity ${s.duration}ms ease-out`,u.style.transform=`translate(${h.startX}vw, ${h.startY}vh) rotate(${h.rotation}deg) scale(0.97)`,u.style.opacity="0",requestAnimationFrame(()=>{u.style.opacity="0.8",u.style.transform=`translate(${h.endX}vw, ${h.endY}vh) rotate(${h.rotation}deg) scale(0.95)`}),setTimeout(()=>{u.remove();const p=o.indexOf(u);p>-1&&o.splice(p,1),n--;const m=s.delays[Math.floor(Math.random()*s.delays.length)];setTimeout(l,m)},s.duration)};return[3e3,8e3,15e3].forEach(u=>{setTimeout(l,u)}),()=>{o.forEach(u=>{u.parentNode&&u.remove()})}},[]),i.jsx("div",{ref:e,className:r,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none",zIndex:2}})}function Ll({isVisible:r,className:e}){const[t,s]=b.useState([]),[n,o]=b.useState(0);return b.useEffect(()=>{if(!r){s([]);return}const l=setInterval(()=>{const d=["left","right","top","bottom"],u=d[Math.floor(Math.random()*d.length)];let h,p;switch(u){case"left":h=0,p=Math.random()*100;break;case"right":h=100,p=Math.random()*100;break;case"top":h=Math.random()*100,p=0;break;case"bottom":h=Math.random()*100,p=100;break;default:h=50,p=50}const m={id:n,x:h,y:p,side:u,drift:(Math.random()-.5)*20};s(y=>[...y,m]),o(y=>y+1),setTimeout(()=>{s(y=>y.filter(x=>x.id!==m.id))},1200)},200);return()=>clearInterval(l)},[r,n]),r?i.jsx("div",{className:`absolute inset-0 pointer-events-none overflow-hidden ${e}`,children:t.map(l=>i.jsx("div",{className:"absolute w-1 h-1 rounded-full",style:{left:`${l.x}%`,top:`${l.y}%`,background:"linear-gradient(45deg, #63B3FF 0%, #A987FC 100%)",boxShadow:"0 0 4px rgba(99, 179, 255, 0.8), 0 0 8px rgba(169, 135, 252, 0.4)",animation:"spark-fall 1.2s ease-out forwards","--spark-drift":`${l.drift}px`}},l.id))}):null}function S7(){const[r,e]=b.useState([{label:"Creators",value:12847},{label:"Drops",value:45692},{label:"Stickers Created",value:89431},{label:"Users Online",value:342,isOnline:!0}]),[t,s]=b.useState(null);return b.useEffect(()=>{const n=setInterval(()=>{if(Math.random()<.2){const o=Math.floor(Math.random()*r.length);s(o),setTimeout(()=>{s(null),e(l=>l.map((d,u)=>{if(u===o){let h;if(d.isOnline){const p=Math.floor(Math.random()*5)+1,m=Math.random()<.6?1:-1;h=Math.max(1,d.value+p*m)}else{const p=Math.floor(Math.random()*3)+1;h=d.value+p}return{...d,value:h}}return d}))},300)}},2e3+Math.random()*3e3);return()=>clearInterval(n)},[r]),i.jsxs("div",{className:"flex justify-center gap-8",style:{marginTop:"20px",marginBottom:"20px"},children:[r.map((n,o)=>i.jsxs("div",{className:"text-center relative",style:{transition:"all 300ms ease-out",transform:t===o?"scale(1.05)":"scale(1)"},children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",style:{color:t===o?"#5BE9E9":"rgba(255, 255, 255, 0.9)",textShadow:t===o?"0 0 10px #5BE9E9":"none",transition:"all 300ms ease-out"},children:[i.jsx("span",{style:{fontFamily:"Inter",fontWeight:"700",fontSize:"18px",letterSpacing:"-0.01em",fontVariantNumeric:"tabular-nums"},children:n.value.toLocaleString()}),n.isOnline&&i.jsx("div",{className:"w-2 h-2 rounded-full",style:{background:"#22C55E",boxShadow:"0 0 8px rgba(34, 197, 94, 0.6)",animation:"pulse 2s infinite"}})]}),i.jsx("div",{style:{fontFamily:"Inter",fontWeight:"400",fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",letterSpacing:"0.02em",textTransform:"uppercase"},children:n.label})]},n.label)),i.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }
      `})]})}const C7=["🎉 NEW FEATURE: Voice memo recording now available!","🏆 Weekly beat battle starts in 2 hours!","🔥 Hot trending: Drill beats are taking over!","💫 Special event: Double star weekend!","🎵 Community playlist updated with your submissions!","📢 Welcome to DropSource Community Hub! Connect, create, and showcase your work","🎵 New Creator Spotlight: Check out today's featured artists","⭐ Star Economy is live! Earn stars by participating in the community","🏆 Weekly challenges now available - compete for exclusive rewards"];function n2({onNavigate:r,onOpenFeature:e}){const[t,s]=b.useState({}),[n,o]=b.useState(null),[l,d]=b.useState(3),[u,h]=b.useState(!0);return i.jsxs("div",{className:"h-full overflow-hidden flex flex-col relative",style:{background:"linear-gradient(180deg, #0D0D0D 0%, #121212 100%)",color:"white",position:"relative"},children:[i.jsx("div",{className:"sticky top-0 z-50 overflow-hidden",style:{background:"linear-gradient(90deg, #FFB039 0%, #FF8C42 100%)",height:"36px",borderBottom:"1px solid rgba(255, 176, 57, 0.3)"},children:i.jsx("div",{className:"flex items-center h-full",style:{animation:"scroll-left 25s linear infinite",whiteSpace:"nowrap"},children:i.jsx("div",{className:"flex items-center gap-12 px-4",children:C7.map((p,m)=>i.jsx("span",{className:"text-black font-medium text-sm",children:p},m))})})}),i.jsx(b7,{}),i.jsx(w7,{}),i.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E")`,mixBlendMode:"overlay",zIndex:3}}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-start relative",style:{maxWidth:"1280px",margin:"0 auto",padding:"0 40px 20px 40px",zIndex:4},children:[i.jsxs("div",{className:"text-center",style:{marginTop:"0px",marginBottom:"8px"},children:[i.jsx("h1",{className:"dropsource-logo-enhanced",style:{fontSize:"54px",fontWeight:"900",fontFamily:"Inter",background:"linear-gradient(90deg, #B8E6F0 0%, #98C1F5 20%, #7DA8F7 40%, #B19CD9 60%, #C8A2C8 80%, #DDA0DD 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-0.03em",textShadow:"0 0 30px rgba(184, 230, 240, 0.4), 0 0 60px rgba(177, 156, 217, 0.3)",filter:"drop-shadow(0 0 25px rgba(255, 255, 255, 0.15))",margin:0,position:"relative"},children:"Drop Source"}),i.jsx(S7,{})]}),i.jsxs("div",{className:"flex gap-10",style:{marginTop:"8px",marginBottom:"16px",gap:"40px",justifyContent:"center"},children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute",style:{width:"456px",height:"636px",left:"-18px",top:"-18px",borderRadius:"16px",background:"radial-gradient(ellipse at 50% 50%, #5BE9E9 0%, transparent 70%)",filter:"blur(55px)",animation:"community-halo-animate 14s ease-in-out infinite",zIndex:0,maskImage:"radial-gradient(ellipse at center, black 70%, transparent 90%)",WebkitMaskImage:"radial-gradient(ellipse at center, black 70%, transparent 90%)"}}),i.jsxs("div",{className:"relative group cursor-pointer",onMouseEnter:()=>o("community"),onMouseLeave:()=>o(null),onClick:()=>r("community-feed"),style:{width:"420px",height:"600px",borderRadius:"12px",background:"linear-gradient(180deg, #1A1033 0%, #2A1F4D 100%)",border:"1px solid transparent",borderImage:"linear-gradient(180deg, rgba(30, 144, 255, 0.4), rgba(91, 233, 233, 0.4)) 1",backdropFilter:"blur(20px)",boxShadow:"inset 0 6px 30px rgba(0, 0, 0, 0.12), 0 0 1px rgba(138, 43, 226, 0.3)",transform:n==="community"?"scale(1.03)":"scale(1)",transition:"250ms ease-out",filter:n==="community"?"brightness(1.08)":"brightness(1)",position:"relative",zIndex:2},children:[i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise2'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise2)' opacity='0.08'/%3E%3C/svg%3E")`,borderRadius:"12px",opacity:.7,mixBlendMode:"overlay"}}),i.jsx(Ll,{isVisible:n==="community"}),i.jsxs("div",{className:"relative z-10 p-12 h-full flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"text-6xl mb-8 dropsource-emoji-float",style:{"--emoji-delay":"0ms"},children:"✨🫂✨"}),i.jsx("h2",{style:{fontFamily:"Inter",fontWeight:"800",fontSize:"36px",color:"white",letterSpacing:"-0.02em",textShadow:"0 2px 6px rgba(0, 0, 0, 0.25), 0 0 24px rgba(255, 209, 102, 0.18), 0 0 24px rgba(91, 233, 233, 0.18), inset 0 0 4px rgba(0, 0, 0, 0.1)",marginBottom:"24px"},children:"Community HUB"}),i.jsx("p",{style:{fontFamily:"Inter",fontWeight:"400",fontSize:"16px",color:"#B0B0B0",lineHeight:"1.5",maxWidth:"280px"},children:"Welcome to DropSource! Share your creation with the community!"})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute",style:{width:"456px",height:"636px",left:"-18px",top:"-18px",borderRadius:"16px",background:"radial-gradient(ellipse at 50% 50%, #FFD166 0%, transparent 70%)",opacity:.2,filter:"blur(55px)",animation:"pad-halo-animate 15s ease-in-out infinite",zIndex:0,maskImage:"radial-gradient(ellipse at center, black 70%, transparent 90%)",WebkitMaskImage:"radial-gradient(ellipse at center, black 70%, transparent 90%)"}}),i.jsxs("div",{className:"relative group cursor-pointer",onMouseEnter:()=>o("pad"),onMouseLeave:()=>o(null),onClick:()=>r("pad"),style:{width:"420px",height:"600px",borderRadius:"12px",background:"linear-gradient(180deg, #081526 0%, #0F244F 100%)",border:"1px solid transparent",borderImage:"linear-gradient(180deg, rgba(138, 43, 226, 0.4), rgba(255, 215, 0, 0.3)) 1",backdropFilter:"blur(20px)",boxShadow:"inset 0 6px 30px rgba(0, 0, 0, 0.12), 0 0 1px rgba(30, 144, 255, 0.3)",transform:n==="pad"?"scale(1.03)":"scale(1)",transition:"250ms ease-out",filter:n==="pad"?"brightness(1.08)":"brightness(1)",position:"relative",zIndex:2},children:[i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise3'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise3)' opacity='0.08'/%3E%3C/svg%3E")`,borderRadius:"12px",opacity:.7,mixBlendMode:"overlay"}}),i.jsx(Ll,{isVisible:n==="pad"}),i.jsxs("div",{className:"relative z-10 p-12 h-full flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"text-6xl mb-8 dropsource-emoji-float",style:{"--emoji-delay":"800ms"},children:"📝"}),i.jsx("h2",{style:{fontFamily:"Inter",fontWeight:"800",fontSize:"36px",color:"white",letterSpacing:"-0.02em",textShadow:"0 2px 6px rgba(0, 0, 0, 0.25), 0 0 24px rgba(255, 209, 102, 0.18), 0 0 24px rgba(91, 233, 233, 0.18), inset 0 0 4px rgba(0, 0, 0, 0.1)",marginBottom:"24px"},children:"Pad"}),i.jsx("p",{style:{fontFamily:"Inter",fontWeight:"400",fontSize:"16px",color:"#B0B0B0",lineHeight:"1.5",maxWidth:"280px"},children:"Your creative workspace"})]})]})]})]}),i.jsxs("div",{className:"flex gap-8",style:{marginBottom:"20px",gap:"40px",justifyContent:"center"},children:[i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>r("dcp"),onMouseEnter:()=>o("dcp"),onMouseLeave:()=>o(null),style:{width:"300px",height:"400px",borderRadius:"10px",background:"#1a1a1a",border:"1px solid rgba(91, 233, 233, 0.15)",backdropFilter:"blur(20px)",boxShadow:"0 0 40px rgba(255, 209, 102, 0.15)",transition:"all 250ms ease-out",transform:n==="dcp"?"translateY(-4px)":"translateY(0)"},children:[i.jsx(Ll,{isVisible:n==="dcp"}),i.jsxs("div",{className:"relative z-10 p-8 h-full flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"text-5xl mb-6 dropsource-emoji-float",style:{"--emoji-delay":"400ms"},children:"📬"}),i.jsx("h3",{style:{fontFamily:"Inter",fontWeight:"600",fontSize:"22px",color:"white",letterSpacing:"-0.02em",textShadow:"0 2px 6px rgba(0, 0, 0, 0.25), 0 0 18px rgba(255, 209, 102, 0.18), 0 0 18px rgba(91, 233, 233, 0.18)",marginBottom:"16px"},children:"DCP"}),i.jsx("p",{style:{fontFamily:"Inter",fontWeight:"400",fontSize:"16px",color:"#B0B0B0",lineHeight:"1.5",textAlign:"center"},children:"Direct Contact Portal - Message creators directly. No gatekeeping."})]})]}),i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>r("news"),onMouseEnter:()=>o("news"),onMouseLeave:()=>o(null),style:{width:"300px",height:"400px",borderRadius:"10px",background:"#1a1a1a",border:"1px solid rgba(255, 209, 102, 0.15)",backdropFilter:"blur(20px)",boxShadow:"0 0 40px rgba(91, 233, 233, 0.15)",transition:"all 250ms ease-out",transform:n==="news"?"translateY(-4px)":"translateY(0)"},children:[i.jsx(Ll,{isVisible:n==="news"}),i.jsxs("div",{className:"relative z-10 p-8 h-full flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"text-5xl mb-6 dropsource-emoji-float",style:{"--emoji-delay":"1200ms"},children:"📰"}),i.jsx("h3",{style:{fontFamily:"Inter",fontWeight:"600",fontSize:"22px",color:"white",letterSpacing:"-0.02em",textShadow:"0 2px 6px rgba(0, 0, 0, 0.25), 0 0 18px rgba(255, 209, 102, 0.18), 0 0 18px rgba(91, 233, 233, 0.18)",marginBottom:"16px"},children:"Drop NEWS"}),i.jsx("p",{style:{fontFamily:"Inter",fontWeight:"400",fontSize:"16px",color:"#B0B0B0",lineHeight:"1.5",textAlign:"center"},children:"Platform updates + spotlighted creators."})]})]}),i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>window.open("https://kickstarter.com","_blank"),onMouseEnter:()=>o("kickstarter"),onMouseLeave:()=>o(null),style:{width:"300px",height:"400px",borderRadius:"10px",background:"#1a1a1a",border:"1px solid rgba(255, 107, 170, 0.3)",backdropFilter:"blur(20px)",boxShadow:"0 0 40px rgba(255, 107, 170, 0.15)",transition:"all 250ms ease-out",transform:n==="kickstarter"?"translateY(-4px)":"translateY(0)"},children:[i.jsx(Ll,{isVisible:n==="kickstarter"}),i.jsxs("div",{className:"relative z-10 p-8 h-full flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"text-5xl mb-6 dropsource-emoji-float",style:{"--emoji-delay":"1600ms"},children:"🚀"}),i.jsx("h3",{style:{fontFamily:"Inter",fontWeight:"600",fontSize:"22px",color:"white",letterSpacing:"-0.02em",textShadow:"0 2px 6px rgba(0, 0, 0, 0.25), 0 0 18px rgba(255, 209, 102, 0.18), 0 0 18px rgba(91, 233, 233, 0.18)",marginBottom:"16px"},children:"Kickstarter"}),i.jsx("p",{style:{fontFamily:"Inter",fontWeight:"400",fontSize:"16px",color:"#B0B0B0",lineHeight:"1.5",textAlign:"center",marginBottom:"16px"},children:"Fund the community-owned creator hub"}),i.jsx("div",{style:{background:"linear-gradient(90deg, #FF6BAA 0%, #FFD166 100%)",color:"#000",borderRadius:"8px",padding:"8px 16px",fontWeight:"600",fontSize:"14px",display:"inline-block"},children:"🎯 Back Us Now"})]})]})]})]})]})}const o2={Reactions:["🔥","💯","💎","⭐","🎵","🎶","👏","💪","🙌","❤️","😍","🤩"],Music:["🎤","🎧","🎸","🥁","🎹"," trumpet","🎷","🎻","🎼","🎵","🎶","🔊"],Faces:["😀","😂","🤣","😊","😎","🤔","😮","😍","🥳","🔥","💀","👻"],Objects:["💰","💎","🏆","👑","⚡","💫","✨","🌟","🔮","🎭","🎪","🎨"]};function k7({onEmojiSelect:r,onClose:e,position:t={x:0,y:0}}){const[s,n]=b.useState("Reactions");return i.jsx("div",{className:"fixed",style:{left:t.x,top:t.y,transform:"translate(-50%, -100%)",zIndex:9999,overflow:"visible"},children:i.jsxs(es,{className:"dropsource-card",style:{width:"300px",maxHeight:"400px",overflow:"visible",zIndex:9999},children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[i.jsx("h3",{className:"font-semibold dropsource-text-primary",children:"Add Reaction"}),i.jsx(Se,{size:"sm",variant:"ghost",onClick:e,className:"dropsource-toolbar-button p-1",children:i.jsx(kr,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex border-b border-gray-700",children:Object.keys(o2).map(o=>i.jsx("button",{onClick:()=>n(o),className:`px-3 py-2 text-xs transition-all ${s===o?"dropsource-text-primary border-b-2 border-teal-400":"dropsource-text-secondary hover:dropsource-text-primary"}`,children:o},o))}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"grid grid-cols-6 gap-2",children:o2[s].map((o,l)=>i.jsx("button",{onClick:()=>{r(o),e()},className:"w-8 h-8 flex items-center justify-center text-lg hover:bg-gray-700 rounded transition-colors",children:o},l))})})]})})}const j7=[{id:"1",title:"Midnight Memories",username:"beatmaker_pro",price:50,priceType:"stars",reactions:[{emoji:"🔥",count:12},{emoji:"💎",count:8},{emoji:"🎵",count:15}]},{id:"2",title:"Summer Vibes Loop",username:"lo_fi_queen",price:25,priceType:"dollar",reactions:[{emoji:"☀️",count:20},{emoji:"🌊",count:6},{emoji:"💝",count:4}]},{id:"3",title:"Dark Synthwave",username:"synth_master",price:75,priceType:"stars",reactions:[{emoji:"🌙",count:18},{emoji:"⚡",count:11},{emoji:"🖤",count:9}]},{id:"4",title:"Acoustic Dreams",username:"guitar_soul",price:40,priceType:"dollar",reactions:[{emoji:"🎸",count:22},{emoji:"✨",count:13},{emoji:"🎶",count:7}]}],i2=[{id:"1",type:"status",username:"UserX",action:"Just posted a new status!",timestamp:"2 min ago"},{id:"2",type:"reaction",username:"UserY",action:"reacted 😂 to",target:"UserZ's post",timestamp:"5 min ago"},{id:"3",type:"donation",username:"UserA",action:"donated $5 to",target:"UserB",timestamp:"12 min ago"},{id:"4",type:"event",username:"beatmaker_supreme",action:"joined the community",timestamp:"18 min ago"},{id:"5",type:"status",username:"lo_fi_goddess",action:"shared a new track preview",timestamp:"25 min ago"},{id:"6",type:"reaction",username:"synth_lover",action:"reacted 🔥 to",target:"VibeMaster's drop",timestamp:"32 min ago"}];function N7({onNavigate:r}){const[e]=b.useState(1234),[t,s]=b.useState([]),[n,o]=b.useState(100),[l,d]=b.useState({show:!1}),u=[{id:"chat",label:"Chat",icon:Sr},{id:"friends",label:"Friends",icon:ss},{id:"dms",label:"DMs",icon:GD},{id:"auction",label:"Auction House",icon:IC},{id:"scrapbook",label:"Scrapbook",icon:O4}],h=N=>{if(t.some(D=>D.type===N))return;const _=t.length*30,P={type:N,position:{x:100+_,y:100+_},size:{width:400,height:500},zIndex:n+t.length};s(D=>[...D,P])},p=N=>{s(k=>k.filter(_=>_.type!==N))},m=N=>{p(N)},y=(N,k)=>{s(_=>_.map(P=>P.type===N?{...P,position:k}:P))},x=(N,k)=>{s(_=>_.map(P=>P.type===N?{...P,size:k}:P))},v=N=>{s(k=>k.map(_=>_.type===N?{..._,zIndex:n+20}:_)),o(k=>k+1)},w=(N,k)=>{const _=k.currentTarget.getBoundingClientRect();d({show:!0,dropId:N,position:{x:_.left+_.width/2,y:_.top}})},j=N=>{l.dropId&&console.log(`Added ${N} to drop ${l.dropId}`),d({show:!1})},C=N=>{const k={chat:"Community Chat",friends:"Friends List",dms:"Direct Messages",auction:"Auction House",scrapbook:"My Scrapbook"};return i.jsxs("div",{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-4xl mb-4",children:[N==="chat"&&"💬",N==="friends"&&"👥",N==="dms"&&"📨",N==="auction"&&"🏛️",N==="scrapbook"&&"📚"]}),i.jsx("h3",{className:"text-lg font-semibold dropsource-text-primary mb-2",children:k[N]}),i.jsx("p",{className:"dropsource-text-tertiary text-sm",children:"Coming soon - this feature is under development"})]})};return i.jsxs("div",{className:"h-full overflow-hidden flex flex-col relative",style:{background:"linear-gradient(180deg, #0D0D0D 0%, #121212 100%)",color:"white"},children:[i.jsxs("div",{className:"flex items-center justify-between",style:{background:"rgba(18, 23, 35, 0.8)",borderBottom:"1px solid var(--dropsource-border)",padding:"calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 3)",zIndex:"20",backdropFilter:"blur(12px)"},children:[i.jsx("div",{className:"flex items-center",children:i.jsxs(Se,{onClick:()=>r("community"),className:"dropsource-nav-pill flex items-center gap-2",style:{background:"transparent",color:"var(--dropsource-secondary)",border:"none",padding:"calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2)"},children:[i.jsx(Nc,{className:"w-4 h-4"}),"Back"]})}),i.jsxs("div",{className:"flex-1 text-center",children:[i.jsx("h1",{style:{fontSize:"32px",fontWeight:800,textAlign:"center",background:"linear-gradient(90deg, #00AEEF 0%, #63B3FF 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
                0 0 8px rgba(0, 174, 239, 0.6),
                0 0 16px rgba(0, 174, 239, 0.4),
                0 0 24px rgba(99, 179, 255, 0.3)
              `,filter:"drop-shadow(0 0 12px rgba(0, 174, 239, 0.5))"},children:"Community Hub"}),i.jsxs("div",{className:"mt-2 flex items-center justify-center gap-3",style:{marginTop:"8px"},children:[i.jsx("p",{style:{fontSize:"16px",fontWeight:"400",color:"#A9B7C6",letterSpacing:"-0.01em"},children:"Welcome to DropSource! Share your creation with the community!"}),i.jsx("button",{className:"dropsource-btn-primary flex items-center gap-2",style:{fontSize:"14px",padding:"8px 16px",background:"linear-gradient(90deg, #00AEEF 0%, #63B3FF 100%)",color:"white",border:"none",borderRadius:"var(--radius-sharp)",fontWeight:"600",boxShadow:"0 0 12px rgba(0, 174, 239, 0.3)",transition:"all 150ms ease-out"},onMouseEnter:N=>{N.currentTarget.style.transform="translateY(-1px) scale(1.02)",N.currentTarget.style.boxShadow="0 0 20px rgba(0, 174, 239, 0.5)"},onMouseLeave:N=>{N.currentTarget.style.transform="translateY(0) scale(1)",N.currentTarget.style.boxShadow="0 0 12px rgba(0, 174, 239, 0.3)"},children:"Create Drop"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 dropsource-surface px-3 py-2 rounded-lg",children:[i.jsx(rt,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:"dropsource-text-primary font-semibold",children:e.toLocaleString()})]}),i.jsxs(Se,{onClick:()=>r("shop"),className:"dropsource-btn-secondary flex items-center gap-2",style:{padding:"calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2)"},children:[i.jsx(bg,{className:"w-4 h-4"}),"Shop"]}),i.jsxs(Se,{onClick:()=>r("book"),className:"dropsource-btn-secondary flex items-center gap-2",style:{padding:"calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2)"},children:[i.jsx(Yh,{className:"w-4 h-4"}),"Drop Source Book"]})]})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsx("div",{className:"dropsource-surface border-r border-dropsource-border overflow-y-auto dropsource-custom-scrollbar",style:{width:"30%",minWidth:"280px"},children:i.jsxs("div",{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-semibold dropsource-text-primary mb-4",children:"Global Feed"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 h-full",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold dropsource-text-secondary mb-3",children:"Status Updates"}),i.jsx("div",{className:"space-y-2",children:i2.filter(N=>N.type==="status").map(N=>i.jsx("div",{className:"dropsource-feed-card p-2",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-green-500 to-blue-500 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-xs dropsource-text-secondary",children:[i.jsx("span",{className:"font-semibold dropsource-text-primary",children:N.username}),i.jsx("br",{}),N.action]}),i.jsx("p",{className:"text-xs dropsource-text-tertiary mt-1",children:N.timestamp})]})]})},N.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold dropsource-text-secondary mb-3",children:"Activity"}),i.jsx("div",{className:"space-y-2",children:i2.filter(N=>N.type!=="status").map(N=>i.jsx("div",{className:"dropsource-feed-card p-2",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-xs dropsource-text-secondary",children:[i.jsx("span",{className:"font-semibold dropsource-text-primary",children:N.username}),i.jsx("br",{}),N.action,N.target&&i.jsxs("span",{className:"font-semibold dropsource-text-primary",children:[" ",N.target]})]}),i.jsx("p",{className:"text-xs dropsource-text-tertiary mt-1",children:N.timestamp})]})]})},N.id))})]})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto dropsource-custom-scrollbar",style:{width:"40%",minWidth:"320px"},children:i.jsxs("div",{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-semibold dropsource-text-primary mb-4",children:"Latest Drops"}),i.jsx("div",{className:"space-y-4",children:j7.map(N=>i.jsx("div",{className:"dropsource-card dropsource-clickable p-4",style:{overflow:"visible"},children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"w-16 h-16 flex-shrink-0 transition-all duration-300 cursor-pointer relative overflow-hidden group",style:{borderRadius:"var(--radius-sharp)",background:"linear-gradient(135deg, #7C5CFF 0%, #2D81F7 50%, #25BFA6 100%)",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.1), 0 2px 8px rgba(0,0,0,0.1)"},onMouseEnter:k=>{k.currentTarget.style.transform="scale(1.05)",k.currentTarget.style.boxShadow="inset 0 2px 4px rgba(0,0,0,0.2), 0 4px 16px rgba(124, 92, 255, 0.4)"},onMouseLeave:k=>{k.currentTarget.style.transform="scale(1)",k.currentTarget.style.boxShadow="inset 0 2px 4px rgba(0,0,0,0.1), 0 2px 8px rgba(0,0,0,0.1)"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent rounded-lg"}),i.jsx("div",{className:"relative w-full h-full flex items-center justify-center text-white text-xl font-bold",children:"🎵"}),i.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:"radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%)"}})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold dropsource-text-primary truncate",children:N.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-green-400 to-blue-500"}),i.jsx("span",{className:"text-sm dropsource-text-secondary",children:N.username})]}),i.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[N.priceType==="stars"?i.jsx(rt,{className:"w-4 h-4 text-yellow-400 fill-current"}):i.jsx("span",{className:"text-green-400 font-semibold",children:"$"}),i.jsx("span",{className:"font-semibold dropsource-text-primary",children:N.price})]}),i.jsxs("div",{className:"flex gap-2 mt-3",style:{overflow:"visible"},children:[N.reactions.map((k,_)=>i.jsxs("button",{className:"dropsource-reaction-pill hover:scale-105 transition-transform",children:[i.jsx("span",{children:k.emoji}),i.jsx("span",{className:"text-xs",children:k.count})]},_)),i.jsxs("button",{onClick:k=>w(N.id,k),className:"dropsource-reaction-pill hover:scale-105 transition-transform border-dashed",children:[i.jsx(wi,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs",children:"Add"})]})]})]})]})},N.id))})]})}),i.jsx("div",{className:"dropsource-surface border-l border-dropsource-border overflow-y-auto dropsource-custom-scrollbar",style:{width:"30%",minWidth:"280px"},children:i.jsxs("div",{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-semibold dropsource-text-primary mb-4",children:"Quick Access"}),i.jsx("div",{className:"space-y-2",children:u.map(N=>{const k=N.icon;return i.jsxs("button",{onClick:()=>h(N.id),className:"w-full dropsource-toolbar-button text-left flex items-center gap-3 p-3 rounded",style:{justifyContent:"flex-start"},children:[i.jsx(k,{className:"w-5 h-5"}),i.jsx("span",{children:N.label})]},N.id)})})]})})]}),t.map(N=>i.jsx(tf,{title:u.find(k=>k.id===N.type)?.label||"Panel",onClose:()=>p(N.type),onMinimize:()=>m(N.type),initialPosition:N.position,width:N.size.width,height:N.size.height,zIndex:N.zIndex,onPositionChange:k=>y(N.type,k),onSizeChange:k=>x(N.type,k),onFocus:()=>v(N.type),children:C(N.type)},N.type)),l.show&&l.position&&i.jsx(k7,{onEmojiSelect:j,onClose:()=>d({show:!1}),position:l.position})]})}const T7=6e3,eg=450;function _7({creators:r,onCreatorClick:e}){const t=b.useMemo(()=>r?.filter(Boolean)??[],[r]),[s,n]=b.useState(0),[o,l]=b.useState(!1),d=b.useRef(null),u=b.useRef(!1);if(b.useEffect(()=>{if(!t.length)return;const y=()=>{u.current||(l(!0),window.setTimeout(()=>{n(x=>(x+1)%t.length),l(!1)},eg))};return d.current=window.setInterval(y,T7),()=>{d.current&&window.clearInterval(d.current)}},[t.length]),!t.length)return null;const h=t[s],p=y=>{y!==s&&(l(!0),setTimeout(()=>{n(y),l(!1)},eg))},m=()=>{e&&e(h)};return i.jsxs("div",{className:"rounded border relative overflow-hidden",style:{backgroundColor:"#0F1520",borderColor:"#1A2531",minHeight:"280px"},onMouseEnter:()=>u.current=!0,onMouseLeave:()=>u.current=!1,children:[i.jsxs("div",{className:"flex items-center justify-between p-4 pb-3",children:[i.jsx("h3",{style:{color:"#FFB039",fontSize:"14px",fontWeight:"600"},children:"Creator Spotlight"}),i.jsxs("div",{className:"flex items-center gap-2",children:[h.isSponsored&&i.jsx(ft,{variant:"ad",title:"Paid placement",children:"Ad"}),i.jsx("div",{className:"flex gap-1",children:t.map((y,x)=>i.jsx("button",{"aria-label":`Go to ${x+1}`,onClick:()=>p(x),className:"w-2 h-2 rounded-full transition-all duration-200",style:{backgroundColor:x===s?"#FFB039":"rgba(255, 176, 57, 0.3)",transform:x===s?"scale(1.2)":"scale(1)"}},x))})]})]}),i.jsxs("div",{className:"p-4 pt-0 transition-opacity",style:{transitionDuration:`${eg}ms`,opacity:o?0:1},onClick:m,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsxs("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-white font-semibold text-lg relative",style:{backgroundColor:h.avatarUrl?"transparent":"#FF6B6B",backgroundImage:h.avatarUrl?`url(${h.avatarUrl})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[!h.avatarUrl&&h.name.charAt(0),h.isVerified&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs",style:{backgroundColor:"#FFB039",color:"#000"},children:"✓"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("h4",{className:"font-semibold text-lg",style:{color:"#E6ECF3"},children:h.name})}),i.jsxs("p",{className:"text-sm mb-2",style:{color:"#A9B7C6"},children:["@",h.handle]}),i.jsxs("div",{className:"flex gap-4 text-xs",style:{color:"#A9B7C6"},children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),h.trust??85,"% Trust"]}),i.jsxs("span",{children:[(h.followers??1500).toLocaleString()," followers"]})]})]})]}),h.bio&&i.jsxs("div",{className:"rounded p-3 mb-3 text-sm italic",style:{backgroundColor:"rgba(255,255,255,0.05)",color:"#E6ECF3",border:"1px solid rgba(255,255,255,0.1)"},children:['"',h.bio,'"']}),h.specialties&&h.specialties.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:h.specialties.map((y,x)=>i.jsx("span",{className:"px-2 py-1 rounded text-xs",title:y,style:{backgroundColor:"rgba(255, 176, 57, 0.1)",color:"#FFB039",border:"1px solid rgba(255, 176, 57, 0.2)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"140px"},children:y},x))}),h.recentWork&&i.jsxs("p",{className:"text-xs",style:{color:"#A9B7C6"},children:["Recent: ",h.recentWork]})]}),i.jsx("button",{className:"w-full py-2 px-4 rounded text-sm font-medium transition-colors flex items-center justify-center cursor-pointer",style:{backgroundColor:"#FFB039",color:"#000",border:"none",minHeight:"36px"},onMouseEnter:y=>{y.currentTarget.style.backgroundColor="#E09A2B"},onMouseLeave:y=>{y.currentTarget.style.backgroundColor="#FFB039"},children:"View Profile"})]})]})}const a2=["PixelSmith","VerseWriter","CodeCrafter","SynthMaster","NovaMuse","ArtisanAva","EchoKnox","ProtoPunk","GlyphGuru","CollabCat","BugHunter","SnapSage","DevDruid","GameGarden","PhotoPhantom","BrushBloom","ZineZebra","LoomLark","ByteBarista","PaperPirate","RetroRanger","PolyPanda","CloudCarver","LoopLord","ShaderFox","BeatBuddy","MemeDealer","InkWizard","VectorVoid","DigitalDove","CraftyCrow","AudioArk","VisualViper","StoryStorm","FontForge","ColorCrash","LayerLion","FrameFox","MotionMuse","SoundSage","DesignDragon","ArtAtlas","CreativeCub","MakerMoon","BuilderBee","PaintPaw","SketchSky","DoodleDuck","RenderRaven","ModernMoth","TechTiger","CraftCat","MixMagic","EditElf","FilterFish","EffectEagle","StudioStag","WorkspaceWolf","CanvasChief","PalettePanda","BrushBear","PenPenguin","ToolTurtle","AppApe"],l2=["Daily pixel practice. Comms open.","Free sticker every Friday—come grab one.","Portfolio revamped—critique welcome!","Turning ideas into interactive art since 2020.","Beats that hit different. DM for collabs.","Cursed content creator. You've been warned.","Lowkey the best sticker dealer on this site.","Making memes that cure depression.","Professional shitposter. Amateur artist.","Your mom's favorite content creator.","Accidentally famous. Send help.","Chaotic neutral energy only.","Making art that makes your therapist concerned.","Turning trauma into content since forever.","Feral but in a cute way.","Basement dweller with good WiFi.","Chronically online and proud.","Making weird stuff for weird people.","Certified disaster bisexual.","Goblin mode: permanently activated.","Unhinged but harmless.","Your local cryptid artist.","Making content that shouldn't exist.","Blessed and cursed simultaneously.","Vibes are immaculate. Content is questionable.","Professional disappointment.","Making art with my remaining brain cell.","Chaos incarnate. Tips appreciated.","Local menace to society.","Accidentally started three art movements."],c2=[["UI/UX","Mobile Apps"],["Beat Production","Sampling"],["Pixel Art","Game Dev"],["Typography","Branding"],["Animation","3D Art"],["Photography","Photo Editing"],["Illustration","Character Design"],["Web Design","Frontend"],["Music Production","Sound Design"],["Digital Art","Concept Art"]];function QT(){const[r,e]=b.useState([]),t=()=>{const n=[],o=new Set;for(;n.length<6;){const l=a2[Math.floor(Math.random()*a2.length)];if(o.has(l))continue;o.add(l);const d=l2[Math.floor(Math.random()*l2.length)],u=c2[Math.floor(Math.random()*c2.length)];let h=0;for(let m=0;m<l.length;m++)h+=l.charCodeAt(m);const p=l.toLowerCase().replace(/([A-Z])/g,(m,y,x)=>x>0?"_"+y.toLowerCase():y.toLowerCase());n.push({id:`creator-${n.length+1}`,name:l,handle:p,trust:75+h%20,followers:100+h*23%49900,bio:d,isVerified:Math.random()>.7,isSponsored:Math.random()>.5,recentWork:`Latest ${u[0].toLowerCase()} project`,specialties:u,ctaUrl:`/u/${p}`})}return n};b.useEffect(()=>{e(t())},[]);const s=n=>{console.log("Creator clicked:",n)};return r.length===0?null:i.jsx(_7,{creators:r,onCreatorClick:s})}const d2=["Daily pixel practice. Comms open.","Free sticker every Friday—come grab one.","Portfolio revamped—critique welcome!","Turning ideas into interactive art since 2020.","Beats that hit different. DM for collabs.","Cursed content creator. You've been warned.","Lowkey the best sticker dealer on this site.","Making memes that cure depression.","Professional shitposter. Amateur artist.","Your mom's favorite content creator.","Accidentally famous. Send help.","Chaotic neutral energy only.","Making art that makes your therapist concerned.","Turning trauma into content since forever.","Feral but in a cute way.","Basement dweller with good WiFi.","Chronically online and proud.","Making weird stuff for weird people.","Certified disaster bisexual.","Goblin mode: permanently activated.","Unhinged but harmless.","Your local cryptid artist.","Making content that shouldn't exist.","Blessed and cursed simultaneously.","Vibes are immaculate. Content is questionable.","Professional disappointment.","Making art with my remaining brain cell.","Chaos incarnate. Tips appreciated.","Local menace to society.","Accidentally started three art movements."],tg=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85C1E9","#D7BDE2","#A3E4D7","#F9E79F","#FADBD8","#D5DBDB","#AED6F1"],zl=[{name:"Most Hours This Week",icon:rt,suffix:"hrs"},{name:"Top Stars",icon:rt,suffix:"⭐"},{name:"Top Donations",icon:Eo,suffix:"⭐"},{name:"Top Stickers Purchased",icon:bg,suffix:""},{name:"Top Stickers Created",icon:ys,suffix:""},{name:"Top Monthly Supporters",icon:ss,suffix:""},{name:"Top Community Actions",icon:Fn,suffix:""},{name:"Top Followers Gained",icon:wg,suffix:""},{name:"Top Posts",icon:Sr,suffix:""},{name:"New Users",icon:ss,suffix:"days ago"},{name:"Most Active Streamers",icon:_c,suffix:"hrs"},{name:"Top Content Creators",icon:Fa,suffix:"drops"},{name:"Rising Stars",icon:wg,suffix:"⭐"},{name:"Community Champions",icon:Eo,suffix:"actions"},{name:"Collaboration Kings",icon:ss,suffix:"collabs"},{name:"Marketplace MVPs",icon:bg,suffix:"sales"},{name:"Feedback Heroes",icon:Sr,suffix:"reviews"},{name:"Innovation Leaders",icon:Fn,suffix:"features"},{name:"Support Squad",icon:Eo,suffix:"helped"}];function M7({widgetIndex:r=0}){const[e,t]=b.useState(0),[s,n]=b.useState([]),[o,l]=b.useState(!1),[d,u]=b.useState(null),[h,p]=b.useState(null),[m,y]=b.useState(!1),[x,v]=b.useState(!0),w=b.useRef(null);b.useEffect(()=>{const O=new IntersectionObserver(([B])=>{v(B.isIntersecting)},{threshold:.1});return w.current&&O.observe(w.current),()=>O.disconnect()},[]),b.useEffect(()=>{if(m||!x||s.length<=1)return;const O=setInterval(()=>{t(B=>(B+1)%s.length)},12e3);return()=>clearInterval(O)},[m,x,s.length]);const j=()=>{const O=(Math.floor(Math.random()*zl.length)+r*10)%zl.length,B=zl[O];if(!B||!B.name)return console.error("Invalid category selected:",O,B),{category:zl[0],entries:[]};const L=[],$=new Set;for(;L.length<5;){const J=Math.random()>.5?jg():Ng();if($.has(J))continue;$.add(J);let ce=0;for(let F=0;F<J.length;F++)ce+=J.charCodeAt(F);const V=ce%1e3;let X;switch(B.name){case"Most Hours This Week":case"Most Active Streamers":X=10+V%150;break;case"Top Stars":case"Top Donations":case"Rising Stars":X=1e3+V%49e3;break;case"New Users":X=1+V%30;break;default:X=5+V%495}L.push({name:J,handle:J.toLowerCase().replace(/([A-Z])/g,(F,ee,H)=>H>0?"_"+ee.toLowerCase():ee.toLowerCase()),value:X,avatarBg:tg[ce%tg.length],quote:d2[ce%d2.length],trustScore:75+ce%20})}return L.sort((J,ce)=>B.name==="New Users"?J.value-ce.value:ce.value-J.value),{category:B,entries:L}},C=()=>{const O=[];if(zl.length===0||tg.length===0)return console.error("Required data arrays are empty"),[];for(let B=0;B<6;B++){const L=j();L&&L.entries.length>0&&O.push(L)}return O};b.useEffect(()=>{n(C())},[r]);const N=O=>{O===e||o||(l(!0),u(null),setTimeout(()=>{t(O),l(!1)},200))},k=O=>{O.key==="ArrowLeft"&&e>0?N(e-1):O.key==="ArrowRight"&&e<s.length-1?N(e+1):O.key==="Enter"&&O.target instanceof HTMLElement&&O.target.click()},_=(O,B)=>{const L=B.currentTarget.getBoundingClientRect();u(O),p({x:L.left-280,y:Math.max(20,L.top-50)})},P=()=>{u(null),p(null)};if(s.length===0)return null;const D=s[e];if(!D||!D.category||!D.entries)return null;const{category:M,entries:E}=D,R=M.icon;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"rounded border",style:{backgroundColor:"#0F1520",borderColor:"#1A2531",height:"400px",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},tabIndex:0,onKeyDown:k,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),ref:w,children:[i.jsxs("div",{className:"p-4 flex-1",style:{transform:o?"translateY(-8px)":"translateY(0)",opacity:o?.7:1,transition:"all 400ms ease-in-out",willChange:"transform, opacity"},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(R,{className:"w-4 h-4",style:{color:"#00AEEF"}}),i.jsx("h3",{style:{color:"#E6ECF3",fontSize:"14px",fontWeight:"600"},children:M.name})]}),i.jsx("div",{className:"space-y-3",children:E.map((O,B)=>i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded cursor-pointer transition-all duration-200 hover:bg-opacity-50",style:{backgroundColor:B===0?"rgba(255, 176, 57, 0.1)":"transparent"},onMouseEnter:L=>_(O,L),onMouseLeave:P,children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold transition-colors duration-200 flex-shrink-0",style:{backgroundColor:B===0?"#FFB039":"#1A2531",color:B===0?"#000":"#A9B7C6"},children:B+1}),i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-semibold transition-transform duration-200 hover:scale-110 flex-shrink-0",style:{backgroundColor:O.avatarBg},children:O.name.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm truncate",style:{color:"#E6ECF3"},children:O.name}),i.jsxs("div",{className:"text-xs truncate",style:{color:"#A9B7C6"},children:["@",O.handle]})]}),i.jsxs("div",{className:"text-sm font-semibold flex-shrink-0",style:{color:B===0?"#FFB039":"#63B3FF",fontVariantNumeric:"tabular-nums",minWidth:"60px",textAlign:"right"},children:[O.value.toLocaleString(),M.suffix&&i.jsx("span",{style:{marginLeft:"2px"},children:M.suffix})]})]},`${O.name}-${B}`))})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 border-t",style:{borderColor:"#1A2531",height:"48px",flexShrink:0},children:[i.jsx("button",{onClick:()=>N(Math.max(0,e-1)),disabled:e===0,className:"p-1 rounded transition-opacity duration-200 hover:bg-gray-800/50 disabled:opacity-30 disabled:cursor-not-allowed",style:{color:"#A9B7C6"},"aria-label":"Previous leaderboard",children:i.jsx(J4,{className:"w-4 h-4"})}),i.jsx("div",{className:"flex items-center gap-2",children:s.map((O,B)=>i.jsx("button",{onClick:()=>N(B),className:"transition-all duration-400 ease-in-out rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",style:{width:e===B?"12px":"8px",height:e===B?"12px":"8px",backgroundColor:e===B?"#00AEEF":"#A9B7C6",opacity:e===B?1:.5,willChange:"transform, background-color"},"aria-label":`Go to leaderboard ${B+1}`},B))}),i.jsx("button",{onClick:()=>N(Math.min(s.length-1,e+1)),disabled:e===s.length-1,className:"p-1 rounded transition-opacity duration-200 hover:bg-gray-800/50 disabled:opacity-30 disabled:cursor-not-allowed",style:{color:"#A9B7C6"},"aria-label":"Next leaderboard",children:i.jsx(eD,{className:"w-4 h-4"})})]})]}),d&&h&&i.jsx("div",{className:"fixed z-50 animate-fadeInSmooth",style:{left:h.x,top:h.y,minWidth:"280px"},children:i.jsxs("div",{className:"rounded border p-4 shadow-xl backdrop-blur-sm",style:{backgroundColor:"rgba(15, 21, 32, 0.95)",borderColor:"#1A2531",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)"},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold border-2",style:{backgroundColor:d.avatarBg,borderColor:"rgba(255, 255, 255, 0.1)"},children:d.name.charAt(0)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",style:{color:"#E6ECF3"},children:d.name}),i.jsxs("p",{className:"text-sm",style:{color:"#A9B7C6"},children:["@",d.handle]})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"text-xs mb-1 opacity-70",style:{color:"#A9B7C6"},children:"Quote"}),i.jsxs("div",{className:"text-sm italic p-2 rounded",style:{color:"#E6ECF3",backgroundColor:"rgba(0, 174, 239, 0.1)",borderLeft:"3px solid #00AEEF"},children:['"',d.quote,'"']})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs opacity-70",style:{color:"#A9B7C6"},children:"Trust Score"}),i.jsxs("div",{className:"font-semibold",style:{color:d.trustScore>=90?"#2EA043":"#63B3FF"},children:[d.trustScore,"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs opacity-70",style:{color:"#A9B7C6"},children:M.name}),i.jsxs("div",{className:"font-semibold",style:{color:"#FFB039",fontVariantNumeric:"tabular-nums"},children:[d.value.toLocaleString(),M.suffix&&i.jsx("span",{style:{marginLeft:"2px"},children:M.suffix})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"flex-1 px-3 py-2 rounded text-sm font-medium transition-colors duration-200",style:{backgroundColor:"#00AEEF",color:"#000"},onMouseEnter:O=>{O.currentTarget.style.backgroundColor="#0099CC"},onMouseLeave:O=>{O.currentTarget.style.backgroundColor="#00AEEF"},children:"View Profile"}),D?.category.name.includes("Stream")&&i.jsx("button",{className:"px-3 py-2 rounded text-sm font-medium transition-colors duration-200",style:{backgroundColor:"#FFB039",color:"#000"},onMouseEnter:O=>{O.currentTarget.style.backgroundColor="#E69A2E"},onMouseLeave:O=>{O.currentTarget.style.backgroundColor="#FFB039"},children:"Watch Stream"})]})]})})]})}const u2=["🔥 @{user}: FIRST DROP OF 2025 IS LIVE! My debut EP 'Midnight Chaos' just dropped - limited edition vinyl available!","🎨 @{user}: COLLAB CALL! Looking for producers to work on my new synthwave project. DM me if you're interested!","💎 @{user}: RARE CARD ALERT! Just minted 'Golden Frequency' - only 100 copies exist. Auction starts in 1 hour!","🎵 @{user}: FREE SAMPLE PACK! Dropping 50 lo-fi beats for the community. First come, first served!","⚡ @{user}: REMIX CONTEST! Best remix of my track 'Digital Dreams' wins 500 stars + feature on my profile!","🚀 @{user}: BIG NEWS! My track just hit 10K plays! Celebrating with a FREE sticker pack for everyone!","🎯 @{user}: CHALLENGE ACCEPTED! Attempting to create 30 beats in 30 days. Follow my journey!","👑 @{user}: LEGENDARY CARD DROP! 'Phoenix Rising' collectible now available - hand-drawn artwork included!","🌟 @{user}: MILESTONE REACHED! 1000 followers celebration stream starting NOW. Come hang out!","🎪 @{user}: SURPRISE COLLAB! Just finished an epic track with @{collaborator} - dropping tomorrow at midnight!","💰 @{user}: AUCTION ALERT! My rare 'Vintage Synth' card is up for bidding. Starting at 100 stars!","🔊 @{user}: LIVESTREAM STARTING! Working on a new beat live - come watch the magic happen!","🎁 @{user}: GIVEAWAY TIME! Giving away 3 premium cards to celebrate my latest single. Repost to enter!","⭐ @{user}: STARS FOR FEEDBACK! First 10 people to review my new track get 50 stars each!","🎼 @{user}: MUSIC THEORY TIPS! Sharing my chord progression secrets in tonight's live tutorial!","🔥 @{user}: BEAT BATTLE! Challenging @{collaborator} to a live production battle. Winner takes all!","💎 @{user}: EXCLUSIVE PREVIEW! Get early access to my upcoming album by joining my supporter tier!","🎨 @{user}: ARTWORK REVEAL! Check out the stunning cover art for my new single 'Neon Nights'!","⚡ @{user}: FLASH SALE! All my beats 50% off for the next hour only. Don't sleep on this!","🌊 @{user}: GENRE FUSION! Experimenting with trap-jazz. What unexpected combos should I try next?"];function E7({onCreatorClick:r}){const[e,t]=b.useState([]),s=b.useRef(null);b.useRef();const[n,o]=b.useState(!1);b.useEffect(()=>{const h=()=>{const m=[],y=oA.filter(x=>x.active&&(!x.expiresAt||new Date<x.expiresAt)).map(x=>x.message);m.push(...y);for(let x=0;x<15;x++){const v=Math.random()>.5?jg():Ng();let j=u2[Math.floor(Math.random()*u2.length)].replace("{user}",v);if(j.includes("{collaborator}")){const k=Math.random()>.5?jg():Ng();j=j.replace("{collaborator}",k)}const C=j.toLowerCase().replace(/[^a-z0-9]/g,"");y.some(k=>k.toLowerCase().replace(/[^a-z0-9]/g,"").includes(C)||C.includes(k.toLowerCase().replace(/[^a-z0-9]/g,"")))||m.push(j)}t(m)};h();const p=setInterval(h,12e4);return()=>clearInterval(p)},[]);const l=(h,p)=>{if(p.preventDefault(),p.stopPropagation(),r){const m=p.currentTarget.getBoundingClientRect();r(h,{x:m.left+m.width/2,y:m.bottom+10})}},d=(h,p)=>{const m=h.split(/(@\w+)/g);return i.jsx("span",{className:"inline-flex items-center whitespace-nowrap",style:{marginRight:"60px"},children:m.map((y,x)=>{if(y.startsWith("@")&&y.length>1){const v=y.substring(1);return i.jsx("button",{onClick:w=>l(v,w),className:"font-medium hover:underline transition-colors duration-200",style:{color:"#000"},children:y},`${p}-${x}`)}return i.jsx("span",{children:y},`${p}-${x}`)})},`msg-${p}`)};if(e.length===0)return null;const u=[...e,...e];return i.jsx("div",{className:"fixed top-0 left-0 right-0 z-40",style:{backgroundColor:"#63B3FF",color:"#000",padding:"10px 0",overflow:"hidden",height:window.innerWidth<768?"36px":"44px",marginTop:"80px"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:i.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 md:px-6 flex items-center gap-2 md:gap-4 h-full",children:[i.jsx(JD,{className:"w-4 h-4 md:w-5 md:h-5 flex-shrink-0",style:{minWidth:window.innerWidth<768?"16px":"20px"}}),i.jsx("div",{className:"overflow-hidden flex-1",style:{height:window.innerWidth<768?"20px":"24px"},children:i.jsx("div",{ref:s,className:"flex items-center",style:{animationName:"scroll-left",animationDuration:window.innerWidth<768?"120s":"180s",animationTimingFunction:"linear",animationIterationCount:"infinite",animationPlayState:n?"paused":"running",fontSize:window.innerWidth<768?"13px":"15px",fontWeight:"500",height:window.innerWidth<768?"20px":"24px",willChange:"transform"},children:u.map((h,p)=>d(h,p))})}),window.innerWidth<768&&i.jsx("div",{className:"text-xs opacity-50 flex-shrink-0",style:{minWidth:"30px",fontSize:"10px"},children:n?"⏸️":"▶️"})]})})}function P7({user:r,handle:e,avatar:t,color:s,position:n,onClose:o}){const l={trustPercent:Math.floor(Math.random()*30)+70,followers:Math.floor(Math.random()*5e3)+100,following:Math.floor(Math.random()*1e3)+50,posts:Math.floor(Math.random()*200)+20,stars:Math.floor(Math.random()*1e4)+500,level:Math.floor(Math.random()*20)+1,badges:["🎨 Creator","⭐ Supporter","🔥 Top Contributor"].slice(0,Math.floor(Math.random()*3)+1)};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-50",onClick:o,style:{background:"transparent"}}),i.jsxs("div",{className:"fixed z-[60] rounded-lg border shadow-lg p-4 min-w-[280px]",style:{left:`${n.x}px`,top:`${n.y}px`,backgroundColor:"#0F1520",borderColor:"#1A2531",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.6)",transform:"translateX(-50%)",animation:"fadeInSmooth 200ms ease-out"},children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:s},children:t}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold",style:{color:"#E6ECF3"},children:r}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(M3,{className:"w-3 h-3",style:{color:"#4CAF50"}}),i.jsxs("span",{style:{color:"#4CAF50",fontSize:"12px"},children:[l.trustPercent,"%"]})]})]}),e&&i.jsx("div",{style:{color:"#A9B7C6",fontSize:"13px"},children:e}),i.jsxs("div",{style:{color:"#FFB039",fontSize:"12px",fontWeight:"500"},children:["Level ",l.level," • ",l.stars.toLocaleString()," ⭐"]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{style:{color:"#E6ECF3",fontSize:"16px",fontWeight:"600"},children:l.followers.toLocaleString()}),i.jsx("div",{style:{color:"#A9B7C6",fontSize:"11px"},children:"Followers"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{style:{color:"#E6ECF3",fontSize:"16px",fontWeight:"600"},children:l.following.toLocaleString()}),i.jsx("div",{style:{color:"#A9B7C6",fontSize:"11px"},children:"Following"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{style:{color:"#E6ECF3",fontSize:"16px",fontWeight:"600"},children:l.posts}),i.jsx("div",{style:{color:"#A9B7C6",fontSize:"11px"},children:"Posts"})]})]}),l.badges.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{style:{color:"#A9B7C6",fontSize:"11px",marginBottom:"6px"},children:"Badges"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:l.badges.map((d,u)=>i.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(255, 176, 57, 0.12)",color:"#FFB039",border:"1px solid rgba(255, 176, 57, 0.3)",fontSize:"10px"},children:d},u))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"flex-1 px-3 py-1.5 rounded text-sm font-medium transition-colors",style:{backgroundColor:"#00AEEF",color:"#fff",border:"none"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="#0099CC"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="#00AEEF"},children:"Follow"}),i.jsx("button",{className:"px-3 py-1.5 rounded text-sm font-medium transition-colors",style:{backgroundColor:"transparent",color:"#A9B7C6",border:"1px solid #1A2531"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="#161B2E",d.currentTarget.style.color="#E6ECF3"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="transparent",d.currentTarget.style.color="#A9B7C6"},children:"Message"})]})]})]})}function T0({userId:r,username:e,displayName:t,handle:s,className:n="",style:o,onClick:l,children:d}){const u=t||e,h=s||e,p=m=>{m.preventDefault(),l?l(m):console.log("Open profile for:",{userId:r,username:e,handle:h})};return e?i.jsx("a",{href:`/profile/${h}`,onClick:p,className:`cursor-pointer hover:underline ${n}`,style:o,"aria-label":`Open ${u} profile`,tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),p(m))},children:d||u}):(console.warn("UserLink missing username:",{userId:r,username:e,displayName:t,handle:s}),i.jsx("span",{className:n,style:o,children:d||u}))}const rg={mention:/@([a-zA-Z0-9_]+)(?![a-zA-Z0-9_])/g,hashtag:/#([a-zA-Z0-9_]+)(?![a-zA-Z0-9_])/g,cta:/(Watch Stream|View Auction|Leave Feedback|Join Challenge|Start Collab|Buy Now)/gi},D7=(r,e)=>{const t=new Set;return r&&t.add(r.name),e&&t.add(e.name),t},A7=(r,e,t,s,n,o)=>{const l=[],d=D7(e,t);let u=0;const h=[];let p;const m=new RegExp(rg.mention);for(;(p=m.exec(r))!==null;){const v=p[1];h.push({start:p.index,end:p.index+p[0].length,token:{type:"mention",content:p[0],data:{username:v,handle:`@${v}`}}})}const y=new RegExp(rg.hashtag);for(;(p=y.exec(r))!==null;)h.push({start:p.index,end:p.index+p[0].length,token:{type:"hashtag",content:p[0],data:{hashtag:p[1]}}});const x=new RegExp(rg.cta);for(;(p=x.exec(r))!==null;)h.push({start:p.index,end:p.index+p[0].length,token:{type:"cta",content:p[0],data:{cta:p[0]}}});if(s||n){const v=s||n;if(v){const w=new RegExp(`\\b${v.name}\\b`,"gi");for(;(p=w.exec(r))!==null;)h.push({start:p.index,end:p.index+p[0].length,token:{type:"collectible",content:p[0],data:v}})}}if(o){const v=new RegExp(`\\b${o}\\b`,"gi");for(;(p=v.exec(r))!==null;)h.push({start:p.index,end:p.index+p[0].length,token:{type:"challenge",content:p[0],data:{challengeName:o}}})}if(d.forEach(v=>{const w=new RegExp(`\\b${v}\\b(?!@)`,"gi");for(;(p=w.exec(r))!==null;)if(!h.some(C=>p.index>=C.start&&p.index<C.end||p.index+p[0].length>C.start&&p.index+p[0].length<=C.end)){const C=v===e?.name?e:t;h.push({start:p.index,end:p.index+p[0].length,token:{type:"user",content:p[0],data:C}})}}),h.sort((v,w)=>v.start-w.start),h.forEach(v=>{if(u<v.start){const w=r.substring(u,v.start);w&&l.push({type:"text",content:w})}l.push(v.token),u=v.end}),u<r.length){const v=r.substring(u);v&&l.push({type:"text",content:v})}return l},h2=({text:r,actorUser:e,targetUser:t,stickerData:s,cardData:n,challengeName:o,onUserClick:l,onCollectibleClick:d,onChallengeClick:u,onHashtagClick:h,onCtaClick:p})=>{const m=A7(r,e,t,s,n,o),y=(x,v)=>{switch(v.stopPropagation(),x.type){case"user":l&&x.data&&l(x.data.name,`@${x.data.name.toLowerCase()}`,x.data.avatar,x.data.color,v);break;case"mention":if(l&&x.data){const w={name:x.data.username,avatar:x.data.username.slice(0,2).toUpperCase(),color:"#6B7280"};l(w.name,x.data.handle,w.avatar,w.color,v)}break;case"hashtag":h&&x.data&&h(x.data.hashtag,v);break;case"collectible":d&&x.data&&d(x.data,v);break;case"challenge":u&&x.data&&u(x.data.challengeName,v);break;case"cta":p&&x.data&&p(x.data.cta,v);break}};return i.jsx(i.Fragment,{children:m.map((x,v)=>{switch(x.type){case"text":return i.jsx("span",{style:{pointerEvents:"none",cursor:"default"},children:x.content},v);case"user":return i.jsx(T0,{userId:`user-${x.data.name}`,username:x.data.name,handle:`@${x.data.name.toLowerCase()}`,style:{color:x.data.color,fontWeight:"500",cursor:"pointer"},"data-entity":"user",role:"link","aria-label":`View ${x.data.name}'s profile`,onClick:w=>y(x,w)},v);case"mention":return i.jsx("span",{"data-entity":"mention",role:"link",tabIndex:0,"aria-label":`View ${x.data.username}'s profile`,style:{color:"#60A5FA",fontWeight:"500",cursor:"pointer",textDecoration:"none"},className:"hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded",onClick:w=>y(x,w),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),y(x,w))},children:x.content},v);case"hashtag":return i.jsx("span",{"data-entity":"hashtag",role:"link",tabIndex:0,"aria-label":`Filter by ${x.data.hashtag}`,style:{color:"#10B981",fontWeight:"500",cursor:"pointer",textDecoration:"none"},className:"hover:underline focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 rounded",onClick:w=>y(x,w),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),y(x,w))},children:x.content},v);case"collectible":return i.jsx("span",{"data-entity":"collectible",role:"button",tabIndex:0,"aria-label":`View ${x.data.name} collectible`,title:x.data.name,style:{color:"#F59E0B",fontWeight:"600",cursor:"pointer",padding:"2px 6px",backgroundColor:"rgba(245, 158, 11, 0.1)",borderRadius:"4px",border:"1px solid rgba(245, 158, 11, 0.2)",textDecoration:"none",pointerEvents:"auto",display:"inline-flex",alignItems:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px"},className:"hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-opacity-50",onClick:w=>y(x,w),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),y(x,w))},children:x.content},v);case"challenge":return i.jsx("span",{"data-entity":"challenge",role:"button",tabIndex:0,"aria-label":`View ${x.data.challengeName} challenge`,style:{color:"#8B5CF6",fontWeight:"600",cursor:"pointer",padding:"2px 6px",backgroundColor:"rgba(139, 92, 246, 0.1)",borderRadius:"4px",border:"1px solid rgba(139, 92, 246, 0.2)",textDecoration:"none",pointerEvents:"auto"},className:"hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50",onClick:w=>y(x,w),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),y(x,w))},children:x.content},v);case"cta":return i.jsx("button",{"data-entity":"cta","aria-label":x.data.cta,style:{color:"#EF4444",fontWeight:"600",cursor:"pointer",padding:"4px 8px",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"4px",border:"1px solid rgba(239, 68, 68, 0.3)",textDecoration:"none",fontSize:"inherit",fontFamily:"inherit"},className:"hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition-all duration-150",onClick:w=>y(x,w),children:x.content},v);default:return i.jsx("span",{style:{pointerEvents:"none"},children:x.content},v)}})})};function R7(r){const e=r.id??f2(),t=r.ts??Date.now(),s=r.payload?.hash??r.payload?.slug??f2();return`${r.type}:${e}:${t}:${s}`}function f2(){return Math.random().toString(36).slice(2)}function Ou(r){const e=r.ts??Date.now();return{...r,ts:e,uid:R7({...r,ts:e})}}function p2(r,e,t=25){const s=Array.isArray(e)?e:[e],n=new Set(r.map(d=>d.uid)),o=[];for(const d of s)n.has(d.uid)||(o.push(d),n.add(d.uid));return[...o,...r].sort((d,u)=>u.ts-d.ts).slice(0,t)}const Ea=[{id:"ceiling-fan",name:"Ceiling Fan Enthusiast",serial:"#482/1000",totalSupply:1e3,rarity:"common",type:"sticker",price:5},{id:"spaghetti-code",name:"Spaghetti Code Sticker",serial:"#317/1000",totalSupply:1e3,rarity:"common",type:"sticker",price:5},{id:"vape-skeleton",name:"Vape Cloud Skeleton",serial:"#999/1000",totalSupply:1e3,rarity:"common",type:"sticker",price:5},{id:"leftover-pizza",name:"Leftover Pizza Slice",serial:"#128/500",totalSupply:500,rarity:"common",type:"sticker",price:5},{id:"emo-goose",name:"Emo Goose",serial:"#42/750",totalSupply:750,rarity:"common",type:"sticker",price:5},{id:"bonk-horny-jail",name:"Bonk! Horny Jail",serial:"#69/250",totalSupply:250,rarity:"rare",type:"sticker",price:10},{id:"dumpster-fire-2025",name:"Dumpster Fire 2025",serial:"#101/250",totalSupply:250,rarity:"rare",type:"sticker",price:10},{id:"shrek-4k",name:"Shrek in 4K",serial:"#177/250",totalSupply:250,rarity:"rare",type:"sticker",price:10},{id:"reverse-uno",name:"Reverse Uno Card",serial:"#88/200",totalSupply:200,rarity:"rare",type:"sticker",price:10},{id:"gamer-chair-collapse",name:"Gamer Chair Collapse",serial:"#211/300",totalSupply:300,rarity:"rare",type:"sticker",price:10},{id:"mega-frog-pack",name:"Mega Frog Pack",serial:"#88/150",totalSupply:150,rarity:"epic",type:"card",price:15},{id:"hotdog-usb",name:"Hotdog USB Drive",serial:"#23/100",totalSupply:100,rarity:"epic",type:"card",price:15},{id:"cursed-flute",name:"Cursed Flute Solo",serial:"#99/100",totalSupply:100,rarity:"epic",type:"card",price:15},{id:"zoom-potato",name:"Zoom Call Potato Filter",serial:"#15/100",totalSupply:100,rarity:"epic",type:"card",price:15},{id:"final-boss-toaster",name:"Final Boss Toaster",serial:"#45/75",totalSupply:75,rarity:"epic",type:"card",price:15},{id:"chair-sniffer",name:"Chair Sniffer 1/1",serial:"#1/1",totalSupply:1,rarity:"legendary",type:"card"},{id:"emotional-damage",name:"Emotional Damage.wav",serial:"#3/10",totalSupply:10,rarity:"legendary",type:"card"},{id:"skibidi-crown",name:"Skibidi Toilet Crown",serial:"#5/25",totalSupply:25,rarity:"legendary",type:"card"},{id:"404-fun",name:"404 Fun Not Found",serial:"#7/20",totalSupply:20,rarity:"legendary",type:"card"},{id:"ancient-vine",name:"Ancient Vine Compilation",serial:"#9/10",totalSupply:10,rarity:"legendary",type:"card"}],ot=r=>{switch(r){case"common":return"#6b7280";case"rare":return"#3b82f6";case"epic":return"#a855f7";case"legendary":return"#f59e0b";default:return"#6b7280"}},zh=r=>{switch(r){case"common":return"rgba(107, 114, 128, 0.1)";case"rare":return"rgba(59, 130, 246, 0.1)";case"epic":return"rgba(168, 85, 247, 0.1)";case"legendary":return"rgba(245, 158, 11, 0.1)";default:return"rgba(107, 114, 128, 0.1)"}},O7=()=>Ea.filter(r=>r.rarity==="rare"||r.rarity==="epic"||r.rarity==="legendary"),F7=()=>Ea,e_=()=>Ea.filter(r=>r.type==="sticker"),t_=()=>Ea.filter(r=>r.type==="card"),_0=()=>{const r=e_();return r[Math.floor(Math.random()*r.length)]},L7=()=>{const r=t_();return r[Math.floor(Math.random()*r.length)]},z7={like:15,comment:12,follow:8,stream:6,supporter:5,tip:4,collab:4,challenge:3,mint:3,collect:3,chalkboard:2,auction:2,stream_milestone:1,join:1},Bt={recentEvents:[],actionTypeCooldowns:new Map,userActionCooldowns:new Map,templateUsageCount:new Map,lastActionType:null};function r_(r,e){if(r.length!==e.length)throw new Error("Items and weights arrays must have the same length");const t=e.reduce((n,o)=>n+o,0);let s=Math.random()*t;for(let n=0;n<r.length;n++)if(s-=e[n],s<=0)return r[n];return r[r.length-1]}function s_(){const r=Date.now(),e=1200*1e3;Bt.recentEvents=Bt.recentEvents.filter(n=>r-n.timestamp<e).slice(-20);const t=300*1e3;Bt.actionTypeCooldowns.forEach((n,o)=>{r-n>t&&Bt.actionTypeCooldowns.delete(o)});const s=600*1e3;Bt.userActionCooldowns.forEach((n,o)=>{n.forEach((l,d)=>{r-l>s&&n.delete(d)}),n.size===0&&Bt.userActionCooldowns.delete(o)})}function I7(r){const e=Date.now();if(Bt.lastActionType===r)return!1;const t=Bt.actionTypeCooldowns.get(r);return!(t&&e-t<3e4||r==="join"&&t&&e-t<3e5)}function B7(r,e){const t=Date.now(),s=Bt.userActionCooldowns.get(r);if(!s)return!0;const n=s.get(e);if(!n)return!0;const o=120*1e3;return t-n>o}function n_(r){return!!Bt.recentEvents.find(t=>t.template===r&&Date.now()-t.timestamp<6e5)}function V7(){s_();const r=[],e=[];return Object.entries(z7).forEach(([t,s])=>{if(I7(t)){r.push(t);const n=Bt.templateUsageCount.get(t)||0,o=Math.max(1,s-Math.floor(n/3));e.push(o)}}),r.length===0?{types:["like","comment"],weights:[10,8]}:{types:r,weights:e}}function pt(r){return r[Math.floor(Math.random()*r.length)]}function W7(){return r_([1,2,3,5,10,15,20,25,50,100,250,500],[20,15,12,10,8,6,5,4,3,2,1,1]).toString()}function H7(r,e,t){const s=Date.now();Bt.recentEvents.push({template:e,timestamp:s,actionType:r}),Bt.actionTypeCooldowns.set(r,s),Bt.userActionCooldowns.has(t)||Bt.userActionCooldowns.set(t,new Map),Bt.userActionCooldowns.get(t).set(r,s);const n=Bt.templateUsageCount.get(e)||0;Bt.templateUsageCount.set(e,n+1),Bt.lastActionType=r}function m2(r){s_();const{types:e,weights:t}=V7(),s=r_(e,t),n=iA[s];if(!n||n.length===0)return U7(r);const o=n.filter(C=>!n_(C)),l=o.length>0?pt(o):pt(n);let u=pt(ts),h=0;for(;!B7(u,s)&&h<10;)u=pt(ts),h++;let p=null,m=null,y=null,x=null;if(["supporter","tip","like","comment","follow","collab","collect","chalkboard"].includes(s)){const C=pt(ts.filter(N=>N!==u));p={name:C,avatar:C.slice(0,2).toUpperCase(),color:`hsl(${Math.floor(Math.random()*360)}, 70%, 60%)`}}if(s==="mint"||s==="collect"||s==="auction"){const C=_0();m={name:C.name,serial:C.serial,thumbnail:`https://picsum.photos/80/80?random=${C.id}`}}s==="challenge"&&(y=pt(Nw),x=pt(jw));let v=l.replace("{user}",u).replace("{target}",p?.name||pt(ts)).replace("{amount}",W7()).replace("{challenge}",y||pt(Nw)).replace("{badge}",x||pt(jw)).replace("{collectible}",m?.name||"Mystery Item").replace("{type}",pt(sA)).replace("{rarity}",pt(nA)).replace("{genre}",pt(cc)).replace("{adjective}",pt([...ph,...mh]));H7(s,l,u);const w=`hsl(${Math.floor(Math.random()*360)}, 70%, 60%)`,j=u.slice(0,2).toUpperCase();return{id:r,user:u,action:v,time:pt(["just now","1m","2m","3m"]),avatar:j,color:w,actionType:s,targetUser:p,stickerData:m,challengeName:y,badgeName:x}}function U7(r){const e=pt(ts),t=`hsl(${Math.floor(Math.random()*360)}, 70%, 60%)`,s=e.slice(0,2).toUpperCase(),n=[`${e} just joined the community 🎉`,`${e} is exploring the marketplace`,`${e} updated their profile`,`${e} shared a new creation`,`${e} is looking for collaborators`,`${e} discovered a rare collectible`,`${e} completed their first challenge`,`${e} earned a new badge`,`${e} is browsing the sticker gallery`,`${e} joined a live stream`];return{id:r,user:e,action:pt(n),time:"just now",avatar:s,color:t,actionType:"join"}}function g2(r){const e=pt(ts),t=`@${e.toLowerCase()}`,s=`hsl(${Math.floor(Math.random()*360)}, 70%, 60%)`,n=e.slice(0,2).toUpperCase(),o=Tw.filter(k=>!n_(k)),l=o.length>0?pt(o):pt(Tw),d=_0();let u=l.replace("{collectible}",d.name).replace("{genre}",pt(cc)).replace("{other_genre}",pt(cc)).replace("{adjective}",pt([...ph,...mh])).replace("{software}",pt(Tg)).replace("{decade}",pt(_g)).replace("{username}",pt(ts.filter(k=>k!==e)));const h=Math.floor(Math.random()*3)+2,m=[...aA].sort(()=>Math.random()-.5).slice(0,h).map(k=>({emoji:k.emoji,count:Math.floor(Math.random()*50)+1})),y=Math.random()<.3?_0():null,x=Math.random()<.2?L7():null,v=y?{name:y.name,serial:y.serial,thumbnail:`https://picsum.photos/80/80?random=${y.id}`}:null,w=x?{name:x.name,serial:x.serial,thumbnail:`https://picsum.photos/80/80?random=${x.id}`}:null,j=["Questions","Sticker","Collab Req","Trade","Drop","Sale","Help","Showcase"],C=Math.random()<.7?pt(j):void 0,N=Bt.templateUsageCount.get(l)||0;return Bt.templateUsageCount.set(l,N+1),{id:r,user:e,handle:t,content:u,avatar:n,color:s,category:C,reactions:m,stickerData:v,cardData:w}}const $7=r=>{const e={Questions:{backgroundColor:"rgba(69, 181, 209, 0.18)",color:"#45B7D1",border:"1px solid rgba(69, 181, 209, 0.4)",emoji:"❓"},Sticker:{backgroundColor:"rgba(255, 107, 107, 0.18)",color:"#FF6B6B",border:"1px solid rgba(255, 107, 107, 0.4)",emoji:"🧩"},"Collab Req":{backgroundColor:"rgba(130, 224, 170, 0.18)",color:"#82E0AA",border:"1px solid rgba(130, 224, 170, 0.4)",emoji:"🤝"},Trade:{backgroundColor:"rgba(139, 195, 74, 0.18)",color:"#8BC34A",border:"1px solid rgba(139, 195, 74, 0.4)",emoji:"🔁"},Drop:{backgroundColor:"rgba(255, 176, 57, 0.18)",color:"#FFB039",border:"1px solid rgba(255, 176, 57, 0.4)",emoji:"💧"},Sale:{backgroundColor:"rgba(76, 175, 80, 0.18)",color:"#4CAF50",border:"1px solid rgba(76, 175, 80, 0.4)",emoji:"💸"},Help:{backgroundColor:"rgba(244, 67, 54, 0.18)",color:"#F44336",border:"1px solid rgba(244, 67, 54, 0.4)",emoji:"🆘"},Showcase:{backgroundColor:"rgba(255, 193, 7, 0.18)",color:"#FFC107",border:"1px solid rgba(255, 193, 7, 0.4)",emoji:"🌟"}};return e[r]||e.Questions},G7=r=>({follow:{color:"#4ECDC4",backgroundColor:"rgba(78, 205, 196, 0.12)",border:"1px solid rgba(78, 205, 196, 0.3)"},like:{color:"#FF6B6B",backgroundColor:"rgba(255, 107, 107, 0.12)",border:"1px solid rgba(255, 107, 107, 0.3)"},comment:{color:"#87CEEB",backgroundColor:"rgba(135, 206, 235, 0.12)",border:"1px solid rgba(135, 206, 235, 0.3)"},supporter:{color:"#FFD700",backgroundColor:"rgba(255, 215, 0, 0.12)",border:"1px solid rgba(255, 215, 0, 0.3)"},tip:{color:"#FFA500",backgroundColor:"rgba(255, 165, 0, 0.12)",border:"1px solid rgba(255, 165, 0, 0.3)"},challenge:{color:"#9370DB",backgroundColor:"rgba(147, 112, 219, 0.12)",border:"1px solid rgba(147, 112, 219, 0.3)"},chalkboard:{color:"#20B2AA",backgroundColor:"rgba(32, 178, 170, 0.12)",border:"1px solid rgba(32, 178, 170, 0.3)"},mint:{color:"#9C27B0",backgroundColor:"rgba(156, 39, 176, 0.12)",border:"1px solid rgba(156, 39, 176, 0.3)"},collect:{color:"#FF1493",backgroundColor:"rgba(255, 20, 147, 0.12)",border:"1px solid rgba(255, 20, 147, 0.3)"},auction:{color:"#FFB347",backgroundColor:"rgba(255, 179, 71, 0.12)",border:"1px solid rgba(255, 179, 71, 0.3)"},stream:{color:"#FF4757",backgroundColor:"rgba(255, 71, 87, 0.12)",border:"1px solid rgba(255, 71, 87, 0.3)"},stream_milestone:{color:"#FF6B6B",backgroundColor:"rgba(255, 107, 107, 0.15)",border:"1px solid rgba(255, 107, 107, 0.4)"},collab:{color:"#32CD32",backgroundColor:"rgba(50, 205, 50, 0.12)",border:"1px solid rgba(50, 205, 50, 0.3)"},join:{color:"#82E0AA",backgroundColor:"rgba(130, 224, 170, 0.12)",border:"1px solid rgba(130, 224, 170, 0.3)"}})[r]||{color:"#E6ECF3",backgroundColor:"rgba(230, 236, 243, 0.12)",border:"1px solid rgba(230, 236, 243, 0.3)"};function Y7({onNavigate:r}){const{open:e,focus:t,state:s}=K0(),[n,o]=b.useState(!1),[l,d]=b.useState(null),[u,h]=b.useState([]),[p,m]=b.useState([]),[y,x]=b.useState(!1),[v,w]=b.useState(!1),[j,C]=b.useState(!0),[N,k]=b.useState(0),[_,P]=b.useState(0);b.useEffect(()=>{const R=()=>{o(window.innerWidth<768)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),b.useEffect(()=>{const R=()=>{C(!document.hidden)};return document.addEventListener("visibilitychange",R),()=>document.removeEventListener("visibilitychange",R)},[]),b.useEffect(()=>{const R=[],O=[];for(let B=0;B<5;B++){const L=m2(`initial-action-${B}`),$=Ou({type:"site_action",id:L.id,ts:Date.now()-B*6e4,payload:L});R.push({...$,...L})}for(let B=0;B<3;B++){const L=g2(`initial-post-${B}`),$=Ou({type:"community_post",id:L.id,ts:Date.now()-B*3e4,payload:L});O.push({...$,...L})}h(R),m(O)},[]),b.useEffect(()=>{if(y||!j)return;const R=setInterval(()=>{const O=m2(`action-${Date.now()}-${N}`),L={...Ou({type:"site_action",id:O.id,ts:Date.now(),payload:O}),...O};h($=>p2($,L,25)),k($=>$+1)},Math.random()*2e3+2e3);return()=>clearInterval(R)},[y,j,N]),b.useEffect(()=>{if(v||!j)return;const R=setInterval(()=>{const O=g2(`post-${Date.now()}-${_}`),L={...Ou({type:"community_post",id:O.id,ts:Date.now(),payload:O}),...O};m($=>p2($,L,25)),P($=>$+1)},Math.random()*2e3+2e3);return()=>clearInterval(R)},[v,j,_]);const D=b.useCallback((R,O)=>{},[]),M=(R,O,B,L,$)=>{const J=$.currentTarget.getBoundingClientRect();d({user:R,handle:O,avatar:B,color:L,position:{x:J.left+J.width/2,y:J.bottom+10}})},E=R=>{d(null),r("profile")};return i.jsx(ws,{children:i.jsxs("div",{className:"min-h-screen",style:{background:"#0B0F14",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[i.jsx(E7,{onCreatorClick:D}),i.jsx("div",{className:"flex justify-center py-3",style:{borderBottom:"1px solid #1A2531",backgroundColor:"rgba(15, 21, 32, 0.8)",backdropFilter:"blur(12px)",marginTop:"-6px"},children:i.jsx("h1",{className:"text-2xl font-semibold community-hub-pulse",style:{color:"#4DA6FF",textShadow:"0 0 6px rgba(77,166,255,0.8), 0 0 14px rgba(77,166,255,0.6)"},children:"Community Hub"})}),i.jsxs("div",{className:"flex justify-center flex-1",style:{paddingTop:"24px",maxWidth:"1400px",margin:"0 auto",width:"100%",overflow:"hidden"},children:[i.jsxs("div",{className:"hidden lg:flex w-full justify-center gap-6",children:[i.jsx("div",{style:{width:"350px",flexShrink:0},children:i.jsxs("div",{className:"rounded border p-4",style:{backgroundColor:"#0F1520",borderColor:"#1A2531",height:"calc(100vh - 160px)"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Fn,{className:"w-5 h-5",style:{color:"#00AEEF"}}),i.jsx("h2",{className:"font-semibold",style:{color:"#E6ECF3"},children:"All Site Actions"})]}),i.jsx("div",{className:"space-y-3 overflow-y-auto dropsource-custom-scrollbar",style:{height:"calc(100% - 60px)"},children:u.map(R=>{const O=G7(R.actionType||"");return i.jsx("div",{className:"p-3 rounded border feed-item-enter",style:{backgroundColor:O.backgroundColor||"#161B2E",borderColor:O.border?.split(" ")[3]||"#1A2531",opacity:1,transform:"translateY(0)",transition:"all 300ms ease-in-out"},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs cursor-pointer hover:scale-105 transition-transform",style:{backgroundColor:R.color},title:`View ${R.user}'s profile`,onClick:B=>M(R.user,void 0,R.avatar,R.color,B),children:R.avatar}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{style:{color:"#E6ECF3",fontSize:"13px"},children:i.jsx(h2,{text:R.action,actorUser:{name:R.user,avatar:R.avatar,color:R.color},targetUser:R.targetUser,stickerData:R.stickerData,onUserClick:M,onCollectibleClick:(B,L)=>{L.stopPropagation(),console.log("Open collectible sheet:",B)},onChallengeClick:(B,L)=>{L.stopPropagation(),console.log("Open challenge:",B)},onHashtagClick:(B,L)=>{L.stopPropagation(),console.log("Filter by hashtag:",B)},onCtaClick:(B,L)=>{L.stopPropagation(),console.log("CTA clicked:",B)}})}),i.jsx("div",{style:{color:"#A9B7C6",fontSize:"11px"},children:R.time}),R.stickerData&&i.jsx("div",{className:"mt-2 p-2 rounded border",style:{backgroundColor:"rgba(0, 0, 0, 0.2)",borderColor:"rgba(255, 255, 255, 0.1)"},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:R.stickerData.thumbnail,alt:R.stickerData.name,className:"w-8 h-8 rounded object-cover dropsource-thumbnail"}),i.jsx("div",{className:"dropsource-serial-overlay group-hover:opacity-100",children:R.stickerData.serial})]}),i.jsxs("div",{children:[i.jsx("div",{style:{color:"#E6ECF3",fontSize:"12px",fontWeight:"500"},children:R.stickerData.name}),i.jsx("div",{style:{color:"#A9B7C6",fontSize:"10px",fontFamily:"monospace"},children:R.stickerData.serial})]})]})})]})]})},R.uid)})})]})}),i.jsx("div",{style:{width:"450px",flexShrink:0},children:i.jsxs("div",{className:"rounded border p-4",style:{backgroundColor:"#0F1520",borderColor:"#1A2531",height:"calc(100vh - 160px)"},onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(t3,{className:"w-5 h-5",style:{color:"#00AEEF"}}),i.jsx("h2",{className:"font-semibold",style:{color:"#E6ECF3"},children:"Community Feed"})]}),i.jsx("div",{className:"space-y-4 overflow-y-auto dropsource-custom-scrollbar",style:{height:"calc(100% - 60px)"},children:p.map(R=>{const O=$7(R.category||"");return i.jsxs("div",{className:"p-4 rounded border feed-item-enter",style:{backgroundColor:"#161B2E",borderColor:"#1A2531",transition:"all 300ms ease-in-out"},children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold cursor-pointer hover:scale-105 transition-transform",style:{backgroundColor:R.color},title:`View ${R.user}'s profile`,onClick:B=>M(R.user,R.handle,R.avatar,R.color,B),children:R.avatar}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(T0,{userId:`user-${R.user}`,username:R.user,handle:R.handle,className:"font-medium",style:{color:"#E6ECF3",fontSize:"14px"},onClick:B=>M(R.user,R.handle,R.avatar,R.color,B)}),i.jsx(T0,{userId:`user-${R.user}`,username:R.user,handle:R.handle,style:{color:"#A9B7C6",fontSize:"13px"},onClick:B=>M(R.user,R.handle,R.avatar,R.color,B),children:R.handle}),R.category&&i.jsxs("span",{className:"px-2 py-1 rounded text-xs font-medium flex items-center gap-1",title:R.category,style:{backgroundColor:O.backgroundColor,color:O.color,border:O.border,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"160px"},children:[O.emoji,R.category]})]}),i.jsx("div",{style:{color:"#E6ECF3",fontSize:"14px",lineHeight:"1.4"},children:i.jsx(h2,{text:R.content,actorUser:{name:R.user,avatar:R.avatar,color:R.color},stickerData:R.stickerData,cardData:R.cardData,onUserClick:M,onCollectibleClick:(B,L)=>{L.stopPropagation(),console.log("Open collectible sheet:",B)},onChallengeClick:(B,L)=>{L.stopPropagation(),console.log("Open challenge:",B)},onHashtagClick:(B,L)=>{L.stopPropagation(),console.log("Filter by hashtag:",B)},onCtaClick:(B,L)=>{L.stopPropagation(),console.log("CTA clicked:",B)}})}),i.jsx("div",{className:"flex items-center gap-2 mt-3",children:R.reactions.map((B,L)=>i.jsxs("button",{className:"dropsource-reaction-pill hover:scale-105 transition-transform",children:[i.jsx("span",{children:B.emoji}),i.jsx("span",{children:B.count})]},L))})]})]}),R.stickerData&&i.jsx("div",{className:"mt-3 p-3 rounded border",style:{backgroundColor:"rgba(0, 0, 0, 0.2)",borderColor:"rgba(255, 255, 255, 0.1)"},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:R.stickerData.thumbnail,alt:R.stickerData.name,className:"w-12 h-12 rounded object-cover dropsource-thumbnail"}),i.jsx("div",{className:"dropsource-serial-overlay group-hover:opacity-100",children:R.stickerData.serial})]}),i.jsxs("div",{children:[i.jsx("div",{style:{color:"#E6ECF3",fontSize:"14px",fontWeight:"500"},children:R.stickerData.name}),i.jsx("div",{style:{color:"#A9B7C6",fontSize:"12px",fontFamily:"monospace"},children:R.stickerData.serial})]})]})})]},R.uid)})})]})}),i.jsx("div",{style:{width:"350px",flexShrink:0},children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(QT,{}),i.jsx(M7,{})]})})]}),i.jsx("div",{className:"lg:hidden flex flex-col h-full"})]}),l&&i.jsx(P7,{user:l.user,handle:l.handle,avatar:l.avatar,color:l.color,position:l.position,onClose:()=>d(null),onNavigateToProfile:()=>E(l.user)})]})})}var X7="Separator",y2="horizontal",K7=["horizontal","vertical"],o_=b.forwardRef((r,e)=>{const{decorative:t,orientation:s=y2,...n}=r,o=q7(s)?s:y2,d=t?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(Ze.div,{"data-orientation":o,...d,...n,ref:e})});o_.displayName=X7;function q7(r){return K7.includes(r)}var Z7=o_;function J7({className:r,orientation:e="horizontal",decorative:t=!0,...s}){return i.jsx(Z7,{"data-slot":"separator-root",decorative:t,orientation:e,className:Pt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",r),...s})}var Sf="Switch",[Q7]=bn(Sf),[eV,tV]=Q7(Sf),i_=b.forwardRef((r,e)=>{const{__scopeSwitch:t,name:s,checked:n,defaultChecked:o,required:l,disabled:d,value:u="on",onCheckedChange:h,form:p,...m}=r,[y,x]=b.useState(null),v=nt(e,k=>x(k)),w=b.useRef(!1),j=y?p||!!y.closest("form"):!0,[C,N]=bi({prop:n,defaultProp:o??!1,onChange:h,caller:Sf});return i.jsxs(eV,{scope:t,checked:C,disabled:d,children:[i.jsx(Ze.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":d_(C),"data-disabled":d?"":void 0,disabled:d,value:u,...m,ref:v,onClick:Ye(r.onClick,k=>{N(_=>!_),j&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),j&&i.jsx(c_,{control:y,bubbles:!w.current,name:s,value:u,checked:C,required:l,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});i_.displayName=Sf;var a_="SwitchThumb",l_=b.forwardRef((r,e)=>{const{__scopeSwitch:t,...s}=r,n=tV(a_,t);return i.jsx(Ze.span,{"data-state":d_(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:e})});l_.displayName=a_;var rV="SwitchBubbleInput",c_=b.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:s=!0,...n},o)=>{const l=b.useRef(null),d=nt(l,o),u=ax(t),h=I0(e);return b.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==t&&x){const v=new Event("click",{bubbles:s});x.call(p,t),p.dispatchEvent(v)}},[u,t,s]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:d,style:{...n.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});c_.displayName=rV;function d_(r){return r?"checked":"unchecked"}var sV=i_,nV=l_;function ra({className:r,...e}){return i.jsx(sV,{"data-slot":"switch",className:Pt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:i.jsx(nV,{"data-slot":"switch-thumb",className:Pt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var oV=(r,e,t,s,n,o,l,d)=>{let u=document.documentElement,h=["light","dark"];function p(x){(Array.isArray(r)?r:[r]).forEach(v=>{let w=v==="class",j=w&&o?n.map(C=>o[C]||C):n;w?(u.classList.remove(...j),u.classList.add(o&&o[x]?o[x]:x)):u.setAttribute(v,x)}),m(x)}function m(x){d&&h.includes(x)&&(u.style.colorScheme=x)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let x=localStorage.getItem(e)||t,v=l&&x==="system"?y():x;p(v)}catch{}},iV=b.createContext(void 0),aV={setTheme:r=>{},themes:[]},lV=()=>{var r;return(r=b.useContext(iV))!=null?r:aV};b.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:n,defaultTheme:o,value:l,themes:d,nonce:u,scriptProps:h})=>{let p=JSON.stringify([t,e,o,r,d,l,s,n]).slice(1,-1);return b.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${oV.toString()})(${p})`}})});const cV=({...r})=>{const{theme:e="system"}=lV();return i.jsx(x7,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})},u_=b.createContext(null);function dV({children:r}){const[e,t]=b.useState("paw");return i.jsx(u_.Provider,{value:{flair:e,setFlair:t},children:r})}const h_=()=>{const r=b.useContext(u_);if(!r)throw new Error("useProfileFlair outside provider");return r},uV={paw:"🐾",heart:"💖",fire:"🔥",sparkles:"✨",skull:"💀"},hV=b.forwardRef((r,e)=>{const[t,s]=b.useState([]);return b.useImperativeHandle(e,()=>({burst(n,o,l){const d=Date.now()+Math.random();s(u=>[...u,{id:d,x:n,y:o,icon:uV[l]}]),setTimeout(()=>s(u=>u.filter(h=>h.id!==d)),650)}})),i.jsx("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:t.map(n=>i.jsx("div",{className:"select-none",style:{position:"absolute",left:n.x-12,top:n.y-12,animation:"profile-burst 600ms ease-out forwards",fontSize:24,filter:"drop-shadow(0 2px 6px rgba(0,0,0,.35))"},children:n.icon},n.id))})});var Il={exports:{}},sg={},ng={exports:{}},og,x2;function fV(){if(x2)return og;x2=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return og=r,og}var ig,v2;function pV(){if(v2)return ig;v2=1;var r=fV();function e(){}function t(){}return t.resetWarningCache=e,ig=function(){function s(l,d,u,h,p,m){if(m!==r){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}s.isRequired=s;function n(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:n,element:s,elementType:s,instanceOf:n,node:s,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},ig}var b2;function f_(){return b2||(b2=1,ng.exports=pV()()),ng.exports}function p_(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=p_(r[e]))&&(s&&(s+=" "),s+=t);else for(e in r)r[e]&&(s&&(s+=" "),s+=e);return s}function w2(){for(var r,e,t=0,s="";t<arguments.length;)(r=arguments[t++])&&(e=p_(r))&&(s&&(s+=" "),s+=e);return s}const mV=Object.freeze(Object.defineProperty({__proto__:null,clsx:w2,default:w2},Symbol.toStringTag,{value:"Module"})),gV=M5(mV);var zt={},Co={},S2;function Cf(){if(S2)return Co;S2=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.dontSetMe=n,Co.findInArray=r,Co.int=s,Co.isFunction=e,Co.isNum=t;function r(o,l){for(let d=0,u=o.length;d<u;d++)if(l.apply(l,[o[d],d,o]))return o[d]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function t(o){return typeof o=="number"&&!isNaN(o)}function s(o){return parseInt(o,10)}function n(o,l,d){if(o[l])return new Error("Invalid prop ".concat(l," passed to ").concat(d," - do not set this, set it on the child."))}return Co}var ko={},C2;function yV(){if(C2)return ko;C2=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.browserPrefixToKey=t,ko.browserPrefixToStyle=s,ko.default=void 0,ko.getPrefix=e;const r=["Moz","Webkit","O","ms"];function e(){var o;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const d=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!d||l in d)return"";for(let u=0;u<r.length;u++)if(t(l,r[u])in d)return r[u];return""}function t(o,l){return l?"".concat(l).concat(n(o)):o}function s(o,l){return l?"-".concat(l.toLowerCase(),"-").concat(o):o}function n(o){let l="",d=!0;for(let u=0;u<o.length;u++)d?(l+=o[u].toUpperCase(),d=!1):o[u]==="-"?d=!0:l+=o[u];return l}return ko.default=e(),ko}var k2;function dx(){if(k2)return zt;k2=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.addClassName=P,zt.addEvent=d,zt.addUserSelectStyles=k,zt.createCSSTransform=v,zt.createSVGTransform=w,zt.getTouch=C,zt.getTouchIdentifier=N,zt.getTranslation=j,zt.innerHeight=m,zt.innerWidth=y,zt.matchesSelector=o,zt.matchesSelectorAndParentsTo=l,zt.offsetXYFromParent=x,zt.outerHeight=h,zt.outerWidth=p,zt.removeClassName=D,zt.removeEvent=u,zt.removeUserSelectStyles=_;var r=Cf(),e=s(yV());function t(M){if(typeof WeakMap!="function")return null;var E=new WeakMap,R=new WeakMap;return(t=function(O){return O?R:E})(M)}function s(M,E){if(M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var R=t(E);if(R&&R.has(M))return R.get(M);var O={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in M)if(L!=="default"&&Object.prototype.hasOwnProperty.call(M,L)){var $=B?Object.getOwnPropertyDescriptor(M,L):null;$&&($.get||$.set)?Object.defineProperty(O,L,$):O[L]=M[L]}return O.default=M,R&&R.set(M,O),O}let n="";function o(M,E){return n||(n=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(R){return(0,r.isFunction)(M[R])})),(0,r.isFunction)(M[n])?M[n](E):!1}function l(M,E,R){let O=M;do{if(o(O,E))return!0;if(O===R)return!1;O=O.parentNode}while(O);return!1}function d(M,E,R,O){if(!M)return;const B={capture:!0,...O};M.addEventListener?M.addEventListener(E,R,B):M.attachEvent?M.attachEvent("on"+E,R):M["on"+E]=R}function u(M,E,R,O){if(!M)return;const B={capture:!0,...O};M.removeEventListener?M.removeEventListener(E,R,B):M.detachEvent?M.detachEvent("on"+E,R):M["on"+E]=null}function h(M){let E=M.clientHeight;const R=M.ownerDocument.defaultView.getComputedStyle(M);return E+=(0,r.int)(R.borderTopWidth),E+=(0,r.int)(R.borderBottomWidth),E}function p(M){let E=M.clientWidth;const R=M.ownerDocument.defaultView.getComputedStyle(M);return E+=(0,r.int)(R.borderLeftWidth),E+=(0,r.int)(R.borderRightWidth),E}function m(M){let E=M.clientHeight;const R=M.ownerDocument.defaultView.getComputedStyle(M);return E-=(0,r.int)(R.paddingTop),E-=(0,r.int)(R.paddingBottom),E}function y(M){let E=M.clientWidth;const R=M.ownerDocument.defaultView.getComputedStyle(M);return E-=(0,r.int)(R.paddingLeft),E-=(0,r.int)(R.paddingRight),E}function x(M,E,R){const B=E===E.ownerDocument.body?{left:0,top:0}:E.getBoundingClientRect(),L=(M.clientX+E.scrollLeft-B.left)/R,$=(M.clientY+E.scrollTop-B.top)/R;return{x:L,y:$}}function v(M,E){const R=j(M,E,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:R}}function w(M,E){return j(M,E,"")}function j(M,E,R){let{x:O,y:B}=M,L="translate(".concat(O).concat(R,",").concat(B).concat(R,")");if(E){const $="".concat(typeof E.x=="string"?E.x:E.x+R),J="".concat(typeof E.y=="string"?E.y:E.y+R);L="translate(".concat($,", ").concat(J,")")+L}return L}function C(M,E){return M.targetTouches&&(0,r.findInArray)(M.targetTouches,R=>E===R.identifier)||M.changedTouches&&(0,r.findInArray)(M.changedTouches,R=>E===R.identifier)}function N(M){if(M.targetTouches&&M.targetTouches[0])return M.targetTouches[0].identifier;if(M.changedTouches&&M.changedTouches[0])return M.changedTouches[0].identifier}function k(M){if(!M)return;let E=M.getElementById("react-draggable-style-el");E||(E=M.createElement("style"),E.type="text/css",E.id="react-draggable-style-el",E.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,E.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,M.getElementsByTagName("head")[0].appendChild(E)),M.body&&P(M.body,"react-draggable-transparent-selection")}function _(M){if(M)try{if(M.body&&D(M.body,"react-draggable-transparent-selection"),M.selection)M.selection.empty();else{const E=(M.defaultView||window).getSelection();E&&E.type!=="Caret"&&E.removeAllRanges()}}catch{}}function P(M,E){M.classList?M.classList.add(E):M.className.match(new RegExp("(?:^|\\s)".concat(E,"(?!\\S)")))||(M.className+=" ".concat(E))}function D(M,E){M.classList?M.classList.remove(E):M.className=M.className.replace(new RegExp("(?:^|\\s)".concat(E,"(?!\\S)"),"g"),"")}return zt}var en={},j2;function m_(){if(j2)return en;j2=1,Object.defineProperty(en,"__esModule",{value:!0}),en.canDragX=n,en.canDragY=o,en.createCoreData=d,en.createDraggableData=u,en.getBoundPosition=t,en.getControlPosition=l,en.snapToGrid=s;var r=Cf(),e=dx();function t(m,y,x){if(!m.props.bounds)return[y,x];let{bounds:v}=m.props;v=typeof v=="string"?v:h(v);const w=p(m);if(typeof v=="string"){const{ownerDocument:j}=w,C=j.defaultView;let N;if(v==="parent"?N=w.parentNode:N=j.querySelector(v),!(N instanceof C.HTMLElement))throw new Error('Bounds selector "'+v+'" could not find an element.');const k=N,_=C.getComputedStyle(w),P=C.getComputedStyle(k);v={left:-w.offsetLeft+(0,r.int)(P.paddingLeft)+(0,r.int)(_.marginLeft),top:-w.offsetTop+(0,r.int)(P.paddingTop)+(0,r.int)(_.marginTop),right:(0,e.innerWidth)(k)-(0,e.outerWidth)(w)-w.offsetLeft+(0,r.int)(P.paddingRight)-(0,r.int)(_.marginRight),bottom:(0,e.innerHeight)(k)-(0,e.outerHeight)(w)-w.offsetTop+(0,r.int)(P.paddingBottom)-(0,r.int)(_.marginBottom)}}return(0,r.isNum)(v.right)&&(y=Math.min(y,v.right)),(0,r.isNum)(v.bottom)&&(x=Math.min(x,v.bottom)),(0,r.isNum)(v.left)&&(y=Math.max(y,v.left)),(0,r.isNum)(v.top)&&(x=Math.max(x,v.top)),[y,x]}function s(m,y,x){const v=Math.round(y/m[0])*m[0],w=Math.round(x/m[1])*m[1];return[v,w]}function n(m){return m.props.axis==="both"||m.props.axis==="x"}function o(m){return m.props.axis==="both"||m.props.axis==="y"}function l(m,y,x){const v=typeof y=="number"?(0,e.getTouch)(m,y):null;if(typeof y=="number"&&!v)return null;const w=p(x),j=x.props.offsetParent||w.offsetParent||w.ownerDocument.body;return(0,e.offsetXYFromParent)(v||m,j,x.props.scale)}function d(m,y,x){const v=!(0,r.isNum)(m.lastX),w=p(m);return v?{node:w,deltaX:0,deltaY:0,lastX:y,lastY:x,x:y,y:x}:{node:w,deltaX:y-m.lastX,deltaY:x-m.lastY,lastX:m.lastX,lastY:m.lastY,x:y,y:x}}function u(m,y){const x=m.props.scale;return{node:y.node,x:m.state.x+y.deltaX/x,y:m.state.y+y.deltaY/x,deltaX:y.deltaX/x,deltaY:y.deltaY/x,lastX:m.state.x,lastY:m.state.y}}function h(m){return{left:m.left,top:m.top,right:m.right,bottom:m.bottom}}function p(m){const y=m.findDOMNode();if(!y)throw new Error("<DraggableCore>: Unmounted during event!");return y}return en}var Bl={},Fu={},N2;function g_(){if(N2)return Fu;N2=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.default=r;function r(){}return Fu}var T2;function xV(){if(T2)return Bl;T2=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.default=void 0;var r=h(Cc()),e=d(f_()),t=d(Ih()),s=dx(),n=m_(),o=Cf(),l=d(g_());function d(j){return j&&j.__esModule?j:{default:j}}function u(j){if(typeof WeakMap!="function")return null;var C=new WeakMap,N=new WeakMap;return(u=function(k){return k?N:C})(j)}function h(j,C){if(j&&j.__esModule)return j;if(j===null||typeof j!="object"&&typeof j!="function")return{default:j};var N=u(C);if(N&&N.has(j))return N.get(j);var k={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in j)if(P!=="default"&&Object.prototype.hasOwnProperty.call(j,P)){var D=_?Object.getOwnPropertyDescriptor(j,P):null;D&&(D.get||D.set)?Object.defineProperty(k,P,D):k[P]=j[P]}return k.default=j,N&&N.set(j,k),k}function p(j,C,N){return C=m(C),C in j?Object.defineProperty(j,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):j[C]=N,j}function m(j){var C=y(j,"string");return typeof C=="symbol"?C:String(C)}function y(j,C){if(typeof j!="object"||j===null)return j;var N=j[Symbol.toPrimitive];if(N!==void 0){var k=N.call(j,C);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(j)}const x={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let v=x.mouse,w=class extends r.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",C=>{if(this.props.onMouseDown(C),!this.props.allowAnyClick&&typeof C.button=="number"&&C.button!==0)return!1;const N=this.findDOMNode();if(!N||!N.ownerDocument||!N.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:k}=N;if(this.props.disabled||!(C.target instanceof k.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(C.target,this.props.handle,N)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(C.target,this.props.cancel,N))return;C.type==="touchstart"&&C.preventDefault();const _=(0,s.getTouchIdentifier)(C);this.touchIdentifier=_;const P=(0,n.getControlPosition)(C,_,this);if(P==null)return;const{x:D,y:M}=P,E=(0,n.createCoreData)(this,D,M);(0,l.default)("DraggableCore: handleDragStart: %j",E),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(C,E)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(k),this.dragging=!0,this.lastX=D,this.lastY=M,(0,s.addEvent)(k,v.move,this.handleDrag),(0,s.addEvent)(k,v.stop,this.handleDragStop))}),p(this,"handleDrag",C=>{const N=(0,n.getControlPosition)(C,this.touchIdentifier,this);if(N==null)return;let{x:k,y:_}=N;if(Array.isArray(this.props.grid)){let M=k-this.lastX,E=_-this.lastY;if([M,E]=(0,n.snapToGrid)(this.props.grid,M,E),!M&&!E)return;k=this.lastX+M,_=this.lastY+E}const P=(0,n.createCoreData)(this,k,_);if((0,l.default)("DraggableCore: handleDrag: %j",P),this.props.onDrag(C,P)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const E=document.createEvent("MouseEvents");E.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(E)}return}this.lastX=k,this.lastY=_}),p(this,"handleDragStop",C=>{if(!this.dragging)return;const N=(0,n.getControlPosition)(C,this.touchIdentifier,this);if(N==null)return;let{x:k,y:_}=N;if(Array.isArray(this.props.grid)){let E=k-this.lastX||0,R=_-this.lastY||0;[E,R]=(0,n.snapToGrid)(this.props.grid,E,R),k=this.lastX+E,_=this.lastY+R}const P=(0,n.createCoreData)(this,k,_);if(this.props.onStop(C,P)===!1||this.mounted===!1)return!1;const M=this.findDOMNode();M&&this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(M.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",P),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,M&&((0,l.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(M.ownerDocument,v.move,this.handleDrag),(0,s.removeEvent)(M.ownerDocument,v.stop,this.handleDragStop))}),p(this,"onMouseDown",C=>(v=x.mouse,this.handleDragStart(C))),p(this,"onMouseUp",C=>(v=x.mouse,this.handleDragStop(C))),p(this,"onTouchStart",C=>(v=x.touch,this.handleDragStart(C))),p(this,"onTouchEnd",C=>(v=x.touch,this.handleDragStop(C)))}componentDidMount(){this.mounted=!0;const C=this.findDOMNode();C&&(0,s.addEvent)(C,x.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const C=this.findDOMNode();if(C){const{ownerDocument:N}=C;(0,s.removeEvent)(N,x.mouse.move,this.handleDrag),(0,s.removeEvent)(N,x.touch.move,this.handleDrag),(0,s.removeEvent)(N,x.mouse.stop,this.handleDragStop),(0,s.removeEvent)(N,x.touch.stop,this.handleDragStop),(0,s.removeEvent)(C,x.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(N)}}findDOMNode(){var C,N;return(C=this.props)!==null&&C!==void 0&&C.nodeRef?(N=this.props)===null||N===void 0||(N=N.nodeRef)===null||N===void 0?void 0:N.current:t.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Bl.default=w,p(w,"displayName","DraggableCore"),p(w,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(j,C){if(j[C]&&j[C].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),p(w,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Bl}var _2;function vV(){return _2||(_2=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),r.default=void 0;var e=y(Cc()),t=p(f_()),s=p(Ih()),n=p(gV),o=dx(),l=m_(),d=Cf(),u=p(xV()),h=p(g_());function p(N){return N&&N.__esModule?N:{default:N}}function m(N){if(typeof WeakMap!="function")return null;var k=new WeakMap,_=new WeakMap;return(m=function(P){return P?_:k})(N)}function y(N,k){if(N&&N.__esModule)return N;if(N===null||typeof N!="object"&&typeof N!="function")return{default:N};var _=m(k);if(_&&_.has(N))return _.get(N);var P={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in N)if(M!=="default"&&Object.prototype.hasOwnProperty.call(N,M)){var E=D?Object.getOwnPropertyDescriptor(N,M):null;E&&(E.get||E.set)?Object.defineProperty(P,M,E):P[M]=N[M]}return P.default=N,_&&_.set(N,P),P}function x(){return x=Object.assign?Object.assign.bind():function(N){for(var k=1;k<arguments.length;k++){var _=arguments[k];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(N[P]=_[P])}return N},x.apply(this,arguments)}function v(N,k,_){return k=w(k),k in N?Object.defineProperty(N,k,{value:_,enumerable:!0,configurable:!0,writable:!0}):N[k]=_,N}function w(N){var k=j(N,"string");return typeof k=="symbol"?k:String(k)}function j(N,k){if(typeof N!="object"||N===null)return N;var _=N[Symbol.toPrimitive];if(_!==void 0){var P=_.call(N,k);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(N)}class C extends e.Component{static getDerivedStateFromProps(k,_){let{position:P}=k,{prevPropsPosition:D}=_;return P&&(!D||P.x!==D.x||P.y!==D.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:P,prevPropsPosition:D}),{x:P.x,y:P.y,prevPropsPosition:{...P}}):null}constructor(k){super(k),v(this,"onDragStart",(_,P)=>{if((0,h.default)("Draggable: onDragStart: %j",P),this.props.onStart(_,(0,l.createDraggableData)(this,P))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(_,P)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",P);const D=(0,l.createDraggableData)(this,P),M={x:D.x,y:D.y,slackX:0,slackY:0};if(this.props.bounds){const{x:R,y:O}=M;M.x+=this.state.slackX,M.y+=this.state.slackY;const[B,L]=(0,l.getBoundPosition)(this,M.x,M.y);M.x=B,M.y=L,M.slackX=this.state.slackX+(R-M.x),M.slackY=this.state.slackY+(O-M.y),D.x=M.x,D.y=M.y,D.deltaX=M.x-this.state.x,D.deltaY=M.y-this.state.y}if(this.props.onDrag(_,D)===!1)return!1;this.setState(M)}),v(this,"onDragStop",(_,P)=>{if(!this.state.dragging||this.props.onStop(_,(0,l.createDraggableData)(this,P))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",P);const M={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:R,y:O}=this.props.position;M.x=R,M.y=O}this.setState(M)}),this.state={dragging:!1,dragged:!1,x:k.position?k.position.x:k.defaultPosition.x,y:k.position?k.position.y:k.defaultPosition.y,prevPropsPosition:{...k.position},slackX:0,slackY:0,isElementSVG:!1},k.position&&!(k.onDrag||k.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var k,_;return(k=(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current)!==null&&k!==void 0?k:s.default.findDOMNode(this)}render(){const{axis:k,bounds:_,children:P,defaultPosition:D,defaultClassName:M,defaultClassNameDragging:E,defaultClassNameDragged:R,position:O,positionOffset:B,scale:L,...$}=this.props;let J={},ce=null;const X=!!!O||this.state.dragging,F=O||D,ee={x:(0,l.canDragX)(this)&&X?this.state.x:F.x,y:(0,l.canDragY)(this)&&X?this.state.y:F.y};this.state.isElementSVG?ce=(0,o.createSVGTransform)(ee,B):J=(0,o.createCSSTransform)(ee,B);const H=(0,n.default)(P.props.className||"",M,{[E]:this.state.dragging,[R]:this.state.dragged});return e.createElement(u.default,x({},$,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(P),{className:H,style:{...P.props.style,...J},transform:ce}))}}r.default=C,v(C,"displayName","Draggable"),v(C,"propTypes",{...u.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),v(C,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(sg)),sg}var M2;function bV(){if(M2)return Il.exports;M2=1;const{default:r,DraggableCore:e}=vV();return Il.exports=r,Il.exports.default=r,Il.exports.DraggableCore=e,Il.exports}var wV=bV();const SV=P0(wV);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var M0=function(r,e){return M0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var n in s)s.hasOwnProperty(n)&&(t[n]=s[n])},M0(r,e)};function CV(r,e){M0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qt=function(){return Qt=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Qt.apply(this,arguments)};function kV(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t}var jV={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},NV=function(r){return{bottom:r,bottomLeft:r,bottomRight:r,left:r,right:r,top:r,topLeft:r,topRight:r}},TV=(function(r){CV(e,r);function e(t){var s=r.call(this,t)||this;return s.resizingPosition={x:0,y:0},s.offsetFromParent={left:0,top:0},s.resizableElement={current:null},s.originalPosition={x:0,y:0},s.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},s.onResizeStart=s.onResizeStart.bind(s),s.onResize=s.onResize.bind(s),s.onResizeStop=s.onResizeStop.bind(s),s.onDragStart=s.onDragStart.bind(s),s.onDrag=s.onDrag.bind(s),s.onDragStop=s.onDragStop.bind(s),s.getMaxSizesFromProps=s.getMaxSizesFromProps.bind(s),s}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,s=t.left,n=t.top,o=this.getDraggablePosition(),l=o.x,d=o.y;this.draggable.setState({x:l-s,y:d-n}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var t=this.draggable.state,s=t.x,n=t.y;return{x:s,y:n}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var t=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,s=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:t,maxHeight:s}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(t){var s=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/s;case"body":return document.body.offsetHeight/s;default:return t.offsetHeight}},e.prototype.getOffsetWidth=function(t){var s=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/s;case"body":return document.body.offsetWidth/s;default:return t.offsetWidth}},e.prototype.onDragStart=function(t,s){this.props.onDragStart&&this.props.onDragStart(t,s);var n=this.getDraggablePosition();if(this.originalPosition=n,!!this.props.bounds){var o=this.getParent(),l=this.props.scale,d;if(this.props.bounds==="parent")d=o;else if(this.props.bounds==="body"){var u=o.getBoundingClientRect(),h=u.left,p=u.top,m=document.body.getBoundingClientRect(),y=-(h-o.offsetLeft*l-m.left)/l,x=-(p-o.offsetTop*l-m.top)/l,v=(document.body.offsetWidth-this.resizable.size.width*l)/l+y,w=(document.body.offsetHeight-this.resizable.size.height*l)/l+x;return this.setState({bounds:{top:x,right:v,bottom:w,left:y}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var j=o.getBoundingClientRect(),C=j.left,N=j.top,k=-(C-o.offsetLeft*l)/l,_=-(N-o.offsetTop*l)/l,v=(window.innerWidth-this.resizable.size.width*l)/l+k,w=(window.innerHeight-this.resizable.size.height*l)/l+_;return this.setState({bounds:{top:_,right:v,bottom:w,left:k}})}else typeof this.props.bounds=="string"?d=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(d=this.props.bounds);if(!(!(d instanceof HTMLElement)||!(o instanceof HTMLElement))){var P=d.getBoundingClientRect(),D=P.left,M=P.top,E=o.getBoundingClientRect(),R=E.left,O=E.top,B=(D-R)/l,L=M-O;if(this.resizable){this.updateOffsetFromParent();var $=this.offsetFromParent;this.setState({bounds:{top:L-$.top,right:B+(d.offsetWidth-this.resizable.size.width)-$.left/l,bottom:L+(d.offsetHeight-this.resizable.size.height)-$.top,left:B-$.left/l}})}}}},e.prototype.onDrag=function(t,s){if(this.props.onDrag){var n=this.offsetFromParent,o=n.left,l=n.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(t,Qt(Qt({},s),{x:s.x+o,y:s.y+l}));if(this.props.dragAxis==="x")return this.props.onDrag(t,Qt(Qt({},s),{x:s.x+o,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(t,Qt(Qt({},s),{x:this.originalPosition.x+o,y:s.y+l,deltaX:0}))}},e.prototype.onDragStop=function(t,s){if(this.props.onDragStop){var n=this.offsetFromParent,o=n.left,l=n.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(t,Qt(Qt({},s),{x:s.x+o,y:s.y+l}));if(this.props.dragAxis==="x")return this.props.onDragStop(t,Qt(Qt({},s),{x:s.x+o,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(t,Qt(Qt({},s),{x:this.originalPosition.x+o,y:s.y+l,deltaX:0}))}},e.prototype.onResizeStart=function(t,s,n){t.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,l=this.offsetFromParent,d=this.getDraggablePosition();if(this.resizingPosition={x:d.x+l.left,y:d.y+l.top},this.originalPosition=d,this.props.bounds){var u=this.getParent(),h=void 0;this.props.bounds==="parent"?h=u:this.props.bounds==="body"?h=document.body:this.props.bounds==="window"?h=window:typeof this.props.bounds=="string"?h=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(h=this.props.bounds);var p=this.getSelfElement();if(p instanceof Element&&(h instanceof HTMLElement||h===window)&&u instanceof HTMLElement){var m=this.getMaxSizesFromProps(),y=m.maxWidth,x=m.maxHeight,v=this.getParentSize();if(y&&typeof y=="string")if(y.endsWith("%")){var w=Number(y.replace("%",""))/100;y=v.width*w}else y.endsWith("px")&&(y=Number(y.replace("px","")));if(x&&typeof x=="string")if(x.endsWith("%")){var w=Number(x.replace("%",""))/100;x=v.height*w}else x.endsWith("px")&&(x=Number(x.replace("px","")));var j=p.getBoundingClientRect(),C=j.left,N=j.top,k=this.props.bounds==="window"?{left:0,top:0}:h.getBoundingClientRect(),_=k.left,P=k.top,D=this.getOffsetWidth(h),M=this.getOffsetHeight(h),E=s.toLowerCase().endsWith("left"),R=s.toLowerCase().endsWith("right"),O=s.startsWith("top"),B=s.startsWith("bottom");if((E||O)&&this.resizable){var L=(C-_)/o+this.resizable.size.width;this.setState({maxWidth:L>Number(y)?y:L})}if(R||this.props.lockAspectRatio&&!E&&!O){var L=D+(_-C)/o;this.setState({maxWidth:L>Number(y)?y:L})}if((O||E)&&this.resizable){var L=(N-P)/o+this.resizable.size.height;this.setState({maxHeight:L>Number(x)?x:L})}if(B||this.props.lockAspectRatio&&!O&&!E){var L=M+(P-N)/o;this.setState({maxHeight:L>Number(x)?x:L})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,s,n)},e.prototype.onResize=function(t,s,n,o){var l=this,d={x:this.originalPosition.x,y:this.originalPosition.y},u=-o.width,h=-o.height,p=["top","left","topLeft","bottomLeft","topRight"];p.includes(s)&&(s==="bottomLeft"?d.x+=u:(s==="topRight"||(d.x+=u),d.y+=h));var m=this.draggable.state;(d.x!==m.x||d.y!==m.y)&&zo.flushSync(function(){l.draggable.setState(d)}),this.updateOffsetFromParent();var y=this.offsetFromParent,x=this.getDraggablePosition().x+y.left,v=this.getDraggablePosition().y+y.top;this.resizingPosition={x,y:v},this.props.onResize&&this.props.onResize(t,s,n,o,{x,y:v})},e.prototype.onResizeStop=function(t,s,n,o){this.setState({resizing:!1});var l=this.getMaxSizesFromProps(),d=l.maxWidth,u=l.maxHeight;this.setState({maxWidth:d,maxHeight:u}),this.props.onResizeStop&&this.props.onResizeStop(t,s,n,o,this.resizingPosition)},e.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},e.prototype.updatePosition=function(t){this.draggable.setState(t)},e.prototype.updateOffsetFromParent=function(){var t=this.props.scale,s=this.getParent(),n=this.getSelfElement();if(!s||n===null)return{top:0,left:0};var o=s.getBoundingClientRect(),l=o.left,d=o.top,u=n.getBoundingClientRect(),h=this.getDraggablePosition(),p=s.scrollLeft,m=s.scrollTop;this.offsetFromParent={left:u.left-l+p-h.x*t,top:u.top-d+m-h.y*t}},e.prototype.render=function(){var t=this,s=this.props,n=s.disableDragging,o=s.style,l=s.dragHandleClassName,d=s.position,u=s.onMouseDown,h=s.onMouseUp,p=s.dragAxis,m=s.dragGrid,y=s.bounds,x=s.enableUserSelectHack,v=s.cancel,w=s.children;s.onResizeStart,s.onResize,s.onResizeStop,s.onDragStart,s.onDrag,s.onDragStop;var j=s.resizeHandleStyles,C=s.resizeHandleClasses,N=s.resizeHandleComponent,k=s.enableResizing,_=s.resizeGrid,P=s.resizeHandleWrapperClass,D=s.resizeHandleWrapperStyle,M=s.scale,E=s.allowAnyClick,R=s.dragPositionOffset,O=kV(s,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),B=this.props.default?Qt({},this.props.default):void 0;delete O.default;var L=n||l?{cursor:"auto"}:{cursor:"move"},$=Qt(Qt(Qt({},jV),L),o),J=this.offsetFromParent,ce=J.left,V=J.top,X;d&&(X={x:d.x-ce,y:d.y-V});var F=this.state.resizing?void 0:X,ee=this.state.resizing?"both":p;return b.createElement(SV,{ref:function(H){H&&(t.draggable=H)},handle:l?".".concat(l):void 0,defaultPosition:B,onMouseDown:u,onMouseUp:h,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:ee,disabled:n,grid:m,bounds:y?this.state.bounds:void 0,position:F,enableUserSelectHack:x,cancel:v,scale:M,allowAnyClick:E,nodeRef:this.resizableElement,positionOffset:R},b.createElement(Vj,Qt({},O,{ref:function(H){H&&(t.resizable=H,t.resizableElement.current=H.resizable)},defaultSize:B,size:this.props.size,enable:typeof k=="boolean"?NV(k):k,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:$,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:_,handleWrapperClass:P,handleWrapperStyle:D,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:j,handleClasses:C,handleComponent:N,scale:this.props.scale}),w))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e})(b.PureComponent);const Lu=8;function _V(r){const[e,t]=b.useState({}),s=b.useMemo(()=>r.map(l=>({id:l.id,l:l.x,r:l.x+l.w,t:l.y,b:l.y+l.h,cx:l.x+l.w/2,cy:l.y+l.h/2})),[r]);function n(l,d){const u={l:d.x,r:d.x+d.w,t:d.y,b:d.y+d.h,cx:d.x+d.w/2,cy:d.y+d.h/2};let h=0,p=0,m,y;for(const v of s){if(v.id===l)continue;const w=[[u.l,v.l],[u.l,v.cx],[u.l,v.r],[u.cx,v.l],[u.cx,v.cx],[u.cx,v.r],[u.r,v.l],[u.r,v.cx],[u.r,v.r]];for(const[C,N]of w){const k=N-C;(Math.abs(k)<=Lu&&Math.abs(k)<Math.abs(h)||h===0)&&(h=k,m=N)}const j=[[u.t,v.t],[u.t,v.cy],[u.t,v.b],[u.cy,v.t],[u.cy,v.cy],[u.cy,v.b],[u.b,v.t],[u.b,v.cy],[u.b,v.b]];for(const[C,N]of j){const k=N-C;(Math.abs(k)<=Lu&&Math.abs(k)<Math.abs(p)||p===0)&&(p=k,y=N)}}t({v:m,h:y});const x={...d};return Math.abs(h)<=Lu&&(x.x+=h),Math.abs(p)<=Lu&&(x.y+=p),x}function o(){t({})}return{guides:e,snapRect:n,clearGuides:o}}function MV({onClear:r,blockId:e="chalk"}){const t=b.useRef(null),[s,n]=b.useState(!1),[o,l]=b.useState({color:"#b7cdfc",size:3,alpha:.95}),[d,u]=b.useState([]),h=["#b7cdfc","#ff6b9d","#ffd166","#5af5d0","#ff8a65","#a78bfa","#67e8f9","#84cc16"];b.useEffect(()=>{const k=t.current;if(!k)return;const _=window.devicePixelRatio||1,P=k.getBoundingClientRect();k.width=P.width*_,k.height=P.height*_;const D=k.getContext("2d");D&&(D.scale(_,_),D.lineJoin="round",D.lineCap="round",D.fillStyle="#0c1424",D.fillRect(0,0,P.width,P.height))},[e]),b.useEffect(()=>{const k=setTimeout(()=>{j()},150);return()=>clearTimeout(k)},[e]);const p=(k,_)=>{const P=t.current;if(!P)return;const D=P.getContext("2d");D&&(D.strokeStyle=o.color,D.globalAlpha=o.alpha,D.lineWidth=o.size,D.lineTo(k,_),D.stroke())},m=k=>{const _=t.current;if(!_)return{x:0,y:0};const P=_.getBoundingClientRect();return{x:k.clientX-P.left,y:k.clientY-P.top}},y=k=>{const{x:_,y:P}=m(k),D=t.current?.getContext("2d");D&&(D.beginPath(),D.moveTo(_,P),n(!0))},x=k=>{if(!s)return;const{x:_,y:P}=m(k);p(_,P)},v=()=>{n(!1),w()},w=()=>{try{const k=t.current;if(k){const _=k.toDataURL();localStorage.setItem(`chalkboard-${e}`,_)}}catch(k){console.warn("Failed to save chalkboard:",k)}},j=()=>{try{const k=localStorage.getItem(`chalkboard-${e}`);if(k&&t.current){const _=new Image;_.onload=()=>{const P=t.current?.getContext("2d");P&&P.drawImage(_,0,0)},_.src=k}}catch(k){console.warn("Failed to load chalkboard:",k)}},C=()=>{n(!1)},N=()=>{const k=t.current;if(!k)return;const _=k.getContext("2d");if(!_)return;const P=k.getBoundingClientRect();_.fillStyle="#0c1424",_.fillRect(0,0,P.width,P.height),r?.()};return i.jsxs("div",{className:"chalk-wrap w-full h-full",children:[i.jsx("div",{className:"chalk-tools w-full max-w-full",children:i.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[i.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center w-full",children:[i.jsx("span",{className:"text-xs flex-shrink-0 mr-1",children:"Colors:"}),i.jsxs("div",{className:"flex flex-wrap gap-1 flex-1 max-w-full overflow-hidden",children:[h.map(k=>i.jsx("button",{onClick:()=>l(_=>({..._,color:k})),className:`w-5 h-5 rounded border hover:scale-110 transition-transform flex-shrink-0 ${o.color===k?"border-white/60":"border-white/20"}`,style:{backgroundColor:k},title:k,"aria-label":`choose ${k}`},k)),i.jsx("input",{type:"color",value:o.color,onChange:k=>l(_=>({..._,color:k.target.value})),className:"w-5 h-5 rounded border border-white/20 flex-shrink-0",title:"Custom color"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 justify-between w-full",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx("span",{className:"text-xs flex-shrink-0",children:"Size:"}),i.jsx("input",{type:"range",min:1,max:12,value:o.size,onChange:k=>l(_=>({..._,size:+k.target.value})),className:"w-12 flex-shrink-0"}),i.jsxs("span",{className:"text-xs opacity-70 flex-shrink-0",children:[o.size,"px"]})]}),i.jsx("button",{onClick:N,className:"dropsource-btn-secondary text-xs px-2 py-1 flex-shrink-0",children:"Clear"})]})]})}),i.jsx("canvas",{ref:t,className:"chalk-canvas flex-1 w-full",onPointerDown:y,onPointerMove:x,onPointerUp:v,onPointerLeave:C,style:{touchAction:"none"}})]})}function EV(){return i.jsxs("div",{className:"ph-card",children:[i.jsxs("div",{className:"ph-top",children:[i.jsxs("div",{className:"ph-id",children:[i.jsx("div",{className:"ph-avatar",children:"T"}),i.jsxs("div",{children:[i.jsx("div",{className:"ph-name",children:"TestUser"}),i.jsx("div",{className:"ph-handle",children:"@TestUser • Eugene, OR"})]}),i.jsx("span",{className:"ph-pro",title:"DropSource BLUE",children:"DS BLUE"})]}),i.jsxs("div",{className:"ph-ctas",children:[i.jsx("button",{className:"cta donate",title:"Send a one-time tip",children:"🎁 Donate"}),i.jsx("button",{className:"cta monthly",title:"Monthly support",children:"💚 Monthly Support"}),i.jsx("button",{className:"cta ghost",children:"Message"})]})]}),i.jsx("p",{className:"ph-bio",children:"Check out the Kickstarter!"}),i.jsxs("div",{className:"ph-stats",children:[i.jsx("span",{children:"⭐ 12,847 stars"}),i.jsx("span",{children:"🧩 Level 47"}),i.jsx("span",{children:"🛡️ Trust 94%"}),i.jsx("span",{children:"👥 2,341 followers"}),i.jsx("span",{children:"🧍 892 following"})]}),i.jsxs("div",{className:"ph-links",children:[i.jsx("a",{children:"SoundCloud"}),i.jsx("a",{children:"YouTube"}),i.jsx("a",{children:"Spotify"})]})]})}function y_({preset:r,density:e="medium",opacity:t=1,zIndex:s=1,colors:n}){const o=b.useRef(null),l=b.useRef();return b.useEffect(()=>{const d=o.current,u=d.getContext("2d",{alpha:!0});Object.assign(d.style,{position:"absolute",inset:"0",width:"100%",height:"100%",pointerEvents:"none",zIndex:String(s)});const h=()=>{const be=d.getBoundingClientRect(),pe=Math.max(1,window.devicePixelRatio||1);d.width=Math.max(1,Math.round(be.width*pe)),d.height=Math.max(1,Math.round(be.height*pe)),u.setTransform(1,0,0,1,0,0),u.scale(pe,pe)};h();const p=new ResizeObserver(h);p.observe(d);const m=()=>d.getBoundingClientRect(),y=e==="low"?40:e==="high"?160:90,x=n??["#86E1FF","#A78BFA","#FDE68A","#34D399"],v=(be,pe)=>Math.random()*(pe-be)+be,w=(be,pe,re)=>Math.max(pe,Math.min(re,be));function j(be,pe){return Math.sin(be*127.1+pe*311.7)*43758.5453%1}function C(be,pe){const re=Math.floor(be),ge=Math.floor(pe),ae=be-re,ve=pe-ge,Re=j(re,ge),Pe=j(re+1,ge),Je=j(re,ge+1),He=j(re+1,ge+1),le=(ct,vt,jr)=>ct+(vt-ct)*jr,Ge=ae*ae*(3-2*ae),st=ve*ve*(3-2*ve);return le(le(Re,Pe,Ge),le(Je,He,Ge),st)}const N=(be,pe=3)=>(Math.sin(be*pe)+1)/2,k=()=>{const be=[{n:Math.floor(y*.45),sp:12,size:[.6,1.1],col:"rgba(255,255,255,0.9)"},{n:Math.floor(y*.35),sp:28,size:[.8,1.6],col:"rgba(185,205,255,0.8)"},{n:Math.floor(y*.2),sp:50,size:[1,2],col:"rgba(150,180,255,0.75)"}].map(re=>({...re,pts:Array.from({length:re.n},()=>({x:v(0,m().width),y:v(0,m().height),r:v(re.size[0],re.size[1])}))}));let pe=null;return{draw(re){const{width:ge,height:ae}=m();if(u.clearRect(0,0,ge,ae),be.forEach(ve=>{u.fillStyle=ve.col,ve.pts.forEach(Re=>{Re.x-=ve.sp*re,Re.x<0&&(Re.x=ge);const Pe=Math.round(Re.x)+.5,Je=Math.round(Re.y)+.5;u.beginPath(),u.arc(Pe,Je,Re.r,0,Math.PI*2),u.fill()})}),!pe&&Math.random()<.015&&(pe={x:v(ge*.3,ge),y:v(0,ae*.6),vx:v(-360,-240),vy:v(-40,40),len:v(50,90),life:.24}),pe){pe.life-=re,pe.x+=pe.vx*re,pe.y+=pe.vy*re;const ve=w(pe.life/.24,0,1),Re=Math.atan2(pe.vy,pe.vx),Pe=pe.x-Math.cos(Re)*pe.len,Je=pe.y-Math.sin(Re)*pe.len,He=u.createLinearGradient(pe.x,pe.y,Pe,Je);He.addColorStop(0,`rgba(255,255,255,${.95*t*ve})`),He.addColorStop(1,"rgba(255,255,255,0)"),u.strokeStyle=He,u.lineWidth=1.6,u.beginPath(),u.moveTo(pe.x,pe.y),u.lineTo(Pe,Je),u.stroke(),(ve<=0||pe.x<-120||pe.y<-80||pe.y>ae+80)&&(pe=null)}}}},_=()=>{const be=Array.from({length:y},()=>({x:v(0,m().width),y:v(-m().height,m().height),r:v(1.8,3.4),vy:v(25,55),phase:v(0,Math.PI*2),sway:v(10,30)}));return{draw(pe){u.clearRect(0,0,m().width,m().height),be.forEach(re=>{re.phase+=pe,re.y+=re.vy*pe,re.x+=Math.sin(re.phase)*re.sway*pe,re.y>m().height+4&&(re.y=-4,re.x=v(0,m().width)),u.beginPath(),u.fillStyle="rgba(255,255,255,0.85)",u.shadowColor="rgba(255,255,255,0.6)",u.shadowBlur=4,u.arc(re.x,re.y,re.r,0,Math.PI*2),u.fill(),u.shadowBlur=0})}}},P=()=>{const be=Math.floor(y*.35),pe=Array.from({length:be},()=>({x:v(0,m().width),y:v(0,m().height),r:v(2.2,3.6),t:v(0,Math.PI*2),s:v(.6,1.2),hue:v(40,90)}));return{draw(re){u.clearRect(0,0,m().width,m().height),pe.forEach(ge=>{ge.t+=re*ge.s,ge.x+=Math.cos(ge.t)*12*re,ge.y+=Math.sin(ge.t*1.3)*12*re,ge.x<0&&(ge.x=m().width),ge.x>m().width&&(ge.x=0),ge.y<0&&(ge.y=m().height),ge.y>m().height&&(ge.y=0);const ae=.35+.65*N(ge.t,2.2);u.beginPath(),u.fillStyle=`hsla(${ge.hue},80%,70%,${ae})`,u.shadowColor=`hsla(${ge.hue},100%,70%,${ae})`,u.shadowBlur=10,u.arc(ge.x,ge.y,ge.r*(1+ae*.4),0,Math.PI*2),u.fill(),u.shadowBlur=0})}}},D=()=>{const be=Array.from({length:y},()=>({x:v(0,m().width),y:v(-m().height,m().height),z:v(.6,1.5),r:v(7,14),rot:v(0,Math.PI*2),vr:v(-1,1),vx:v(10,22),vy:v(24,46),wob:v(.8,1.4),h:v(330,355),shape:Math.random()*3|0})),pe=(ge,ae,ve)=>{ge.beginPath(),ve===0?(ge.moveTo(0,-ae*.05),ge.bezierCurveTo(ae*.7,-ae*.6,ae*.92,ae*.1,0,ae*.88),ge.bezierCurveTo(-ae*.92,ae*.1,-ae*.7,-ae*.6,0,-ae*.05)):ve===1?(ge.moveTo(0,-ae*.18),ge.bezierCurveTo(ae*.65,-ae*.55,ae*.85,ae*.15,0,ae*.9),ge.bezierCurveTo(-ae*.85,ae*.15,-ae*.65,-ae*.55,0,-ae*.18)):(ge.moveTo(0,-ae*.06),ge.bezierCurveTo(ae*.55,-ae*.62,ae*.95,ae*.15,0,ae*.92),ge.bezierCurveTo(-ae*.95,ae*.15,-ae*.55,-ae*.62,0,-ae*.06),ge.save(),ge.globalCompositeOperation="destination-out",ge.arc(0,-ae*.04,ae*.16,0,Math.PI*2),ge.fill(),ge.restore()),ge.closePath()};let re=0;return{draw(ge){const{width:ae,height:ve}=m();re+=ge,u.clearRect(0,0,ae,ve);const Re=Math.sin(re*.4)*18;be.forEach(Pe=>{Pe.x+=(Pe.vx+Re)*ge*(.6+Pe.z*.4),Pe.y+=Pe.vy*ge*(.7+Pe.z*.3),Pe.rot+=Pe.vr*ge,Pe.x+=Math.sin((re+Pe.rot)*Pe.wob)*5*ge,Pe.y>ve+24&&(Pe.y=-24,Pe.x=v(0,ae)),Pe.x>ae+24&&(Pe.x=-24);const Je=Pe.r*(.65+Pe.z*.45);u.save(),u.translate(Pe.x,Pe.y),u.rotate(Pe.rot),u.scale(1,.9+Math.sin(re*1.2+Pe.rot)*.1);const He=u.createRadialGradient(0,0,0,0,0,Je);He.addColorStop(0,`hsla(${Pe.h},90%,92%,${.95*t})`),He.addColorStop(1,`hsla(${Pe.h},75%,82%,${.65*t})`),u.fillStyle=He,pe(u,Je,Pe.shape),u.fill(),u.strokeStyle="rgba(255,255,255,0.45)",u.lineWidth=.7,u.stroke(),u.restore()})}}},M=()=>{const be=Math.max(20,Math.floor(m().width/14)),pe=Array.from({length:be},(ge,ae)=>({x:Math.floor(ae*(m().width/be)),y:v(-m().height,0),speed:v(90,160),len:Math.floor(v(12,26)),t:0})),re="0123456789";return{draw(ge){const{width:ae,height:ve}=m();u.fillStyle="rgba(0,0,0,0.12)",u.fillRect(0,0,ae,ve),pe.forEach(Re=>{Re.t+=ge,Re.y+=Re.speed*ge,Re.y-Re.len*16>ve&&(Re.y=-v(0,ve*.5),Re.speed=v(90,160),Re.len=Math.floor(v(12,26)));for(let Pe=0;Pe<Re.len;Pe++){const Je=Re.y-Pe*16;if(Je<-16||Je>ve+16)continue;const He=Math.max(0,1-Pe/Re.len),le=Pe===0;u.fillStyle=le?"rgba(180,255,180,1)":`rgba(0,255,128,${.15+He*.6})`,u.font="14px ui-monospace, SFMono-Regular, Menlo, Consolas, monospace",u.fillText(re[Math.floor((Re.t*20+Pe)%re.length)],Re.x,Je)}})}}},E=()=>{const be=Array.from({length:y},()=>({x:v(0,m().width),y:v(-m().height,0),w:v(3,7),h:v(6,12),vy:v(60,120),vx:v(-20,20),rot:v(0,Math.PI*2),vr:v(-1.2,1.2),col:x[Math.floor(v(0,x.length))]}));return{draw(pe){u.clearRect(0,0,m().width,m().height),be.forEach(re=>{re.y+=re.vy*pe,re.x+=re.vx*pe,re.rot+=re.vr*pe,re.y>m().height+16&&(re.y=-16,re.x=v(0,m().width)),u.save(),u.translate(re.x,re.y),u.rotate(re.rot),u.fillStyle=re.col,u.fillRect(-re.w/2,-re.h/2,re.w,re.h),u.restore()})}}},R=()=>{const be=Array.from({length:Math.floor(y*.5)},()=>({x:v(0,m().width),y:v(0,m().height),r:v(6,14),vy:v(-16,-40)}));return{draw(pe){u.clearRect(0,0,m().width,m().height),be.forEach(re=>{re.y+=re.vy*pe,re.y<-re.r&&(re.y=m().height+re.r,re.x=v(0,m().width)),u.beginPath(),u.strokeStyle="rgba(255,255,255,0.35)",u.lineWidth=1.2,u.arc(re.x,re.y,re.r,0,Math.PI*2),u.stroke()})}}},O=()=>{const be=Array.from({length:Math.floor(y*.2)},()=>({x:v(-m().width*.2,m().width*.8),y:v(-m().height*.2,m().height*.5),vx:v(180,260),vy:v(80,140),len:v(40,80)}));return{draw(pe){u.clearRect(0,0,m().width,m().height),be.forEach(re=>{re.x+=re.vx*pe,re.y+=re.vy*pe,(re.x>m().width+40||re.y>m().height+40)&&(re.x=v(-m().width*.2,m().width*.1),re.y=v(-m().height*.2,m().height*.1));const ge=Math.atan2(re.vy,re.vx),ae=re.x-Math.cos(ge)*re.len,ve=re.y-Math.sin(ge)*re.len,Re=u.createLinearGradient(re.x,re.y,ae,ve);Re.addColorStop(0,"rgba(255,255,255,0.9)"),Re.addColorStop(1,"rgba(255,255,255,0.0)"),u.strokeStyle=Re,u.lineWidth=2.2,u.beginPath(),u.moveTo(re.x,re.y),u.lineTo(ae,ve),u.stroke()})}}},B=()=>{const be=Array.from({length:90},()=>({x:v(0,m().width),y:v(0,m().height),r:v(.7,1.5),tw:v(0,Math.PI*2)}));let pe=0;return{draw(re){pe+=re*.25;const{width:ge,height:ae}=m(),ve=u.createLinearGradient(0,0,0,ae);ve.addColorStop(0,"#08101c"),ve.addColorStop(1,"#0a0d15"),u.fillStyle=ve,u.fillRect(0,0,ge,ae),be.forEach(Pe=>{Pe.tw+=re*1.6;const Je=.35+.65*((Math.sin(Pe.tw)+1)/2);u.globalAlpha=t*Je,u.fillStyle="#fff",u.beginPath(),u.arc(Pe.x,Pe.y,Pe.r,0,Math.PI*2),u.fill()}),u.globalCompositeOperation="lighter";const Re=3;for(let Pe=0;Pe<Re;Pe++){const Je=n[Pe%n.length]||["#7ef3ff","#a78bfa","#34d399"][Pe%3];u.strokeStyle=Je,u.shadowColor=Je,u.shadowBlur=26,u.lineWidth=30,u.globalAlpha=t*.28,u.beginPath();for(let He=0;He<=ge;He+=16){const le=C(He*.012+Pe*1.8,pe+Pe*7.3),Ge=ae*.22+Pe*90+(le-.5)*160;He===0?u.moveTo(He,Ge):u.lineTo(He,Ge)}u.stroke(),u.lineWidth=2,u.shadowBlur=0,u.globalAlpha=t*.85,u.stroke()}u.globalCompositeOperation="source-over",u.globalAlpha=1}}},L=()=>{const be=Array.from({length:Math.floor(y*.55)},()=>({x:v(0,m().width),y:v(0,m().height),r:v(16,28),a:v(.05,.1)}));let pe=0;return{draw(re){pe+=re*.23;const{width:ge,height:ae}=m();u.clearRect(0,0,ge,ae),be.forEach(ve=>{const Re=(C(ve.x*.006,ve.y*.006+pe)-.5)*18,Pe=(C(ve.x*.006+100,ve.y*.006+pe)-.5)*16;ve.x+=Re*re,ve.y+=Pe*re,ve.x<-40&&(ve.x=ge+40),ve.x>ge+40&&(ve.x=-40),ve.y<-40&&(ve.y=ae+40),ve.y>ae+40&&(ve.y=-40);const Je=u.createRadialGradient(ve.x,ve.y,0,ve.x,ve.y,ve.r);Je.addColorStop(0,`rgba(255,255,255,${ve.a*t})`),Je.addColorStop(1,"rgba(255,255,255,0)"),u.fillStyle=Je,u.beginPath(),u.arc(ve.x,ve.y,ve.r,0,Math.PI*2),u.fill()})}}},$=()=>{let be=[],pe=0;const re=()=>{const ge=v(0,m().width),ae=v(0,m().height*.5),ve=v(0,m().width),Re=v(m().height*.4,m().height),Pe=12,Je=[{x:ge,y:ae}];for(let He=1;He<Pe-1;He++){const le=He/(Pe-1),Ge=ge+(ve-ge)*le+v(-14,14),st=ae+(Re-ae)*le+v(-14,14);Je.push({x:Ge,y:st})}Je.push({x:ve,y:Re}),be.push({pts:Je,life:.18})};return{draw(ge){pe-=ge,pe<=0&&(re(),pe=v(.25,.6)),u.fillStyle="rgba(0,0,0,0.12)",u.fillRect(0,0,m().width,m().height),be.forEach(ae=>{ae.life-=ge;const ve=w(ae.life/.18,0,1);u.strokeStyle=`rgba(173,216,255,${.7*ve})`,u.lineWidth=2.2,u.beginPath(),u.moveTo(ae.pts[0].x,ae.pts[0].y);for(let Re=1;Re<ae.pts.length;Re++)u.lineTo(ae.pts[Re].x,ae.pts[Re].y);u.stroke()}),be=be.filter(ae=>ae.life>0)}}},J=()=>{const be=Array.from({length:Math.floor(y*.4)},()=>({x:v(0,m().width),y:v(0,m().height),r:v(10,24),vr:v(-.6,.6),rot:v(0,Math.PI*2),hue:v(170,320)}));return{draw(pe){u.clearRect(0,0,m().width,m().height),be.forEach(re=>{re.rot+=re.vr*pe,u.save(),u.translate(re.x,re.y),u.rotate(re.rot),u.strokeStyle=`hsla(${re.hue},90%,60%,0.8)`,u.lineWidth=1.5,u.shadowBlur=8,u.shadowColor=`hsla(${re.hue},90%,60%,0.9)`,u.beginPath(),u.moveTo(0,-re.r),u.lineTo(re.r*.866,re.r*.5),u.lineTo(-re.r*.866,re.r*.5),u.closePath(),u.stroke(),u.restore(),u.shadowBlur=0})}}},ce=()=>{const be=Array.from({length:Math.floor(y*.25)},()=>({x:v(-m().width*.2,m().width),y:v(-m().height*.1,m().height*.6),vx:v(60,110),vy:v(10,40),len:v(16,28),rot:v(-.2,.2)}));return{draw(pe){u.clearRect(0,0,m().width,m().height),be.forEach(re=>{re.x+=re.vx*pe,re.y+=re.vy*pe,re.x>m().width+40&&(re.x=-40,re.y=v(0,m().height*.5)),u.save(),u.translate(re.x,re.y),u.rotate(re.rot),u.fillStyle="rgba(255,255,255,0.9)",u.beginPath(),u.moveTo(0,0),u.lineTo(re.len,re.len*.4),u.lineTo(0,re.len*.2),u.closePath(),u.fill(),u.restore()})}}},V=(be,pe)=>{const[re,ge]=pe?.vy??[80,160],ae=pe?.font??"18px system-ui, Apple Color Emoji, Segoe UI Emoji, Noto Color Emoji",ve=Array.from({length:Math.floor(y*.6)},()=>({x:v(0,m().width),y:v(-m().height,0),vy:v(re,ge),g:be[Math.floor(Math.random()*be.length)],rot:v(-.25,.25)}));return{draw(Re){const{width:Pe,height:Je}=m();u.clearRect(0,0,Pe,Je),u.font=ae,u.textBaseline="middle",ve.forEach(He=>{He.y+=He.vy*Re,He.y>Je+24&&(He.y=-24,He.x=v(0,Pe)),u.save(),u.translate(He.x,He.y),u.rotate(He.rot),u.globalAlpha=.9*t,u.fillText(He.g,0,0),u.restore()})}}},X=["🎵","✨","💜","🔥","🪙","⭐️","🎧","💎","🌸"],F=["💗","💘","💖","💝","💕"],ee=["🪙","💰","💵"],H=["⭐️","🌟","✨"],de={none:()=>({draw:()=>{}}),starfield:k,snow:_,fireflies:P,confetti:E,bubbles:R,meteors:O,matrixDigits:M,sakura:D,aurora:B,smoke:L,electric:$,neonTriangles:J,paperPlanes:ce,emojiRain:()=>V(X),heartsRain:()=>V(F,{vy:[70,130]}),coinsRain:()=>V(ee,{vy:[110,200]}),starsRain:()=>V(H,{vy:[80,150]}),rain:()=>{const be=Array.from({length:Math.floor(y*1.2)},()=>({x:v(0,m().width),y:v(-m().height,0),vy:v(280,420),len:v(10,20)}));return{draw(pe){const{width:re,height:ge}=m();u.clearRect(0,0,re,ge),u.globalAlpha=t*.8,u.strokeStyle="rgba(200,220,255,0.9)",u.lineWidth=1,be.forEach(ae=>{ae.y+=ae.vy*pe,ae.y>ge&&(ae.y=-10,ae.x=Math.random()*re),u.beginPath(),u.moveTo(ae.x,ae.y),u.lineTo(ae.x,ae.y+ae.len),u.stroke()})}}},butterflies:()=>{const be=Math.max(8,Math.floor(y*.22)),pe=Array.from({length:be},()=>({x:v(0,m().width),y:v(0,m().height*.6),t:v(0,Math.PI*2),s:v(.55,1.1),hue:v(290,350)}));return{draw(re){const{width:ge,height:ae}=m();u.clearRect(0,0,ge,ae),pe.forEach(ve=>{ve.t+=re*ve.s,ve.x+=Math.cos(ve.t*1.2)*22*re,ve.y+=Math.sin(ve.t*1.4)*16*re,ve.x<0&&(ve.x=ge),ve.x>ge&&(ve.x=0),ve.y<0&&(ve.y=ae),ve.y>ae&&(ve.y=0);const Re=(Math.sin(ve.t*10)+1)/2;u.save(),u.translate(ve.x,ve.y),u.fillStyle=`hsla(${ve.hue},90%,70%,${.85*t})`,u.beginPath(),u.ellipse(-7,0,10,6+Re*3,0,0,Math.PI*2),u.fill(),u.beginPath(),u.ellipse(7,0,10,6+Re*3,0,0,Math.PI*2),u.fill(),u.fillStyle=`hsla(${ve.hue},60%,35%,${.9*t})`,u.fillRect(-1.5,-5,3,10),u.strokeStyle=`hsla(${ve.hue},60%,35%,${.9*t})`,u.lineWidth=1,u.beginPath(),u.moveTo(0,-5),u.quadraticCurveTo(-3,-9,-4,-11),u.moveTo(0,-5),u.quadraticCurveTo(3,-9,4,-11),u.stroke(),u.restore()})}}},musicNotes:()=>{const be=["♪","♫","♬","♩","♭","♯"],pe=Array.from({length:Math.floor(y*.6)},()=>({x:v(0,m().width),y:v(-m().height,0),vy:v(60,120),ch:be[Math.floor(Math.random()*be.length)],rot:v(-.3,.3)}));return{draw(re){const{width:ge,height:ae}=m();u.clearRect(0,0,ge,ae),pe.forEach(ve=>{ve.y+=ve.vy*re,ve.y>ae+20&&(ve.y=-20,ve.x=Math.random()*ge),u.save(),u.translate(ve.x,ve.y),u.rotate(ve.rot),u.font="18px ui-serif, Georgia, Times New Roman, serif",u.fillStyle=`rgba(255,255,255,${.85*t})`,u.fillText(ve.ch,0,0),u.restore()})}}},sparkles:()=>{const be=Array.from({length:y},()=>({x:v(0,m().width),y:v(0,m().height),t:v(0,Math.PI*2),s:v(.6,1.4)}));return{draw(pe){u.clearRect(0,0,m().width,m().height),be.forEach(re=>{re.t+=pe*2;const ge=.25+.75*((Math.sin(re.t*4)+1)/2),ae=2+2*Math.sin(re.t)*re.s;u.save(),u.translate(re.x,re.y),u.globalAlpha=ge*t,u.strokeStyle="rgba(255,255,255,0.9)",u.lineWidth=1,u.beginPath(),u.moveTo(-ae,0),u.lineTo(ae,0),u.moveTo(0,-ae),u.lineTo(0,ae),u.stroke(),u.restore()})}}}},me=(de[r]??de.starfield)();let _e=performance.now();const Ve=be=>{const pe=Math.min(.05,(be-_e)/1e3);_e=be,u.globalAlpha=t,me.draw(pe),l.current=requestAnimationFrame(Ve)};return l.current=requestAnimationFrame(Ve),()=>{l.current&&cancelAnimationFrame(l.current),p.disconnect()}},[r,e,t,s,n]),i.jsx("canvas",{ref:o})}const li=[{id:"1",username:"@TestUser",description:"Check out this beat! 🔥",likes:2100,comments:156,shares:89,backgroundColor:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"2",username:"@BeatMaker",description:"New track preview! What do you think? 🎵",likes:1800,comments:234,shares:67,backgroundColor:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{id:"3",username:"@ProducerLife",description:"Studio session vibes ✨",likes:3200,comments:445,shares:123,backgroundColor:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{id:"4",username:"@MusicCreator",description:"Late night inspiration 🌙",likes:2650,comments:189,shares:78,backgroundColor:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},{id:"5",username:"@SoundDesigner",description:"Experimental sounds 🎛️",likes:1950,comments:267,shares:95,backgroundColor:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"}];function PV({width:r=300,height:e=400}){const[t,s]=b.useState(0),[n,o]=b.useState(!1),[l,d]=b.useState(!0),[u,h]=b.useState(0),[p,m]=b.useState(0),[y,x]=b.useState(!1),[v,w]=b.useState(0),[j,C]=b.useState(!1),N=b.useRef(null),k=li[t],_=b.useCallback($=>{if(y)return;const J=$.targetTouches[0].clientY;h(J),m(J),C(!0),w(0)},[y]),P=b.useCallback($=>{if(!j||y)return;$.preventDefault();const J=$.targetTouches[0].clientY,ce=J-u;let V=ce*.6;(t===0&&ce>0||t===li.length-1&&ce<0)&&(V=ce*.3),w(V),m(J)},[u,j,t,y]),D=b.useCallback(()=>{if(!j||y)return;C(!1);const $=u-p,J=Math.abs($),ce=25,V=40,X=$>ce||$>10&&J>V,F=$<-ce||$<-10&&J>V;X&&t<li.length-1?E():F&&t>0&&R(),w(0)},[u,p,t,j,y]),M=b.useCallback($=>{if($.preventDefault(),y)return;const J=$.deltaY,ce=50;J>ce&&t<li.length-1?E():J<-ce&&t>0&&R()},[t,y]),E=()=>{t<li.length-1&&!y&&(x(!0),w(0),s($=>$+1),setTimeout(()=>x(!1),150))},R=()=>{t>0&&!y&&(x(!0),w(0),s($=>$-1),setTimeout(()=>x(!1),150))};b.useEffect(()=>{const $=N.current;if($)return $.addEventListener("wheel",M,{passive:!1}),()=>{$.removeEventListener("wheel",M)}},[M]);const O=$=>$>=1e3?($/1e3).toFixed(1)+"K":$.toString(),B=()=>{o(!n)},L=()=>{d(!l)};return i.jsxs("div",{ref:N,className:"relative w-full h-full bg-black rounded-lg overflow-hidden",onTouchStart:_,onTouchMove:P,onTouchEnd:D,style:{width:`${r}px`,height:`${e}px`,touchAction:"pan-y",userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"},children:[i.jsxs("div",{className:"absolute inset-0 ease-out",style:{background:k.backgroundColor,transform:`translateY(${v}px)`,opacity:y?.95:1,transition:j?"none":"all 150ms ease-out"},children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("button",{onClick:B,className:"w-14 h-14 rounded-full bg-black/30 hover:bg-black/50 border-2 border-white/50 backdrop-blur-sm transition-all flex items-center justify-center",children:n?i.jsx(Xh,{className:"w-6 h-6 text-white fill-white"}):i.jsx(_c,{className:"w-6 h-6 text-white fill-white ml-0.5"})})}),n&&i.jsx("div",{className:"absolute bottom-20 left-4 flex items-end gap-1",children:[...Array(6)].map(($,J)=>i.jsx("div",{className:"w-1 bg-white rounded-full opacity-80",style:{height:`${Math.random()*16+8}px`,animation:`audioVisualization ${Math.random()*.4+.6}s ease-in-out infinite alternate`}},J))}),i.jsx("button",{onClick:L,className:"absolute top-4 right-4 w-8 h-8 bg-black/30 backdrop-blur-sm rounded-full flex items-center justify-center",children:l?i.jsx(eA,{className:"w-4 h-4 text-white"}):i.jsx(GC,{className:"w-4 h-4 text-white"})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:i.jsxs("div",{className:"flex items-end justify-between",children:[i.jsxs("div",{className:"flex-1 pr-4",children:[i.jsx("p",{className:"text-white font-semibold text-sm mb-1",children:k.username}),i.jsx("p",{className:"text-white/90 text-sm mb-3",children:k.description}),i.jsxs("div",{className:"flex items-center gap-4 text-white/80 text-xs",children:[i.jsxs("span",{children:["♥ ",O(k.likes)]}),i.jsxs("span",{children:["💬 ",O(k.comments)]}),i.jsxs("span",{children:["📤 ",O(k.shares)]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[i.jsx("button",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm hover:bg-white/20 transition-colors",children:i.jsx(Eo,{className:"w-5 h-5 text-white"})}),i.jsx("button",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm hover:bg-white/20 transition-colors",children:i.jsx(Sr,{className:"w-5 h-5 text-white"})}),i.jsx("button",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm hover:bg-white/20 transition-colors",children:i.jsx(WC,{className:"w-5 h-5 text-white"})})]})]})}),i.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex flex-col gap-1",children:li.map(($,J)=>i.jsx("div",{className:`w-1 h-6 rounded-full transition-all cursor-pointer hover:bg-white/70 ${J===t?"bg-white":"bg-white/40"}`,onClick:()=>{!y&&J!==t&&(x(!0),s(J),w(0),setTimeout(()=>x(!1),150))}},J))}),t===0&&i.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 text-white/60 text-xs bg-black/30 px-2 py-1 rounded backdrop-blur-sm",children:"Swipe ↕ or scroll for more videos"})]}),i.jsxs("div",{className:"absolute top-4 left-4 bg-black/30 backdrop-blur-sm px-2 py-1 rounded text-xs text-white",children:[t+1," / ",li.length]}),i.jsx("style",{jsx:!0,children:`
        @keyframes audioVisualization {
          0% { height: 8px; }
          100% { height: 20px; }
        }
      `})]})}function DV({title:r="Late Night Beats 🎵",isLive:e=!0,viewerCount:t=127,category:s="Music Creation",thumbnail:n}){const[o,l]=b.useState(!1),[d,u]=b.useState(t);b.useEffect(()=>{if(!e)return;const p=setInterval(()=>{u(m=>{const y=Math.floor(Math.random()*6)-2;return Math.max(50,m+y)})},3e3);return()=>clearInterval(p)},[e]);const h=()=>{l(!o)};return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"relative flex-1 min-h-0 mb-3",children:i.jsxs("div",{className:"w-full h-full rounded-lg overflow-hidden relative",style:{background:n?`url(${n})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundSize:"cover",backgroundPosition:"center"},children:[e&&i.jsx("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:i.jsxs("div",{className:"px-2 py-1 rounded-full flex items-center gap-1.5",style:{backgroundColor:"#DC2626",animation:"pulse 2s ease-in-out infinite"},children:[i.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),i.jsx("span",{className:"text-white text-xs font-semibold",children:"LIVE"})]})}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:"px-2 py-1 rounded-full backdrop-blur-md flex items-center gap-1",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[i.jsx(ka,{className:"w-3 h-3 text-white"}),i.jsx("span",{className:"text-white text-xs font-medium",children:d})]})}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(Se,{onClick:h,className:"w-14 h-14 rounded-full bg-black/50 hover:bg-black/70 border-2 border-white/30 backdrop-blur-sm transition-all",style:{background:o?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)"},children:o?i.jsx(Xh,{className:"w-6 h-6 text-white fill-white"}):i.jsx(_c,{className:"w-6 h-6 text-white fill-white ml-0.5"})})}),o&&i.jsx("div",{className:"absolute bottom-3 left-3 flex items-end gap-1",children:[...Array(8)].map((p,m)=>i.jsx("div",{className:"w-1 bg-white rounded-full",style:{height:`${Math.random()*20+10}px`,animation:`audioVisualization ${Math.random()*.5+.5}s ease-in-out infinite alternate`,opacity:.8}},m))})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-sm mb-1",style:{color:"#E6ECF3"},children:r}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ft,{style:{backgroundColor:"rgba(99, 179, 255, 0.1)",color:"#63B3FF",fontSize:"10px"},children:s}),e&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(w3,{className:"w-3 h-3",style:{color:"#DC2626"}}),i.jsx("span",{className:"text-xs",style:{color:"#DC2626"},children:"Live"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-1.5 rounded hover:bg-gray-700 transition-colors",children:i.jsx(Eo,{className:"w-4 h-4 text-gray-400 hover:text-red-400"})}),i.jsx("button",{className:"p-1.5 rounded hover:bg-gray-700 transition-colors",children:i.jsx(Sr,{className:"w-4 h-4 text-gray-400 hover:text-blue-400"})}),i.jsx("button",{className:"p-1.5 rounded hover:bg-gray-700 transition-colors",children:i.jsx(WC,{className:"w-4 h-4 text-gray-400 hover:text-green-400"})})]}),i.jsx(Se,{className:"text-xs px-3 py-1.5 h-auto",style:{background:e?"linear-gradient(90deg, #DC2626 0%, #EF4444 100%)":"linear-gradient(90deg, #3B82F6 0%, #1D4ED8 100%)",color:"white",border:"none"},onClick:()=>console.log(e?"Join stream":"Watch recording"),children:e?"Join Stream":"Watch"})]})]}),i.jsx("style",{jsx:!0,children:`
        @keyframes audioVisualization {
          0% { height: 8px; }
          100% { height: 24px; }
        }
      `})]})}const nh=[{id:"profile-header",type:"header",x:24,y:24,w:980,h:180,locked:!0,movable:!0,resizable:!0,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}},{id:"new-drops",type:"new-drops",x:24,y:220,w:520,h:160,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}},{id:"your-posts",type:"your-posts",x:560,y:220,w:520,h:160,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}},{id:"comments",type:"comments",x:24,y:388,w:520,h:144,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}},{id:"links",type:"links",x:560,y:388,w:520,h:144,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}},{id:"collection",type:"collection",x:24,y:544,w:1056,h:160,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}},{id:"chalk",type:"chalkboard",x:24,y:712,w:1056,h:190,locked:!0,movable:!0,resizable:!0,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}},{id:"shop",type:"shop",x:24,y:914,w:520,h:150,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}},{id:"friends",type:"friends",x:560,y:914,w:520,h:150,style:{kind:"solid",color:"rgba(16,22,36,.92)",radius:16,border:"1px solid rgba(255,255,255,.08)",shadow:"0 12px 30px rgba(0,0,0,.24)"}}];function AV(r){localStorage.setItem("profile.blocks",JSON.stringify(r))}function RV(){try{return JSON.parse(localStorage.getItem("profile.blocks")||"[]")}catch{return[]}}function OV(r){switch(r){case"purple":return"linear-gradient(135deg, #615CFF, #8F63FF)";case"mint":return"linear-gradient(135deg, #00F5D4, #A78BFA)";case"gold":return"linear-gradient(135deg, #FFD700, #FFB347)";case"dark":default:return"radial-gradient(1200px 800px at 25% 0%, #0e1626 0%, #0b1322 45%, #091021 100%)"}}function FV({block:r,onDelete:e,onStyleChange:t,children:s}){const[n,o]=b.useState(!0);b.useLayoutEffect(()=>{o(r.visible!==!1)},[r.visible]);const l=()=>{e()},d=()=>{o(!n)},{style:u={}}=r,h=u.kind==="linear"?`linear-gradient(${u.angle??135}deg, ${u.from}, ${u.to})`:u.color??"rgba(16,22,36,.92)";return i.jsxs("div",{className:"block-frame",style:{background:h,borderRadius:(u.radius??16)+"px",border:u.border??"1px solid rgba(255,255,255,.08)",boxShadow:u.shadow??"0 12px 30px rgba(0,0,0,.24)",width:"100%",height:"100%",position:"relative"},children:[i.jsxs("div",{className:"block-toolbar",children:[i.jsx("span",{className:"block-drag-handle",children:"⋮⋮"}),i.jsx("button",{className:`eye ${n?"on":"off"}`,onClick:d,title:n?"Hide block":"Show block",style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",color:n?"#5af5d0":"#ff6b6b",borderRadius:"8px",padding:"4px 8px",cursor:"pointer",fontSize:"12px"},children:n?"👁️":"🙈"}),r.type!=="header"&&r.type!=="chalkboard"&&i.jsx("button",{className:"icon-btn",title:"Delete",onClick:l,children:"🗑️"}),i.jsx(LV,{current:u,onChange:t})]}),i.jsx("div",{className:"block-content",children:s})]})}function LV({current:r,onChange:e}){const[t,s]=b.useState(!1),n=[{kind:"solid",color:"rgba(16,22,36,.92)",label:"Dark"},{kind:"solid",color:"rgba(67,163,255,.15)",label:"Blue"},{kind:"linear",from:"#615CFF",to:"#8F63FF",angle:135,label:"Purple"},{kind:"linear",from:"#00F5D4",to:"#A78BFA",angle:135,label:"Mint"}];return i.jsxs("div",{className:"relative",children:[i.jsx("button",{className:"icon-btn",onClick:()=>s(!t),title:"Change style",children:"🎨"}),t&&i.jsx("div",{className:"absolute top-8 right-0 bg-gray-800 border border-gray-600 rounded p-2 z-50",children:i.jsx("div",{className:"grid grid-cols-2 gap-1",children:n.map((o,l)=>i.jsx("button",{className:"w-8 h-6 rounded border border-gray-600 hover:scale-110 transition-transform",style:{background:o.kind==="solid"?o.color:`linear-gradient(${o.angle}deg, ${o.from}, ${o.to})`},onClick:()=>{e({...r,kind:o.kind,color:o.color,from:o.from,to:o.to,angle:o.angle}),s(!1)},title:o.label},l))})})]})}const zV=b.forwardRef(({initialBlocks:r=nh,onBlocksChange:e,snapToGrid:t=!1,editMode:s=!0,backgroundCSS:n,particleEffect:o,currentSheet:l,onDrop:d,onBlockSelect:u,showGridLines:h=!1,canvasBackground:p="dark"},m)=>{const[y,x]=b.useState(r),[v,w]=b.useState(1),j=b.useRef(null),C=b.useRef(null),{guides:N,snapRect:k,clearGuides:_}=_V(y.map(V=>({id:V.id,x:V.x,y:V.y,w:V.w,h:V.h}))),P=()=>{if(!j.current||!y.length)return;const V=120,X=Math.max(...y.map(ee=>ee.x+ee.w),1200),F=Math.max(...y.map(ee=>ee.y+ee.h),900);j.current.style.width=`${X+V}px`,j.current.style.height=`${F+V}px`};b.useLayoutEffect(()=>{j.current&&(j.current.style.transformOrigin="0 0")},[]),b.useLayoutEffect(()=>{P()},[y.length]),b.useLayoutEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]),b.useImperativeHandle(m,()=>({addBlock:(V,X,F)=>{B(V,X,F)},updateBlock:V=>{M(V.id,V)},getBlocks:()=>y}),[y]);const D=V=>{w(V),j.current&&(j.current.style.transform=`scale(${V})`)},M=(V,X)=>{x(F=>{const ee=F.map(H=>H.id===V?{...H,...X}:H);return C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{e?.(ee),C.current=null},0),ee})},E=16,R=(V,X)=>{const F=Math.round(V/E)*E,ee=Math.round(X/E)*E;return{x:F,y:ee}},O=V=>{const X=y.find(F=>F.id===V);X&&(x(F=>{const ee=F.filter(H=>H.id!==V);return setTimeout(()=>e?.(ee),0),ee}),JT("Block deleted",{action:{label:"Undo",onClick:()=>{x(F=>{const ee=[...F,X];return setTimeout(()=>e?.(ee),0),ee})}},duration:3e3}))},B=(V,X,F)=>{const ee={id:crypto.randomUUID(),type:V,x:X,y:F,w:360,h:200,style:{kind:"solid",color:"rgba(14,19,28,.78)",radius:16,border:"1px solid rgba(148,163,184,.18)",shadow:"0 8px 24px rgba(0,0,0,.35)"}};x(H=>{const z=[...H,ee];return setTimeout(()=>e?.(z),0),z})},L=()=>{x(nh),setTimeout(()=>e?.(nh),0)},$=()=>{AV(y),console.log("Layout saved!")},J=()=>{const V=RV();V.length>0?(x(V),setTimeout(()=>e?.(V),0)):L()},ce=V=>{switch(V.type){case"header":return i.jsx(EV,{});case"chalkboard":return i.jsx(MV,{blockId:V.id});case"new-drops":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(ja,{className:"w-4 h-4"})," New Drops"]}),i.jsx("div",{className:"space-y-2",children:["Midnight Vibes","Summer Heat"].map((X,F)=>i.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 p-2 rounded",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded flex items-center justify-center text-sm",children:F===0?"🎵":"🔥"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:X}),i.jsx("p",{className:"text-xs opacity-70",children:F===0?"2 days ago":"5 days ago"})]})]},F))})]});case"your-posts":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(Yl,{className:"w-4 h-4"})," Your Posts"]}),i.jsxs("div",{className:"bg-gray-800/50 p-3 rounded",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"Just dropped a new beat pack!"}),i.jsx("p",{className:"text-xs opacity-70",children:"Community • 3 days ago"})]})]});case"comments":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(Sr,{className:"w-4 h-4"})," Comments"]}),i.jsxs("div",{className:"bg-gray-800/50 p-3 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-xs",children:"U"}),i.jsx("span",{className:"text-sm font-medium",children:"User123"})]}),i.jsx("p",{className:"text-sm opacity-80",children:'"Amazing beats! Keep it up! 🔥"'})]})]});case"links":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(xw,{className:"w-4 h-4"})," Links"]}),i.jsx("div",{className:"space-y-2",children:["My SoundCloud","YouTube Channel"].map((X,F)=>i.jsxs("a",{href:"#",className:"flex items-center gap-2 bg-gray-800/50 p-2 rounded hover:bg-gray-700/50 transition-colors",children:[i.jsx(xw,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:X})]},F))})]});case"collection":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(ja,{className:"w-4 h-4"})," My Collection"]}),i.jsx("div",{className:"flex-1 flex items-center",children:i.jsx("div",{className:"flex gap-2 flex-wrap",children:["🎵","🔥","⭐","💎"].map((X,F)=>i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded flex items-center justify-center",children:X},F))})})]});case"shop":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(c3,{className:"w-4 h-4"})," Shop"]}),i.jsxs("div",{className:"bg-gray-800/50 p-3 rounded",children:[i.jsx("div",{className:"w-full h-16 bg-gradient-to-br from-purple-500 to-blue-500 rounded mb-2"}),i.jsx("p",{className:"text-xs font-medium",children:"Beat Pack Vol. 1"}),i.jsx("p",{className:"text-xs opacity-70",children:"⭐ 299"})]})]});case"friends":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(ss,{className:"w-4 h-4"})," Friends"]}),i.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3].map(X=>i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-red-500 to-pink-500 rounded-full border-2 border-gray-800"},X)),i.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-full border-2 border-gray-800 flex items-center justify-center",children:i.jsx("span",{className:"text-xs",children:"+12"})})]})]});case"donators":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(Eo,{className:"w-4 h-4"})," Donators"]}),i.jsx("div",{className:"space-y-2",children:["MusicLover42","BeatFan2024"].map((X,F)=>i.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 p-2 rounded",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full flex items-center justify-center text-xs",children:"🎁"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:X}),i.jsxs("p",{className:"text-xs opacity-70",children:["⭐ ",F===0?"500":"250"," stars"]})]})]},F))})]});case"monthly-supporters":return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(rt,{className:"w-4 h-4"})," Monthly Supporters"]}),i.jsx("div",{className:"space-y-2",children:["ProducerPro","SynthLover","Collaborator1"].map((X,F)=>i.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 p-2 rounded",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-xs",children:"💚"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:X}),i.jsx("p",{className:"text-xs opacity-70",children:F<2?"Active":"2 months"})]})]},F))})]});case"videos":return i.jsx(PV,{width:V.w,height:V.h});case"stream":return i.jsx(DV,{});default:return i.jsx("div",{className:"h-full flex items-center justify-center opacity-70",children:i.jsxs("p",{className:"text-sm",children:["Content for ",V.type]})})}};return i.jsxs("div",{className:"w-full h-full relative",children:[i.jsx("div",{className:"top-controls",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:$,className:"dropsource-btn-secondary text-xs",children:"Save Layout"}),i.jsx("button",{onClick:L,className:"dropsource-btn-secondary text-xs",children:"Reset Layout"}),i.jsx("button",{onClick:J,className:"dropsource-btn-secondary text-xs",children:"Load Layout"}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("label",{className:"text-xs opacity-70",children:"Zoom:"}),i.jsx("input",{type:"range",min:"70",max:"130",value:v*100,onChange:V=>D(parseInt(V.target.value)/100),className:"w-16"}),i.jsxs("span",{className:"text-xs opacity-70",children:[Math.round(v*100),"%"]})]})]})}),i.jsx("div",{id:"profile-canvas",className:"profile-canvas",style:{background:OV(p),backgroundImage:h?"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)":void 0,backgroundSize:h?"16px 16px":void 0},children:i.jsxs("div",{id:"profile-canvas-inner",ref:j,className:"profile-canvas-inner",children:[n&&i.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:n,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:0}}),i.jsx("div",{className:"canvas-sheet",style:{zIndex:1}}),o&&o!=="none"&&i.jsx(y_,{preset:o,density:"medium",opacity:1,zIndex:2}),N.v!==void 0&&i.jsx("div",{className:"guide-v",style:{left:N.v,zIndex:9999}}),N.h!==void 0&&i.jsx("div",{className:"guide-h",style:{top:N.h,zIndex:9999}}),y.map(V=>i.jsx(TV,{bounds:"#profile-canvas-inner",size:{width:V.w,height:V.h},position:{x:V.x,y:V.y},scale:v,enableResizing:V.resizable!==!1,disableDragging:V.movable===!1,dragHandleClassName:"block-drag-handle",onDrag:(X,F)=>{k(V.id,{id:V.id,x:F.x,y:F.y,w:V.w,h:V.h})},onDragStop:(X,F)=>{const ee=k(V.id,{id:V.id,x:F.x,y:F.y,w:V.w,h:V.h}),H=R(ee.x,ee.y);M(V.id,{x:H.x,y:H.y}),_(),setTimeout(()=>P(),0)},onResizeStop:(X,F,ee,H,z)=>{const Z=k(V.id,{id:V.id,x:z.x,y:z.y,w:ee.offsetWidth,h:ee.offsetHeight}),q=R(Z.x,Z.y);M(V.id,{w:Z.w??ee.offsetWidth,h:Z.h??ee.offsetHeight,x:q.x,y:q.y}),_(),setTimeout(()=>P(),0)},minWidth:360,minHeight:120,dragGrid:t?[16,16]:void 0,resizeGrid:t?[16,16]:void 0,children:i.jsx(FV,{block:V,onDelete:()=>!V.locked&&O(V.id),onStyleChange:X=>M(V.id,{style:X}),children:ce(V)})},V.id))]})})]})}),IV=[{kind:"linear",from:"#6DC7FF",to:"#E6ABFF",angle:135},{kind:"linear",from:"#FFB56B",to:"#FD5E53",angle:135},{kind:"linear",from:"#00D2FF",to:"#3A47D5",angle:135},{kind:"radial",inner:"rgba(255,240,200,.25)",outer:"rgba(20,26,40,.9)"}],BV=["#121A26","#0F172A","#1E293B","#111827","#0B1220","#101828"];function VV({block:r,onChange:e}){return i.jsxs("div",{className:"grid gap-2 w-full max-w-full overflow-hidden",children:[i.jsx("div",{className:"text-xs opacity-70",children:"Solid"}),i.jsx("div",{className:"flex gap-1.5 flex-wrap max-w-full overflow-hidden",children:BV.map(t=>i.jsx("button",{"aria-label":t,onClick:()=>e({kind:"solid",color:t}),className:"flex-shrink-0",style:{width:24,height:24,borderRadius:6,background:t,border:"1px solid #223042"}},t))}),i.jsx("div",{className:"text-xs mt-3 opacity-70",children:"Gradients"}),i.jsx("div",{className:"flex gap-2 flex-wrap max-w-full overflow-hidden",children:IV.map((t,s)=>i.jsx("button",{onClick:()=>e(t),className:"flex-shrink-0",style:{width:80,height:24,borderRadius:6,border:"1px solid #223042",background:t.kind==="linear"?`linear-gradient(${t.angle??135}deg, ${t.from}, ${t.to})`:`radial-gradient(circle at 35% 30%, ${t.inner}, ${t.outer})`}},s))}),i.jsxs("div",{className:"mt-3 flex items-center gap-2 max-w-full",children:[i.jsx("label",{className:"text-xs opacity-70 flex-shrink-0",children:"Radius"}),i.jsx("input",{type:"range",min:8,max:28,defaultValue:r.style?.radius??18,onChange:t=>e({...r.style,radius:Number(t.target.value)}),className:"flex-1 min-w-0"})]})]})}function WV({block:r,onChange:e}){const t=s=>{e({...r,style:s})};return i.jsxs("div",{className:"space-y-3 p-3 dropsource-card",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Block Style"}),i.jsx(VV,{block:r,onChange:t})]})}const HV=[{key:"starfield",label:"Starfield",emoji:"🌌",group:"Calm",description:"Streaming stars with occasional meteors"},{key:"aurora",label:"Aurora",emoji:"🌃",group:"Calm",description:"Northern lights dancing across dark sky"},{key:"smoke",label:"Mystic Smoke",emoji:"💨",group:"Calm",description:"Ambient haze drifting softly"},{key:"snow",label:"Snow",emoji:"❄️",group:"Calm",description:"Gentle snowfall with wind effects"},{key:"bubbles",label:"Bubbles",emoji:"🫧",group:"Calm",description:"Floating soap bubbles rising up"},{key:"confetti",label:"Confetti",emoji:"🎉",group:"Playful",description:"Colorful celebration confetti"},{key:"emojiRain",label:"Emoji Rain",emoji:"😊",group:"Playful",description:"Musical emojis falling from sky"},{key:"butterflies",label:"Butterflies",emoji:"🦋",group:"Playful",description:"Butterflies with flapping wings"},{key:"starsRain",label:"Stars Rain",emoji:"✨",group:"Playful",description:"Twinkling stars falling down"},{key:"sparkles",label:"Sparkles",emoji:"⭐",group:"Playful",description:"Quick celebratory shimmer"},{key:"matrixDigits",label:"Matrix",emoji:"🟩",group:"Sci-Fi",description:"Green digital rain columns"},{key:"meteors",label:"Meteors",emoji:"☄️",group:"Sci-Fi",description:"Fast-moving space meteors"},{key:"electric",label:"Electric",emoji:"⚡",group:"Sci-Fi",description:"Lightning bolts flashing"},{key:"neonTriangles",label:"Neon",emoji:"🔺",group:"Sci-Fi",description:"Glowing neon geometric shapes"},{key:"coinsRain",label:"Coins",emoji:"🪙",group:"Sci-Fi",description:"Golden coins for achievements"},{key:"sakura",label:"Sakura",emoji:"🌸",group:"Nature",description:"Cherry blossom petals falling"},{key:"heartsRain",label:"Hearts",emoji:"💗",group:"Nature",description:"Romantic hearts floating down"},{key:"fireflies",label:"Fireflies",emoji:"🪲",group:"Nature",description:"Glowing bugs with gentle movement"},{key:"rain",label:"Rain",emoji:"🌧️",group:"Nature",description:"Fast diagonal raindrops"},{key:"musicNotes",label:"Music Notes",emoji:"🎵",group:"Nature",description:"Musical notation symbols"},{key:"paperPlanes",label:"Paper Planes",emoji:"✈️",group:"Nature",description:"Paper airplanes gliding across"}];function UV({value:r,onChange:e,density:t="medium",onDensityChange:s}){const n=["Calm","Playful","Sci-Fi","Nature"];return i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Particle Effects"}),s&&i.jsxs("div",{children:[i.jsx("div",{className:"text-xs mb-2 opacity-70",children:"Intensity"}),i.jsx("div",{className:"flex gap-1",children:["low","medium","high"].map(o=>i.jsx("button",{onClick:()=>s(o),className:`flex-1 px-2 py-1 border rounded text-xs capitalize transition-all ${t===o?"border-white/30 bg-white/5 text-white":"border-white/10 hover:bg-white/5 text-white/70 hover:text-white"}`,children:o},o))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{className:`h-10 rounded border text-sm font-medium transition-all ${r?"border-white/10 hover:border-cyan-400/50 text-white/70 hover:text-white":"border-cyan-400/50 bg-cyan-400/10 text-cyan-400"}`,onClick:()=>e(void 0),title:"Disable particles",children:"None"}),n.map(o=>HV.filter(d=>d.group===o).map(d=>i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("div",{className:`rounded border p-2 cursor-pointer transition-all ${r===d.key?"border-cyan-400/50 bg-cyan-400/5 text-cyan-400":"border-white/10 hover:border-cyan-400/50 hover:bg-white/5 text-white/70 hover:text-white"}`,onClick:()=>e(d.key),children:i.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[i.jsxs("span",{children:[d.emoji," ",d.label]}),i.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/10",children:d.group})]})})}),i.jsx(St,{side:"right",className:"dropsource-card",children:i.jsx("p",{style:{fontSize:"var(--text-sm)"},children:d.description})})]},d.key)))]})]})}function $V(){return i.jsxs("div",{className:"advanced",children:[i.jsxs("div",{className:"card",children:[i.jsx("h4",{children:"Custom HTML / CSS (Tumblr/MySpace-style)"}),i.jsx("p",{className:"muted",children:"Paste custom CSS or light HTML to restyle your profile. (Sandboxed in demo)"}),i.jsx("textarea",{placeholder:"/* CSS here (demo placeholder) */",rows:8,disabled:!0}),i.jsx("div",{className:"hint",children:"In the full version you'll be able to theme containers, fonts, and colors."})]}),i.jsxs("div",{className:"card",children:[i.jsx("h4",{children:"AI Profile Helper (Preview)"}),i.jsx("p",{className:"muted",children:"Describe what you want and we'll suggest layout, colors and blocks."}),i.jsx("input",{className:"ai-input",placeholder:"e.g., cozy dark theme, neon accents, big header, grid gallery"}),i.jsxs("div",{className:"row",children:[i.jsx("button",{className:"cta",children:"Try Prompt"}),i.jsx("button",{className:"cta ghost",children:"Use Suggestion"})]}),i.jsxs("ul",{className:"muted small",children:[i.jsx("li",{children:'• "minimal pastel with rounded cards"'}),i.jsx("li",{children:'• "vaporwave gradient, center header, 2-col feed"'}),i.jsx("li",{children:'• "mocha theme, photos first, chalkboard at bottom"'})]})]})]})}function GV(r,e){if(r.locked)return r;const t={radius:18,border:"1px solid #223042",shadow:"var(--elev-1)"};switch(e){case"calm":return{...r,style:{kind:"solid",color:"rgba(18,24,38,.86)",...t}};case"vibrant":return{...r,style:{kind:"linear",from:"#6DC7FF",to:"#E6ABFF",angle:135,...t}};case"cosmic":return{...r,style:{kind:"radial",inner:"rgba(110,80,255,.28)",outer:"rgba(10,14,24,.96)",...t}};case"minimal":return{...r,style:{kind:"solid",color:"#0B1220",border:"1px solid #1b2a3b",radius:14,shadow:"none"}}}}function YV(r,e){return e.map(t=>GV(t,r))}const XV=[{emoji:"🐾",name:"paw",color:"#FFB039",label:"Paw"},{emoji:"💖",name:"heart",color:"#FF6BAA",label:"Heart"},{emoji:"🔥",name:"fire",color:"#FF4757",label:"Fire"},{emoji:"✨",name:"sparkles",color:"#5BE9E9",label:"Sparkles"},{emoji:"💀",name:"skull",color:"#A78BFA",label:"Skull"}],KV=[{type:"collection",icon:"🎵",label:"Collection",category:"Core"},{type:"new-drops",icon:"📄",label:"New Drops",category:"Content"},{type:"comments",icon:"💬",label:"Comments",category:"Social"},{type:"your-posts",icon:"📝",label:"Your Posts",category:"Content"},{type:"links",icon:"🔗",label:"Links",category:"Social"},{type:"shop",icon:"🛒",label:"Shop",category:"Commerce"},{type:"friends",icon:"👥",label:"Friends",category:"Social"},{type:"donators",icon:"🎁",label:"Donators",category:"Social"},{type:"monthly-supporters",icon:"💚",label:"Monthly Supporters",category:"Social"},{type:"photos",icon:"📸",label:"Photo Grid",category:"Media"},{type:"videos",icon:"📹",label:"Video Player",category:"Media"},{type:"stream",icon:"📺",label:"Live Stream",category:"Media"},{type:"music-player",icon:"🎶",label:"Music Player",category:"Media"},{type:"pinned-note",icon:"📌",label:"Pinned Note",category:"Content"},{type:"stats",icon:"📊",label:"Stats Block",category:"Core"},{type:"events",icon:"📅",label:"Events",category:"Content"},{type:"poll",icon:"📊",label:"Poll/Question",category:"Social"},{type:"mini-games",icon:"🎮",label:"Mini Games",category:"Media"}];function qV({onNavigate:r}){const e=b.useRef(null),t=b.useRef(null),{flair:s}=h_(),[n,o]=b.useState("blocks"),[l,d]=b.useState(!0),[u,h]=b.useState(!1),[p,m]=b.useState(),[y,x]=b.useState("medium"),[v,w]=b.useState(null),[j,C]=b.useState(null),[N,k]=b.useState(nh),[_,P]=b.useState(!0),[D,M]=b.useState(!1),[E,R]=b.useState(!0),[O,B]=b.useState("dark"),[L,$]=b.useState(null),[J,ce]=b.useState("calm"),V=H=>{const z=t.current?.getBlocks()||[],Z=YV(H,z);Z.forEach(q=>{t.current?.updateBlock(q)}),ce(H),console.log(`Applied ${H} theme to ${Z.length} blocks`)},X=(H,z)=>{B(H),z&&$(z);const Z=document.getElementById("profile-canvas");if(Z)if(H==="custom"&&z)Z.style.setProperty("--canvas-bg",`url(${z})`),Z.style.backgroundSize="cover",Z.style.backgroundPosition="center",Z.style.backgroundRepeat="no-repeat";else switch(Z.style.backgroundSize="",Z.style.backgroundPosition="",Z.style.backgroundRepeat="",H){case"dark":Z.style.setProperty("--canvas-bg","radial-gradient(1200px 800px at 25% 0%, #0e1626 0%, #0b1322 45%, #091021 100%)");break;case"purple":Z.style.setProperty("--canvas-bg","linear-gradient(135deg, #615CFF, #8F63FF)");break;case"mint":Z.style.setProperty("--canvas-bg","linear-gradient(135deg, #00F5D4, #A78BFA)");break;case"gold":Z.style.setProperty("--canvas-bg","linear-gradient(135deg, #FFD700, #FFB347)");break}},F=H=>{R(H),document.body.setAttribute("data-theme",H?"dark":"light")},ee=H=>{const z=H.target.files?.[0];if(z){const Z=new FileReader;Z.onload=q=>{const oe=q.target?.result;X("custom",oe)},Z.readAsDataURL(z)}};return i.jsxs("div",{className:"h-full overflow-hidden dropsource-bg dropsource-text-primary",children:[i.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-black/20",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>r("community"),className:"dropsource-toolbar-button",children:i.jsx(Nc,{className:"w-4 h-4"})}),i.jsx("h1",{className:"text-xl font-semibold",children:"Enhanced Profile"})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Se,{onClick:()=>h(!u),className:u?"dropsource-btn-primary":"dropsource-btn-secondary",children:[u?i.jsx(ka,{className:"w-4 h-4 mr-2"}):i.jsx(mD,{className:"w-4 h-4 mr-2"}),u?"Preview Mode":"Edit Mode"]})})]}),i.jsxs("div",{className:"flex h-full",children:[!u&&i.jsxs("div",{className:"profile-sidebar border-r border-gray-700 dropsource-panel overflow-y-auto flex flex-col",children:[i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"space-y-2 mb-6",children:[{id:"blocks",label:"Add Blocks",icon:i.jsx(h3,{className:"w-4 h-4"})},{id:"appearance",label:"Appearance",icon:i.jsx(ys,{className:"w-4 h-4"})},{id:"particles",label:"Particles",icon:i.jsx(Jr,{className:"w-4 h-4"})},{id:"advanced",label:"Advanced",icon:i.jsx(na,{className:"w-4 h-4"})}].map(H=>i.jsxs("button",{onClick:()=>o(H.id),className:`w-full flex items-center gap-3 p-3 rounded text-left transition-all ${n===H.id?"dropsource-btn-primary":"dropsource-btn-ghost hover:dropsource-surface"}`,children:[H.icon,H.label]},H.id))})}),i.jsx(J7,{}),i.jsxs("div",{className:"flex-1 p-4 dropsource-custom-scrollbar",children:[n==="blocks"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Drag Blocks to Canvas"}),i.jsx("p",{className:"text-xs opacity-70 mb-4",children:"Drag any block from below onto your profile canvas to add it. Each block can be individually styled and positioned."}),["Core","Content","Social","Media","Commerce"].map(H=>{const z=KV.filter(Z=>Z.category===H);return z.length===0?null:i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-medium opacity-60 mb-2 uppercase tracking-wide",children:H}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:z.map(({type:Z,icon:q,label:oe})=>i.jsxs("div",{draggable:!0,onDragStart:he=>{w(Z),he.dataTransfer.setData("blockKind",Z)},onDragEnd:()=>w(null),className:`dropsource-btn-secondary p-3 h-auto text-xs flex flex-col items-center gap-1 cursor-grab hover:scale-105 transition-all ${v===Z?"scale-95 opacity-50":""}`,children:[i.jsx("span",{className:"text-sm",children:q}),i.jsx("span",{className:"text-center leading-tight",children:oe})]},Z))})]},H)})]})}),n==="appearance"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Canvas Background"}),i.jsx("p",{className:"text-xs opacity-70 mb-3",children:"Choose a background for your profile canvas."}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[i.jsx("button",{className:`h-12 rounded border transition-all hover:scale-105 ${O==="dark"?"ring-2 ring-cyan-400/40 border-cyan-400/50":"border-white/10"}`,style:{background:"radial-gradient(1200px 800px at 25% 0%, #0e1626 0%, #0b1322 45%, #091021 100%)"},title:"Dark theme",onClick:()=>X("dark")}),i.jsx("button",{className:`h-12 rounded border transition-all hover:scale-105 ${O==="purple"?"ring-2 ring-cyan-400/40 border-cyan-400/50":"border-white/10"}`,style:{background:"linear-gradient(135deg, #615CFF, #8F63FF)"},title:"Purple gradient",onClick:()=>X("purple")}),i.jsx("button",{className:`h-12 rounded border transition-all hover:scale-105 ${O==="mint"?"ring-2 ring-cyan-400/40 border-cyan-400/50":"border-white/10"}`,style:{background:"linear-gradient(135deg, #00F5D4, #A78BFA)"},title:"Mint gradient",onClick:()=>X("mint")}),i.jsx("button",{className:`h-12 rounded border transition-all hover:scale-105 ${O==="gold"?"ring-2 ring-cyan-400/40 border-cyan-400/50":"border-white/10"}`,style:{background:"linear-gradient(135deg, #FFD700, #FFB347)"},title:"Gold gradient",onClick:()=>X("gold")})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("label",{className:"dropsource-btn-secondary cursor-pointer block text-center p-3",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:ee,className:"hidden"}),"Upload Custom Image"]}),L&&i.jsx("p",{className:"text-xs opacity-70 mt-2",children:"Custom background uploaded"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Global Themes"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>V("calm"),className:`p-3 rounded border text-sm hover:bg-white/5 ${J==="calm"?"ring-2 ring-cyan-400/40 border-cyan-400/50":""}`,style:{borderColor:J==="calm"?"var(--dropsource-brand)":"var(--card-stroke)"},children:"Calm"}),i.jsx("button",{onClick:()=>V("vibrant"),className:`p-3 rounded border text-sm hover:bg-white/5 ${J==="vibrant"?"ring-2 ring-cyan-400/40 border-cyan-400/50":""}`,style:{borderColor:J==="vibrant"?"var(--dropsource-brand)":"var(--card-stroke)"},children:"Vibrant"}),i.jsx("button",{onClick:()=>V("cosmic"),className:`p-3 rounded border text-sm hover:bg-white/5 ${J==="cosmic"?"ring-2 ring-cyan-400/40 border-cyan-400/50":""}`,style:{borderColor:J==="cosmic"?"var(--dropsource-brand)":"var(--card-stroke)"},children:"Cosmic"}),i.jsx("button",{onClick:()=>V("minimal"),className:`p-3 rounded border text-sm hover:bg-white/5 ${J==="minimal"?"ring-2 ring-cyan-400/40 border-cyan-400/50":""}`,style:{borderColor:J==="minimal"?"var(--dropsource-brand)":"var(--card-stroke)"},children:"Minimal"})]})]}),j&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Selected Block Style"}),i.jsx(WV,{block:j,onChange:H=>{C(H),t.current?.updateBlock(H)}})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Theme Options"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Snap to Grid (16px)"}),i.jsx(ra,{checked:_,onCheckedChange:P})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Show Grid Lines"}),i.jsx(ra,{checked:D,onCheckedChange:M})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Dark Mode"}),i.jsx(ra,{checked:E,onCheckedChange:F})]})]})]})]}),n==="particles"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(UV,{value:p,onChange:H=>m(H),density:y,onDensityChange:x}),i.jsx("div",{children:i.jsx(ZV,{})})]}),n==="advanced"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx($V,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Layout Presets"}),i.jsx("p",{className:"text-xs opacity-70 mb-3",children:"Three professionally designed layouts that work great out of the box."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Se,{onClick:()=>{const H=document.getElementById("profile-canvas-inner");H&&t.current&&rn(async()=>{const{layoutBalanced:z,convertLayoutToBlocks:Z}=await import("./defaultLayouts-C8nlqDbR.js");return{layoutBalanced:z,convertLayoutToBlocks:Z}},[]).then(({layoutBalanced:z,convertLayoutToBlocks:Z})=>{const q=H.clientWidth||1400,oe=z(q),he=Z(oe);k(he),console.log("Applied Balanced layout with",he.length,"blocks")})},className:"w-full dropsource-btn-primary",children:"Balanced Layout"}),i.jsx(Se,{onClick:()=>{const H=document.getElementById("profile-canvas-inner");H&&t.current&&rn(async()=>{const{layoutCreator:z,convertLayoutToBlocks:Z}=await import("./defaultLayouts-C8nlqDbR.js");return{layoutCreator:z,convertLayoutToBlocks:Z}},[]).then(({layoutCreator:z,convertLayoutToBlocks:Z})=>{const q=H.clientWidth||1400,oe=z(q),he=Z(oe);k(he),console.log("Applied Creator layout with",he.length,"blocks")})},className:"w-full dropsource-btn-secondary",children:"Creator Layout"}),i.jsx(Se,{onClick:()=>{const H=document.getElementById("profile-canvas-inner");H&&t.current&&rn(async()=>{const{layoutStorefront:z,convertLayoutToBlocks:Z}=await import("./defaultLayouts-C8nlqDbR.js");return{layoutStorefront:z,convertLayoutToBlocks:Z}},[]).then(({layoutStorefront:z,convertLayoutToBlocks:Z})=>{const q=H.clientWidth||1400,oe=z(q),he=Z(oe);k(he),console.log("Applied Storefront layout with",he.length,"blocks")})},className:"w-full dropsource-btn-secondary",children:"Storefront Layout"}),i.jsxs("div",{className:"text-xs opacity-50 space-y-1 mt-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Balanced:"})," Hero → activity → social → tools"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Creator:"})," Dense feed on left, tools on right"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Storefront:"})," Commerce blocks prioritized"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Privacy Settings"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Public Profile"}),i.jsx(ra,{defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Allow Comments"}),i.jsx(ra,{defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Show Activity"}),i.jsx(ra,{defaultChecked:!0})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Export Options"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Se,{className:"w-full dropsource-btn-secondary",children:"Export Profile as Image"}),i.jsx(Se,{className:"w-full dropsource-btn-secondary",children:"Share Profile Link"})]})]})]})]})]}),i.jsx("div",{className:"flex-1 p-6",onDrop:H=>{H.preventDefault();const z=H.dataTransfer.getData("blockKind");if(z){const Z=H.currentTarget.getBoundingClientRect(),q=H.clientX-Z.left-24,oe=H.clientY-Z.top-24,he=16,fe=Math.round(q/he)*he,G=Math.round(oe/he)*he;t.current?.addBlock(z,fe,G)}},onDragOver:H=>{H.preventDefault()},children:i.jsxs("div",{id:"profile-root",className:"relative h-full",style:{minHeight:720},onPointerDown:H=>{const z=H.currentTarget.getBoundingClientRect();e.current?.burst(H.clientX-z.left,H.clientY-z.top,s)},children:[i.jsx("div",{id:"bg-layer",className:"absolute inset-0",style:{zIndex:0}}),p&&p!=="none"&&i.jsx("div",{className:"absolute inset-0",style:{zIndex:1},children:i.jsx(y_,{preset:p,density:y,zIndex:1,opacity:y==="low"?.6:y==="medium"?.8:1},`${p}-${y}`)}),i.jsx("div",{id:"profile-canvas-inner",className:"relative",style:{zIndex:10},children:i.jsx(zV,{ref:t,initialBlocks:N,onBlocksChange:k,snapToGrid:_,editMode:l&&!u,onBlockSelect:C,showGridLines:D,canvasBackground:O},`profile-canvas-${u?"preview":"edit"}-${O}-${J}`)}),i.jsx(hV,{ref:e})]})})]})]})}function ZV(){const{flair:r,setFlair:e}=h_();return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Tap Flair Animation"}),i.jsx("p",{className:"text-sm dropsource-text-secondary mb-3",children:"Choose an animation that plays when visitors tap anywhere on your profile"}),i.jsx("div",{className:"space-y-2",children:XV.map(t=>i.jsxs("button",{onClick:()=>e(t.name),className:`w-full flex items-center gap-3 p-3 rounded transition-all ${r===t.name?"dropsource-btn-primary":"dropsource-surface hover:dropsource-panel"}`,children:[i.jsx("span",{className:"text-lg",children:t.emoji}),i.jsx("span",{className:"flex-1 text-left",children:t.label}),r===t.name&&i.jsx(ft,{className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Active"})]},t.name))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Animation Settings"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Animation Speed"}),i.jsxs("select",{className:"dropsource-input w-20 text-sm",children:[i.jsx("option",{children:"Slow"}),i.jsx("option",{defaultValue:"",children:"Normal"}),i.jsx("option",{children:"Fast"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Particle Count"}),i.jsxs("select",{className:"dropsource-input w-20 text-sm",children:[i.jsx("option",{children:"Low"}),i.jsx("option",{defaultValue:"",children:"Medium"}),i.jsx("option",{children:"High"})]})]})]})]})]})}function JV({onNavigate:r}){return i.jsxs(dV,{children:[i.jsx(qV,{onNavigate:r}),i.jsx(cV,{})]})}var ag="rovingFocusGroup.onEntryFocus",QV={bubbles:!1,cancelable:!0},zc="RovingFocusGroup",[E0,x_,eW]=ix(zc),[tW,v_]=bn(zc,[eW]),[rW,sW]=tW(zc),b_=b.forwardRef((r,e)=>i.jsx(E0.Provider,{scope:r.__scopeRovingFocusGroup,children:i.jsx(E0.Slot,{scope:r.__scopeRovingFocusGroup,children:i.jsx(nW,{...r,ref:e})})}));b_.displayName=zc;var nW=b.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:n=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...m}=r,y=b.useRef(null),x=nt(e,y),v=Ec(o),[w,j]=bi({prop:l,defaultProp:d??null,onChange:u,caller:zc}),[C,N]=b.useState(!1),k=Er(h),_=x_(t),P=b.useRef(!1),[D,M]=b.useState(0);return b.useEffect(()=>{const E=y.current;if(E)return E.addEventListener(ag,k),()=>E.removeEventListener(ag,k)},[k]),i.jsx(rW,{scope:t,orientation:s,dir:v,loop:n,currentTabStopId:w,onItemFocus:b.useCallback(E=>j(E),[j]),onItemShiftTab:b.useCallback(()=>N(!0),[]),onFocusableItemAdd:b.useCallback(()=>M(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>M(E=>E-1),[]),children:i.jsx(Ze.div,{tabIndex:C||D===0?-1:0,"data-orientation":s,...m,ref:x,style:{outline:"none",...r.style},onMouseDown:Ye(r.onMouseDown,()=>{P.current=!0}),onFocus:Ye(r.onFocus,E=>{const R=!P.current;if(E.target===E.currentTarget&&R&&!C){const O=new CustomEvent(ag,QV);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const B=_().filter(V=>V.focusable),L=B.find(V=>V.active),$=B.find(V=>V.id===w),ce=[L,$,...B].filter(Boolean).map(V=>V.ref.current);C_(ce,p)}}P.current=!1}),onBlur:Ye(r.onBlur,()=>N(!1))})})}),w_="RovingFocusGroupItem",S_=b.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:n=!1,tabStopId:o,children:l,...d}=r,u=Pa(),h=o||u,p=sW(w_,t),m=p.currentTabStopId===h,y=x_(t),{onFocusableItemAdd:x,onFocusableItemRemove:v,currentTabStopId:w}=p;return b.useEffect(()=>{if(s)return x(),()=>v()},[s,x,v]),i.jsx(E0.ItemSlot,{scope:t,id:h,focusable:s,active:n,children:i.jsx(Ze.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...d,ref:e,onMouseDown:Ye(r.onMouseDown,j=>{s?p.onItemFocus(h):j.preventDefault()}),onFocus:Ye(r.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ye(r.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){p.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const C=aW(j,p.orientation,p.dir);if(C!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=y().filter(_=>_.focusable).map(_=>_.ref.current);if(C==="last")k.reverse();else if(C==="prev"||C==="next"){C==="prev"&&k.reverse();const _=k.indexOf(j.currentTarget);k=p.loop?lW(k,_+1):k.slice(_+1)}setTimeout(()=>C_(k))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:w!=null}):l})})});S_.displayName=w_;var oW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iW(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function aW(r,e,t){const s=iW(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return oW[s]}function C_(r,e=!1){const t=document.activeElement;for(const s of r)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function lW(r,e){return r.map((t,s)=>r[(e+s)%r.length])}var cW=b_,dW=S_,kf="Tabs",[uW]=bn(kf,[v_]),k_=v_(),[hW,ux]=uW(kf),j_=b.forwardRef((r,e)=>{const{__scopeTabs:t,value:s,onValueChange:n,defaultValue:o,orientation:l="horizontal",dir:d,activationMode:u="automatic",...h}=r,p=Ec(d),[m,y]=bi({prop:s,onChange:n,defaultProp:o??"",caller:kf});return i.jsx(hW,{scope:t,baseId:Pa(),value:m,onValueChange:y,orientation:l,dir:p,activationMode:u,children:i.jsx(Ze.div,{dir:p,"data-orientation":l,...h,ref:e})})});j_.displayName=kf;var N_="TabsList",T_=b.forwardRef((r,e)=>{const{__scopeTabs:t,loop:s=!0,...n}=r,o=ux(N_,t),l=k_(t);return i.jsx(cW,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:s,children:i.jsx(Ze.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:e})})});T_.displayName=N_;var __="TabsTrigger",M_=b.forwardRef((r,e)=>{const{__scopeTabs:t,value:s,disabled:n=!1,...o}=r,l=ux(__,t),d=k_(t),u=D_(l.baseId,s),h=A_(l.baseId,s),p=s===l.value;return i.jsx(dW,{asChild:!0,...d,focusable:!n,active:p,children:i.jsx(Ze.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...o,ref:e,onMouseDown:Ye(r.onMouseDown,m=>{!n&&m.button===0&&m.ctrlKey===!1?l.onValueChange(s):m.preventDefault()}),onKeyDown:Ye(r.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(s)}),onFocus:Ye(r.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!n&&m&&l.onValueChange(s)})})})});M_.displayName=__;var E_="TabsContent",P_=b.forwardRef((r,e)=>{const{__scopeTabs:t,value:s,forceMount:n,children:o,...l}=r,d=ux(E_,t),u=D_(d.baseId,s),h=A_(d.baseId,s),p=s===d.value,m=b.useRef(p);return b.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),i.jsx(Io,{present:n||p,children:({present:y})=>i.jsx(Ze.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:h,tabIndex:0,...l,ref:e,style:{...r.style,animationDuration:m.current?"0s":void 0},children:y&&o})})});P_.displayName=E_;function D_(r,e){return`${r}-trigger-${e}`}function A_(r,e){return`${r}-content-${e}`}var fW=j_,pW=T_,mW=M_,gW=P_;function jf({className:r,...e}){return i.jsx(fW,{"data-slot":"tabs",className:Pt("flex flex-col gap-2",r),...e})}function Nf({className:r,...e}){return i.jsx(pW,{"data-slot":"tabs-list",className:Pt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...e})}function Ws({className:r,...e}){return i.jsx(mW,{"data-slot":"tabs-trigger",className:Pt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function Hs({className:r,...e}){return i.jsx(gW,{"data-slot":"tabs-content",className:Pt("flex-1 outline-none",r),...e})}const yW=[{rank:1,username:"l34d3rb04rdpwnm4st3r",stars:125e4,change:"+125k",avatar:"👑"},{rank:2,username:"idontlik3l34d3rb04rdz",stars:847300,change:"+420k",avatar:"🎸"},{rank:3,username:"wetbeaver",stars:623400,change:"+23k",avatar:"⚡"},{rank:4,username:"makemusicordie",stars:501200,change:"+15k",avatar:"🎵"},{rank:5,username:"bassdropharderthanmycock",stars:387600,change:"+8k",avatar:"💎"},{rank:6,username:"crybaby",stars:298400,change:"+12k",avatar:"🎹"},{rank:7,username:"prisonwallet",stars:245100,change:"+6k",avatar:"🔊"},{rank:8,username:"synth_wave_king",stars:198700,change:"+9k",avatar:"🌊"},{rank:9,username:"drum_machine_god",stars:167200,change:"+4k",avatar:"🥁"},{rank:10,username:"harmony_wizard",stars:145800,change:"+7k",avatar:"🪄"},{rank:11,username:"beat_master_2024",stars:134200,change:"+3k",avatar:"🎶"},{rank:12,username:"melody_maker_pro",stars:128600,change:"+5k",avatar:"🎼"},{rank:13,username:"bass_lord_supreme",stars:122400,change:"+2k",avatar:"🎸"},{rank:14,username:"rhythm_rider",stars:117800,change:"+4k",avatar:"🚴"},{rank:15,username:"sound_sculptor",stars:112300,change:"+6k",avatar:"🗿"},{rank:16,username:"beat_architect",stars:108700,change:"+3k",avatar:"🏗️"},{rank:17,username:"music_maven",stars:104200,change:"+2k",avatar:"🎯"},{rank:18,username:"frequency_wizard",stars:99800,change:"+5k",avatar:"🧙"},{rank:19,username:"audio_alchemist",stars:95600,change:"+1k",avatar:"⚗️"},{rank:20,username:"sonic_surgeon",stars:91400,change:"+4k",avatar:"⚕️"},{rank:69,username:"diaperlover1979",stars:42069,change:"+420",avatar:"👶"}],xW=[{rank:1,username:"studio_hermit_24_7",hours:2847,streak:156,avatar:"🏠"},{rank:2,username:"insomniac_producer",hours:2134,streak:98,avatar:"🌙"},{rank:3,username:"grind_machine_pro",hours:1876,streak:123,avatar:"⚙️"},{rank:4,username:"beat_obsessed_user",hours:1654,streak:87,avatar:"🎧"},{rank:5,username:"rhythm_addict_99",hours:1432,streak:76,avatar:"💫"},{rank:6,username:"music_marathon_man",hours:1298,streak:65,avatar:"🏃"},{rank:7,username:"endless_creativity",hours:1156,streak:54,avatar:"∞"},{rank:8,username:"session_warrior",hours:1034,streak:43,avatar:"⚔️"},{rank:9,username:"beat_lab_scientist",hours:923,streak:38,avatar:"🧪"},{rank:10,username:"sound_architect",hours:876,streak:32,avatar:"🏗️"}],vW=[{rank:1,username:"achievement_hunter_supreme",completed:156,total:160,percentage:97.5,avatar:"🏆"},{rank:2,username:"goal_crusher_elite",completed:143,total:160,percentage:89.4,avatar:"💪"},{rank:3,username:"task_master_pro_max",completed:138,total:160,percentage:86.3,avatar:"✅"},{rank:4,username:"completion_king_2024",completed:134,total:160,percentage:83.8,avatar:"👑"},{rank:5,username:"perfectionist_player",completed:129,total:160,percentage:80.6,avatar:"💯"},{rank:6,username:"challenge_champion",completed:124,total:160,percentage:77.5,avatar:"🏅"},{rank:7,username:"quest_queen_beats",completed:118,total:160,percentage:73.8,avatar:"👸"},{rank:8,username:"mission_master_music",completed:112,total:160,percentage:70,avatar:"🎯"},{rank:9,username:"objective_overlord",completed:107,total:160,percentage:66.9,avatar:"👁️"},{rank:10,username:"progress_pioneer",completed:103,total:160,percentage:64.4,avatar:"🚀"}],bW=r=>{switch(r){case 1:return i.jsx(hh,{className:"w-5 h-5 text-yellow-400"});case 2:return i.jsx(qD,{className:"w-5 h-5 text-gray-300"});case 3:return i.jsx(z4,{className:"w-5 h-5 text-amber-600"});default:return i.jsxs("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-bold dropsource-text-secondary",children:["#",r]})}};function wW({onNavigate:r}){const e=({data:t,type:s})=>i.jsx(hn,{className:"h-full",children:i.jsx("div",{className:"dropsource-spacing-sm flex flex-col",children:t.map((n,o)=>{const l=s==="stars"?t[0].stars:s==="time"?t[0].hours:t[0].percentage,d=s==="stars"?n.stars:s==="time"?n.hours:n.percentage,u=Math.max(d/l*100,5);return i.jsx("div",{className:`dropsource-collectible-card ${n.rank<=3?"dropsource-card-glow":""}`,children:i.jsxs("div",{className:"flex items-center dropsource-spacing-md",children:[i.jsx("div",{className:"flex items-center dropsource-spacing-xs",style:{minWidth:"40px"},children:bW(n.rank)}),i.jsx("div",{className:"flex items-center justify-center",style:{width:"40px",height:"40px",borderRadius:"var(--radius-sharp)",background:n.rank<=3?"linear-gradient(135deg, var(--dropsource-brand), var(--dropsource-brand-hover))":"var(--dropsource-surface)",fontSize:"var(--text-lg)"},children:n.avatar}),i.jsxs("div",{className:"flex-1 dropsource-spacing-xs flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"dropsource-text-primary",style:{fontSize:"var(--text-sm)",fontWeight:"500"},children:n.username}),i.jsxs("span",{className:"dropsource-text-primary",style:{fontSize:"var(--text-lg)",fontWeight:"600"},children:[s==="stars"&&i.jsxs("span",{style:{color:"var(--dropsource-brand)"},children:[(n.stars/1e3).toFixed(0),"k⭐"]}),s==="time"&&i.jsxs("span",{style:{color:"var(--dropsource-brand)"},children:[n.hours,"h"]}),s==="achievements"&&i.jsxs("span",{style:{color:"var(--dropsource-success)"},children:[n.percentage,"%"]})]})]}),i.jsx("div",{className:"dropsource-progress-bar",children:i.jsx("div",{className:"dropsource-progress-fill",style:{width:`${u}%`,background:s==="achievements"?"linear-gradient(90deg, var(--dropsource-brand), var(--dropsource-success))":"linear-gradient(90deg, var(--dropsource-brand), var(--dropsource-brand-hover))"}})}),i.jsxs("div",{className:"flex items-center dropsource-spacing-xs",children:[s==="stars"&&i.jsxs(i.Fragment,{children:[i.jsx(rt,{className:"w-3 h-3 dropsource-icon-outlined",style:{color:"var(--dropsource-brand)"}}),i.jsxs("span",{className:"dropsource-text-tertiary",style:{fontSize:"var(--text-xs)"},children:[n.stars.toLocaleString(),"⭐ (",n.change," this week)"]})]}),s==="time"&&i.jsxs(i.Fragment,{children:[i.jsx(Ca,{className:"w-3 h-3 dropsource-icon-outlined",style:{color:"var(--dropsource-brand)"}}),i.jsxs("span",{className:"dropsource-text-tertiary",style:{fontSize:"var(--text-xs)"},children:[n.hours,"h total • ",n.streak," day streak"]})]}),s==="achievements"&&i.jsxs(i.Fragment,{children:[i.jsx(ms,{className:"w-3 h-3 dropsource-icon-outlined",style:{color:"var(--dropsource-success)"}}),i.jsxs("span",{className:"dropsource-text-tertiary",style:{fontSize:"var(--text-xs)"},children:[n.completed,"/",n.total," completed (",n.percentage,"%)"]})]})]})]})]})},o)})})});return i.jsxs("div",{className:"h-full dropsource-bg dropsource-text-primary overflow-hidden",children:[i.jsx("div",{className:"dropsource-padding-lg border-b",style:{borderBottomColor:"var(--dropsource-border)"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center dropsource-spacing-md",children:[i.jsx(Fa,{className:"w-8 h-8 dropsource-icon-outlined",style:{color:"var(--dropsource-brand)"}}),i.jsx("h1",{className:"dropsource-text-primary",style:{fontSize:"var(--text-2xl)",fontWeight:"600",letterSpacing:"-0.02em"},children:"Leaderboards"})]}),i.jsxs("button",{onClick:()=>r("home"),className:"dropsource-btn-secondary dropsource-focus-visible flex items-center dropsource-spacing-xs",children:[i.jsx(zD,{className:"w-4 h-4 dropsource-icon-outlined"}),i.jsx("span",{children:"Back to Home"})]})]})}),i.jsx("div",{className:"dropsource-padding-lg pb-0",children:i.jsx("div",{className:"max-w-md mx-auto mb-6",children:i.jsx(QT,{})})}),i.jsx("div",{className:"flex-1 dropsource-padding-lg overflow-hidden",children:i.jsxs(jf,{defaultValue:"stars",className:"h-full flex flex-col",children:[i.jsxs(Nf,{className:"dropsource-toolbar flex w-full",style:{marginBottom:"calc(var(--spacing-unit) * 3)"},children:[i.jsxs(Ws,{value:"stars",className:"dropsource-btn-ghost flex items-center dropsource-spacing-xs flex-1",children:[i.jsx(rt,{className:"w-4 h-4 dropsource-icon-outlined"}),i.jsx("span",{children:"Top Stars"})]}),i.jsxs(Ws,{value:"time",className:"dropsource-btn-ghost flex items-center dropsource-spacing-xs flex-1",children:[i.jsx(Ca,{className:"w-4 h-4 dropsource-icon-outlined"}),i.jsx("span",{children:"Time Spent"})]}),i.jsxs(Ws,{value:"achievements",className:"dropsource-btn-ghost flex items-center dropsource-spacing-xs flex-1",children:[i.jsx(ms,{className:"w-4 h-4 dropsource-icon-outlined"}),i.jsx("span",{children:"Achievements"})]})]}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx(Hs,{value:"stars",className:"h-full",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:"calc(var(--spacing-unit) * 2)"},children:[i.jsx("h3",{className:"dropsource-text-primary",style:{fontSize:"var(--text-lg)",fontWeight:"500"},children:"Star Collectors"}),i.jsx("span",{className:"dropsource-surface px-2 py-1",style:{fontSize:"var(--text-xs)",borderRadius:"var(--radius-sharp)",color:"var(--dropsource-brand)"},children:"Updated every hour"})]}),i.jsx(e,{data:yW,type:"stars"})]})}),i.jsx(Hs,{value:"time",className:"h-full",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:"calc(var(--spacing-unit) * 2)"},children:[i.jsx("h3",{className:"dropsource-text-primary",style:{fontSize:"var(--text-lg)",fontWeight:"500"},children:"Time Champions"}),i.jsx("span",{className:"dropsource-surface px-2 py-1",style:{fontSize:"var(--text-xs)",borderRadius:"var(--radius-sharp)",color:"var(--dropsource-brand)"},children:"All-time stats"})]}),i.jsx(e,{data:xW,type:"time"})]})}),i.jsx(Hs,{value:"achievements",className:"h-full",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:"calc(var(--spacing-unit) * 2)"},children:[i.jsx("h3",{className:"dropsource-text-primary",style:{fontSize:"var(--text-lg)",fontWeight:"500"},children:"Completionists"}),i.jsx("span",{className:"dropsource-surface px-2 py-1",style:{fontSize:"var(--text-xs)",borderRadius:"var(--radius-sharp)",color:"var(--dropsource-success)"},children:"Challenge masters"})]}),i.jsx(e,{data:vW,type:"achievements"})]})})]})]})}),i.jsx("div",{className:"dropsource-divider"}),i.jsx("div",{className:"dropsource-surface dropsource-padding-md",children:i.jsxs("div",{className:"dropsource-grid-3 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"dropsource-text-primary",style:{fontSize:"var(--text-xl)",fontWeight:"600"},children:"847"}),i.jsx("div",{className:"dropsource-text-tertiary",style:{fontSize:"var(--text-xs)"},children:"Active Users"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"dropsource-text-primary",style:{fontSize:"var(--text-xl)",fontWeight:"600",color:"var(--dropsource-brand)"},children:"12.4M"}),i.jsx("div",{className:"dropsource-text-tertiary",style:{fontSize:"var(--text-xs)"},children:"Total Stars Earned"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"dropsource-text-primary",style:{fontSize:"var(--text-xl)",fontWeight:"600"},children:"3,421"}),i.jsx("div",{className:"dropsource-text-tertiary",style:{fontSize:"var(--text-xs)"},children:"Songs Created"})]})]})})]})}const R_={Common:{background:"linear-gradient(135deg, #22C55E 0%, #16A34A 100%)",border:"#22C55E",text:"#DCFCE7",glow:"rgba(34, 197, 94, 0.3)"},Rare:{background:"linear-gradient(135deg, #B450C7 0%, #FF70A6 100%)",border:"#FF70A6",text:"#FDF2F8",glow:"rgba(255, 112, 166, 0.3)"},Premium:{background:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",border:"#3B82F6",text:"#DBEAFE",glow:"rgba(59, 130, 246, 0.3)"},Elite:{background:"linear-gradient(135deg, #6A00AD 0%, #3D94FF 100%)",border:"#3D94FF",text:"#EFF6FF",glow:"rgba(61, 148, 255, 0.3)"},Legendary:{background:"linear-gradient(135deg, #F59E0B 0%, #DC2626 100%)",border:"#F59E0B",text:"#FEF3C7",glow:"rgba(245, 158, 11, 0.3)"}},SW=(r,e=!1)=>e&&(r==="Elite"||r==="Legendary")?`${r} Card`:r,CW=[{id:"1",name:"Fire Track",emoji:"🔥",creator:"Drop Source Official",rarities:["common","rare","epic"],minted:2547,physicalPrice:15,type:"sticker",serialNumber:1247,dateMinted:"2024-01-15"},{id:"2",name:"Diamond Producer",emoji:"💎",creator:"Drop Source Official",rarities:["premium","legendary"],minted:892,physicalPrice:25,type:"card",serialNumber:567,dateMinted:"2024-01-12"},{id:"3",name:"Beat Master",emoji:"🥁",creator:"community_beats",rarities:["common","rare"],minted:1834,physicalPrice:12,type:"sticker",serialNumber:892,dateMinted:"2024-01-10"},{id:"4",name:"Synth Lord",emoji:"🎛️",creator:"Drop Source Official",rarities:["rare","elite","legendary"],minted:654,physicalPrice:30,type:"card",serialNumber:234,dateMinted:"2024-01-08"},{id:"5",name:"Rhythm King",emoji:"👑",creator:"beat_royalty",rarities:["elite","legendary"],minted:321,physicalPrice:45,type:"card",serialNumber:89,dateMinted:"2024-01-05"},{id:"6",name:"Melody Maker",emoji:"🎵",creator:"Drop Source Official",rarities:["common","premium","rare"],minted:3421,physicalPrice:10,type:"sticker",serialNumber:1456,dateMinted:"2024-01-03"},{id:"7",name:"Bass Drop",emoji:"🔊",creator:"bass_legends",rarities:["common","rare","elite"],minted:1967,physicalPrice:18,type:"sticker",serialNumber:743,dateMinted:"2024-01-02"},{id:"8",name:"Studio Genius",emoji:"🎙️",creator:"Drop Source Official",rarities:["legendary"],minted:150,physicalPrice:75,type:"card",serialNumber:42,dateMinted:"2024-01-01"}],zu=r=>{const e=r.charAt(0).toUpperCase()+r.slice(1).toLowerCase(),t=R_[e];return t?t.border:"#A9B7C6"},kW=r=>{const e=r.charAt(0).toUpperCase()+r.slice(1).toLowerCase();if(!R_[e])return"text-gray-400 border-gray-400";switch(e){case"Common":return"text-green-400 border-green-400";case"Rare":return"text-pink-400 border-pink-400";case"Premium":return"text-sky-400 border-sky-400";case"Elite":return"text-blue-600 border-blue-600";case"Legendary":return"text-orange-400 border-orange-400";default:return"text-gray-400 border-gray-400"}};function jW({onNavigate:r}){return i.jsx(ws,{children:i.jsxs("div",{className:"h-full overflow-hidden",style:{background:"var(--dropsource-bg)",color:"var(--dropsource-primary)"},children:[i.jsxs("div",{className:"flex items-center justify-between",style:{background:"rgba(18, 23, 35, 0.8)",borderBottom:"1px solid var(--dropsource-border)",padding:"calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 3)",zIndex:"20",backdropFilter:"blur(12px)"},children:[i.jsx("div",{className:"flex items-center",children:i.jsxs(Se,{onClick:()=>r("community"),className:"dropsource-nav-pill flex items-center gap-2",style:{background:"transparent",color:"var(--dropsource-secondary)",border:"none",padding:"calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2)"},children:[i.jsx(Nc,{className:"w-4 h-4"}),"Back"]})}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("h1",{style:{fontSize:"32px",fontWeight:"800",fontFamily:"Inter",background:"linear-gradient(90deg, #FFD166 0%, #5BE9E9 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-0.02em"},children:"Drop Source Book"})}),i.jsx("div",{className:"w-20"})]}),i.jsx("div",{className:"p-6 h-full overflow-y-auto dropsource-custom-scrollbar",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("div",{className:"mb-6",children:i.jsx("p",{className:"dropsource-text-secondary text-center",children:"Collectible stickers and cards from the Drop Source universe"})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:CW.map(e=>i.jsx("div",{className:"relative",children:i.jsxs(es,{className:`dropsource-card p-6 text-center dropsource-clickable transition-all group relative ${e.type==="card"?"border-2 border-dashed":""}`,style:{borderColor:e.type==="card"?"var(--accent-gold-start)":zu(e.rarities[0]),borderWidth:"2px",minHeight:"240px"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px) rotateX(2deg) rotateY(2deg)",t.currentTarget.style.boxShadow=`0 8px 24px rgba(0,0,0,0.6), 0 0 16px ${zu(e.rarities[0])}80`,t.currentTarget.style.borderColor=zu(e.rarities[0])},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0) rotateX(0deg) rotateY(0deg)",t.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",t.currentTarget.style.borderColor=e.type==="card"?"var(--accent-gold-start)":zu(e.rarities[0])},children:[i.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 rounded z-20 dropsource-serial-overlay",style:{backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",color:"#FFFFFF",fontSize:"10px",fontFamily:"JetBrains Mono, Fira Code, monospace",fontWeight:"500",opacity:"0.8",textShadow:"0 1px 2px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.1)"},children:["#",e.serialNumber," / 1000"]}),i.jsxs("div",{className:"text-6xl mb-4 relative",children:[e.emoji,i.jsxs("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-70 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col items-center justify-center text-white text-xs",children:[i.jsxs("div",{children:["Serial #",e.serialNumber]}),i.jsx("div",{children:e.dateMinted})]})]}),i.jsx("h3",{className:"font-semibold dropsource-text-primary mb-2",children:e.name}),i.jsx(ft,{className:`text-xs mb-3 ${e.type==="card"?"bg-gradient-to-r from-yellow-400 to-orange-500":"dropsource-btn-secondary"}`,children:e.type==="card"?"Card":"Sticker"}),i.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col justify-center p-4 z-10",children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-tertiary",children:"Creator: "}),i.jsx("span",{className:"dropsource-text-primary font-medium",children:e.creator})]}),i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-tertiary",children:"Rarities: "}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.rarities.map((t,s)=>i.jsx(ft,{className:`text-xs ${kW(t)}`,children:SW(t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),e.type==="card")},s))})]}),i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-tertiary",children:"Serial #: "}),i.jsxs("span",{className:"dropsource-text-primary font-medium",children:["#",e.serialNumber]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-tertiary",children:"# Minted: "}),i.jsx("span",{className:"dropsource-text-primary font-medium",children:e.minted.toLocaleString()})]}),e.type==="sticker"&&i.jsx("div",{className:"pt-2 border-t border-gray-700",children:i.jsxs(Se,{className:"w-full dropsource-btn-primary text-xs flex items-center gap-2",onClick:()=>console.log(`Buy physical ${e.name}`),children:[i.jsx(HC,{className:"w-3 h-3"}),"Purchase Physical ($",e.physicalPrice,")"]})})]})})]})},e.id))})]})})]})})}function NW({onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u}){const[h,p]=b.useState(t),[m,y]=b.useState(!1),[x,v]=b.useState({x:0,y:0}),w=k=>{k.target.closest(".book-content")||(y(!0),v({x:k.clientX-h.x,y:k.clientY-h.y}),u())},j=k=>{if(!m)return;const _={x:k.clientX-x.x,y:k.clientY-x.y};p(_),l(_)},C=()=>{y(!1)};b.useEffect(()=>{if(m)return document.addEventListener("mousemove",j),document.addEventListener("mouseup",C),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",C)}},[m,x]);const N=k=>k==="sticker"?"🎨":"♦️";return i.jsx(ws,{children:i.jsxs("div",{className:`fixed rounded-2xl border border-white/8 bg-zinc-950/90 backdrop-blur-md shadow-[0_10px_40px_rgba(0,0,0,0.6)] max-h-[72vh] w-[720px] overflow-hidden flex flex-col ${m?"dragging":""}`,style:{left:h.x,top:h.y,zIndex:o,cursor:m?"grabbing":"default"},onClick:u,children:[i.jsxs("div",{className:"h-12 px-4 flex items-center justify-between border-b border-white/5 cursor-move",onMouseDown:w,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Yh,{className:"w-5 h-5",style:{color:"#00AEEF"}}),i.jsx("h3",{style:{color:"#E6ECF3",fontSize:"16px",fontWeight:"600"},children:"Drop Source Book"}),i.jsx(ft,{style:{backgroundColor:"rgba(0, 174, 239, 0.1)",color:"#00AEEF",border:"1px solid rgba(0, 174, 239, 0.2)"},children:Ea.length})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-white",children:i.jsx(Tc,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:r,className:"text-gray-400 hover:text-red-400",children:i.jsx(kr,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"min-h-0 flex-1 overflow-y-auto p-4 book-content dropsource-custom-scrollbar",children:[i.jsx("div",{className:"p-4 text-center border-b border-white/5 -m-4 mb-4",children:i.jsx("p",{className:"dropsource-text-secondary",children:"Master catalog of all DropSource collectibles • Stickers = purchasable • Cards = collection only"})}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:Ea.map(k=>i.jsx("div",{className:"relative group",children:i.jsxs(es,{className:"dropsource-card p-4 text-center dropsource-clickable transition-all relative",style:{borderColor:ot(k.rarity),borderWidth:"2px",minHeight:"200px"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow=`0 8px 24px rgba(0,0,0,0.6), 0 0 16px ${ot(k.rarity)}80`},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"},children:[i.jsxs("div",{className:"dropsource-serial-overlay",style:{backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",color:ot(k.rarity),fontSize:"10px",fontFamily:"JetBrains Mono, Fira Code, monospace",fontWeight:"600",textShadow:"0 1px 2px rgba(0,0,0,0.5)",border:`1px solid ${ot(k.rarity)}`,boxShadow:`0 0 8px ${ot(k.rarity)}40`},children:["Serial ",k.serial]}),i.jsx("div",{className:"text-4xl mb-3 relative",children:N(k.type)}),i.jsx("h4",{className:"font-semibold dropsource-text-primary mb-2 text-sm",children:k.name}),i.jsxs(ft,{className:"text-xs mb-3",style:{backgroundColor:zh(k.rarity),color:ot(k.rarity),border:`1px solid ${ot(k.rarity)}`},children:[k.rarity.charAt(0).toUpperCase()+k.rarity.slice(1)," ",k.type]}),i.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col justify-center p-3 z-10",children:i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-tertiary",children:"Type: "}),i.jsx("span",{className:"dropsource-text-primary font-medium",children:k.type==="sticker"?"Sticker (Purchasable)":"Card (Collection Only)"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-tertiary",children:"Rarity: "}),i.jsx(ft,{className:"text-xs ml-1",style:{backgroundColor:zh(k.rarity),color:ot(k.rarity),border:`1px solid ${ot(k.rarity)}`},children:k.rarity.charAt(0).toUpperCase()+k.rarity.slice(1)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-tertiary",children:"Total Supply: "}),i.jsx("span",{className:"dropsource-text-primary font-medium",children:k.totalSupply.toLocaleString()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"dropsource-text-tertiary",children:"Serial: "}),i.jsx("span",{className:"font-mono font-medium",style:{color:ot(k.rarity),textShadow:`0 0 8px ${ot(k.rarity)}40`},children:k.serial})]}),k.type==="sticker"&&i.jsxs("div",{className:"pt-2 border-t border-gray-700",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:"flex items-center gap-1",children:i.jsx("span",{className:"text-sm font-semibold",style:{color:"#00AEEF"},children:k.rarity==="common"?"$5":k.rarity==="rare"?"$10":k.rarity==="epic"?"$15":k.rarity==="legendary"?"$20":"$5"})})}),i.jsxs(Se,{className:"w-full dropsource-btn-primary text-xs flex items-center gap-2",onClick:()=>console.log(`Buy ${k.name}`),children:[i.jsx(HC,{className:"w-3 h-3"}),"Buy Sticker"]})]}),k.type==="card"&&i.jsx("div",{className:"pt-2 border-t border-gray-700",children:i.jsx("span",{className:"text-xs px-3 py-1 rounded block text-center",style:{backgroundColor:"rgba(168, 85, 247, 0.1)",color:"#A855F7",border:"1px solid rgba(168, 85, 247, 0.2)"},children:"View Only - Available via Auction/Trade"})})]})})]})},k.id))})]})]})})}const TW="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function _W(r){const[e,t]=b.useState(!1),s=()=>{t(!0)},{src:n,alt:o,style:l,className:d,...u}=r;return e?i.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:l,children:i.jsx("div",{className:"flex items-center justify-center w-full h-full",children:i.jsx("img",{src:TW,alt:"Error loading image",...u,"data-original-url":n})})}):i.jsx("img",{src:n,alt:o,className:d,style:l,...u,onError:s})}const E2=[{id:1,name:"Drake's Condom Sauce",price:42,imageUrl:"https://images.unsplash.com/photo-1609344553637-ee6623677e3d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob25leSUyMGphciUyMGdvbGRlbnxlbnwxfHx8fDE3NTc5Mjg3MTh8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"buyer: drakeshotsauce",rarity:"legendary",description:"The secret sauce that makes everything smooth",serialNumber:69,dateMinted:"2024-01-15"},{id:2,name:"True Bruh Moment",price:404,imageUrl:"https://images.unsplash.com/photo-1629875832611-c14e072d7380?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx4JTIwYnV0dG9uJTIwZXJyb3IlMjByZWR8ZW58MXx8fHwxNzU3OTg1MTQyfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"buyer: imaginepaying4stickers",rarity:"epic",description:"For when the code just refuses to work",serialNumber:404,dateMinted:"2024-01-12"},{id:3,name:"Weeb Crack",price:177013,imageUrl:"https://images.unsplash.com/photo-1588912914017-923900a34710?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxib29rJTIwb3BlbiUyMGFjYWRlbWljfGVufDF8fHx8MTc1Nzk4NTE0N3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"buyer: hentaiwthetentacles",rarity:"mythic",description:"Highly addictive reading material (age restricted)",serialNumber:177013,dateMinted:"2024-01-01"},{id:4,name:"Virgin Hotline",price:911,imageUrl:"https://images.unsplash.com/photo-1535882743347-fa16a8c3e48f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwaG9uZSUyMHZpbnRhZ2UlMjByZXRyb3xlbnwxfHx8fDE3NTc5ODUxNTN8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"buyer: robloxrealgirl",rarity:"rare",description:"Emergency contact for desperate times",serialNumber:911,dateMinted:"2024-01-10"},{id:5,name:"Golden Flare: [Bussin Bussin]",price:123456,imageUrl:"https://images.unsplash.com/photo-1574547887997-904252c06ca3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb2xkJTIwc3RhciUyMHNwYXJrbGV8ZW58MXx8fHwxNzU3OTg1MTU5fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"buyer: starshopper",rarity:"legendary",description:"When your beats are absolutely bussin",serialNumber:1,dateMinted:"2024-01-02"},{id:6,name:"LOUDER THAN UR MOM",price:69420,imageUrl:"https://images.unsplash.com/photo-1722171098271-185f35942797?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZWdhcGhvbmUlMjBzcGVha2VyJTIwbG91ZHxlbnwxfHx8fDE3NTc5ODUxNjV8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"buyer: momsgarage",rarity:"legendary",description:"Warning: May cause permanent hearing damage",serialNumber:420,dateMinted:"2024-01-08"},{id:7,name:"Secret Sauce Packet (Do Not Open)",price:42,imageUrl:"https://images.unsplash.com/photo-1609344553637-ee6623677e3d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob25leSUyMGphciUyMGdvbGRlbnxlbnwxfHx8fDE3NTc5Mjg3MTh8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"seriously, do not open this",rarity:"common",description:"Contents unknown. Warranty void if opened.",serialNumber:42,dateMinted:"2024-01-14"},{id:8,name:"Forbidden Manga Collector's Badge",price:177013,imageUrl:"https://images.unsplash.com/photo-1588912914017-923900a34710?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxib29rJTIwb3BlbiUyMGFjYWRlbWljfGVufDF8fHx8MTc1Nzk4NTE0N3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"shows everyone your questionable taste",rarity:"epic",description:"Marks you as a person of culture (derogatory)",serialNumber:1337,dateMinted:"2023-12-31"},{id:9,name:"Emergency Phone-a-Member Credit",price:911,imageUrl:"https://images.unsplash.com/photo-1535882743347-fa16a8c3e48f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwaG9uZSUyMHZpbnRhZ2UlMjByZXRyb3xlbnwxfHx8fDE3NTc5ODUxNTN8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",tooltip:"when you need backup ASAP",rarity:"common",description:"Call in reinforcements when things get rough",serialNumber:2024,dateMinted:"2024-01-05"}],Vl=r=>{switch(r.toLowerCase()){case"common":return"#6B7280";case"rare":return"#60A5FA";case"epic":return"#A855F7";case"legendary":return"#F59E0B";case"mythic":return"#EF4444";default:return"#6B7280"}},MW=r=>{switch(r.toLowerCase()){case"common":return"text-gray-400 border-gray-400";case"rare":return"text-blue-400 border-blue-400";case"epic":return"text-purple-400 border-purple-400";case"legendary":return"text-yellow-400 border-yellow-400";case"mythic":return"text-red-400 border-red-400";default:return"text-gray-400 border-gray-400"}},Iu=15420;function EW({onClose:r,onMinimize:e,initialPosition:t={x:100,y:100},width:s=800,height:n=700,zIndex:o=1e3,onPositionChange:l,onSizeChange:d,onFocus:u}){const[h,p]=b.useState([]),[m,y]=b.useState(null),[x,v]=b.useState(t),[w,j]=b.useState(!1),[C,N]=b.useState({x:0,y:0}),k=M=>{const E=E2.find(R=>R.id===M);E&&(E.price<=Iu&&!h.includes(M)?(p(R=>[...R,M]),alert(`Successfully purchased ${E.name}! Check your backpack.`)):h.includes(M)?alert("You already own this item!"):alert("Not enough stars!"))},_=M=>{M.target.closest(".shop-content")||(j(!0),N({x:M.clientX-x.x,y:M.clientY-x.y}),u?.())},P=M=>{if(!w)return;const E={x:M.clientX-C.x,y:M.clientY-C.y};v(E),l?.(E)},D=()=>{j(!1)};return je.useEffect(()=>{if(w)return document.addEventListener("mousemove",P),document.addEventListener("mouseup",D),()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",D)}},[w,C]),i.jsx(ws,{children:i.jsxs("div",{className:`fixed dropsource-floating-card ${w?"dragging":""} flex flex-col`,style:{left:x.x,top:x.y,width:s,height:n,zIndex:o,cursor:w?"grabbing":"default"},onClick:u,children:[i.jsxs("div",{className:"flex items-center justify-between border-b cursor-move",style:{padding:"calc(var(--spacing-unit) * 2)",borderBottomColor:"var(--dropsource-border)"},onMouseDown:_,children:[i.jsxs("div",{className:"flex items-center dropsource-spacing-md",children:[i.jsx(rt,{className:"w-6 h-6 dropsource-icon-outlined",style:{color:"var(--dropsource-brand)"}}),i.jsx("h2",{className:"dropsource-text-primary",style:{fontSize:"var(--text-xl)",fontWeight:"600",letterSpacing:"-0.02em"},children:"Star Shop"})]}),i.jsxs("div",{className:"flex items-center dropsource-spacing-lg",children:[i.jsxs("div",{className:"flex items-center dropsource-spacing-xs",children:[i.jsx(rt,{className:"w-5 h-5 dropsource-icon-outlined",style:{color:"var(--dropsource-brand)"}}),i.jsxs("span",{className:"dropsource-text-primary",style:{fontSize:"var(--text-md)",fontWeight:"600"},children:[Iu.toLocaleString(),"⭐"]})]}),e&&i.jsx("button",{onClick:e,className:"dropsource-toolbar-button dropsource-focus-visible hover:border-blue-500 hover:text-blue-400",style:{width:"32px",height:"32px",padding:"0"},children:i.jsx(xr,{className:"w-4 h-4 dropsource-icon-outlined"})}),i.jsx("button",{onClick:r,className:"dropsource-toolbar-button dropsource-focus-visible hover:border-red-500 hover:text-red-400",style:{width:"32px",height:"32px",padding:"0"},children:i.jsx(kr,{className:"w-5 h-5 dropsource-icon-outlined"})})]})]}),i.jsx("div",{className:"flex-1 overflow-hidden shop-content",style:{padding:"calc(var(--spacing-unit) * 2)"},children:i.jsx(hn,{className:"h-full dropsource-custom-scrollbar",children:i.jsx("div",{className:"dropsource-grid dropsource-grid-3",children:E2.map(M=>i.jsxs("div",{className:"dropsource-collectible-card dropsource-clickable relative",onMouseEnter:()=>y(M.id),onMouseLeave:()=>y(null),style:{transform:m===M.id?"translateY(-2px) rotateX(2deg)":"translateY(0) rotateX(0deg)",boxShadow:m===M.id?`0 8px 32px ${Vl(M.rarity)}40`:void 0,transition:"all 200ms ease-out",borderColor:Vl(M.rarity)},children:[m===M.id&&M.serialNumber&&i.jsxs("div",{className:"absolute top-2 right-2 z-10",style:{background:"rgba(0, 0, 0, 0.8)",color:Vl(M.rarity),padding:"4px 8px",borderRadius:"var(--radius-sharp)",fontSize:"var(--text-xs)",fontWeight:"600",boxShadow:`0 0 12px ${Vl(M.rarity)}`,backdropFilter:"blur(8px)",border:`1px solid ${Vl(M.rarity)}`,animation:"fadeInSmooth 200ms ease-out"},children:["#",M.serialNumber]}),i.jsxs("div",{className:"dropsource-spacing-md flex flex-col",children:[i.jsxs("div",{className:"flex items-start dropsource-spacing-md",children:[i.jsx("div",{style:{minWidth:"48px",height:"48px"},children:i.jsx(_W,{src:M.imageUrl,alt:M.name,width:48,height:48,style:{borderRadius:"var(--radius-sharp)",objectFit:"cover"}})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"dropsource-text-primary",style:{fontSize:"var(--text-sm)",fontWeight:"600",lineHeight:"1.3"},children:M.name}),i.jsx("span",{className:`dropsource-surface px-2 py-1 ${MW(M.rarity)}`,style:{fontSize:"var(--text-xs)",borderRadius:"var(--radius-sharp)",display:"inline-block",marginTop:"calc(var(--spacing-unit) * 0.5)",border:"1px solid"},children:M.rarity.charAt(0).toUpperCase()+M.rarity.slice(1)})]})]}),i.jsx("p",{className:"dropsource-text-tertiary",style:{fontSize:"var(--text-xs)",lineHeight:"1.4"},children:M.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center dropsource-spacing-xs",children:[i.jsx(rt,{className:"w-4 h-4 dropsource-icon-outlined",style:{color:"var(--dropsource-brand)"}}),i.jsxs("span",{className:"dropsource-text-primary",style:{fontSize:"var(--text-sm)",fontWeight:"600"},children:[M.price>=1e3?`${(M.price/1e3).toFixed(0)}k`:M.price,"⭐"]})]}),i.jsx("div",{className:"flex dropsource-spacing-xs",children:h.includes(M.id)?i.jsx("span",{className:"dropsource-surface px-2 py-1 text-green-400",style:{fontSize:"var(--text-xs)",borderRadius:"var(--radius-sharp)",fontWeight:"600"},children:"Owned"}):i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>k(M.id),disabled:M.price>Iu,className:"dropsource-btn-primary dropsource-focus-visible",style:{fontSize:"var(--text-xs)",padding:"calc(var(--spacing-unit) * 0.75) calc(var(--spacing-unit) * 1.5)",opacity:M.price>Iu?"0.5":"1"},children:"Buy"})}),i.jsx(St,{children:i.jsx("p",{children:M.tooltip})})]})})]})]})]},M.id))})})}),i.jsxs("div",{className:"border-t text-center",style:{borderTopColor:"var(--dropsource-border)",padding:"calc(var(--spacing-unit) * 2)",background:"linear-gradient(90deg, rgba(139, 92, 246, 0.1), rgba(219, 39, 119, 0.1))"},children:[i.jsx("p",{className:"dropsource-text-secondary",style:{fontSize:"var(--text-xs)",marginBottom:"calc(var(--spacing-unit) * 0.5)"},children:"🔥 Limited Time: Double XP Weekend! 🔥"}),i.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--dropsource-brand)"},children:"⭐ Earn 2x stars on all completed challenges ⭐"})]})]})})}const Bu=[{id:"d1",title:"Write 10 lines today",description:"Add 10 lines of lyrics to any project",reward:50,progress:7,maxProgress:10,completed:!1,icon:i.jsx(ja,{className:"w-5 h-5"}),difficulty:"easy",timeLeft:"18h 42m"},{id:"d2",title:"Visit an old project",description:"Open and edit a project older than 7 days",reward:25,progress:1,maxProgress:1,completed:!0,icon:i.jsx(Ca,{className:"w-5 h-5"}),difficulty:"easy"},{id:"d3",title:"Vote on 3 posts",description:"Vote on community posts in the hub",reward:30,progress:1,maxProgress:3,completed:!1,icon:i.jsx(Sr,{className:"w-5 h-5"}),difficulty:"easy",timeLeft:"18h 42m"},{id:"d4",title:"Collaborate with a buddy",description:"Work on a project with another user",reward:100,progress:0,maxProgress:1,completed:!1,icon:i.jsx(ss,{className:"w-5 h-5"}),difficulty:"medium",timeLeft:"18h 42m"}],Vu=[{id:"w1",title:"Complete 5 daily challenges",description:"Finish your daily challenges 5 times this week",reward:500,progress:3,maxProgress:5,completed:!1,icon:i.jsx(ms,{className:"w-5 h-5"}),difficulty:"medium",timeLeft:"4d 18h"},{id:"w2",title:"Create 3 songs",description:"Publish 3 complete songs this week",reward:750,progress:1,maxProgress:3,completed:!1,icon:i.jsx(ja,{className:"w-5 h-5"}),difficulty:"hard",timeLeft:"4d 18h"},{id:"w3",title:"Use drawing tools",description:"Add drawings to 2 different projects",reward:200,progress:2,maxProgress:2,completed:!0,icon:i.jsx(ys,{className:"w-5 h-5"}),difficulty:"easy"}],Wu=[{id:"m1",title:"Master of the Month",description:"Earn 5,000 stars this month",reward:2500,progress:3420,maxProgress:5e3,completed:!1,icon:i.jsx(rt,{className:"w-5 h-5"}),difficulty:"hard",timeLeft:"12d 18h"},{id:"m2",title:"Community Champion",description:"Get 50 upvotes on your posts this month",reward:1e3,progress:23,maxProgress:50,completed:!1,icon:i.jsx(Fa,{className:"w-5 h-5"}),difficulty:"medium",timeLeft:"12d 18h"},{id:"m3",title:"Streak Master",description:"Maintain a 30-day login streak",reward:1500,progress:18,maxProgress:30,completed:!1,icon:i.jsx(LC,{className:"w-5 h-5"}),difficulty:"medium",timeLeft:"12d 18h"}],PW=r=>{switch(r){case"easy":return"text-green-400 border-green-400";case"medium":return"text-yellow-400 border-yellow-400";case"hard":return"text-red-400 border-red-400";default:return"text-gray-400 border-gray-400"}};function DW({onClose:r}){const[e,t]=b.useState("daily"),[s,n]=b.useState([...Bu,...Vu,...Wu].filter(d=>d.completed).map(d=>d.id)),o=d=>d.filter(u=>s.includes(u.id)||u.completed).reduce((u,h)=>u+h.reward,0),l=({challenge:d})=>{const u=s.includes(d.id)||d.completed,h=d.progress/d.maxProgress*100;return i.jsx(es,{className:`dropsource-panel border-gray-700 p-4 transition-all ${u?"opacity-60 bg-green-900/10":"hover:dropsource-glow-cyan"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${u?"bg-green-900/30":"bg-gray-800/50"}`,children:d.icon}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium dropsource-text-primary",children:d.title}),i.jsx("p",{className:"text-sm dropsource-text-secondary",children:d.description})]}),i.jsx("div",{className:"flex items-center gap-2",children:u?i.jsx(nD,{className:"w-6 h-6 text-green-400"}):i.jsx(dh,{className:"w-6 h-6 dropsource-text-secondary"})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("span",{className:"dropsource-text-secondary",children:[d.progress,"/",d.maxProgress]}),i.jsxs("span",{className:"dropsource-text-secondary",children:[Math.round(h),"%"]})]}),i.jsx(QN,{value:h,className:"h-2"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ft,{variant:"outline",className:PW(d.difficulty),children:d.difficulty}),i.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[i.jsx(rt,{className:"w-3 h-3"}),i.jsxs("span",{className:"text-xs",children:[d.reward,"⭐"]})]})]}),d.timeLeft&&!u&&i.jsxs("div",{className:"text-xs dropsource-text-secondary",children:[d.timeLeft," left"]})]})]})]})})};return i.jsxs("div",{className:"dropsource-floating-card rounded-lg w-[700px] h-[600px] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fa,{className:"w-6 h-6 text-yellow-400"}),i.jsx("h2",{className:"text-xl font-bold dropsource-text-primary",children:"Challenges & Goals"})]}),i.jsx(Se,{onClick:r,variant:"ghost",size:"sm",className:"dropsource-text-secondary hover:text-red-400",children:i.jsx(kr,{className:"w-5 h-5"})})]}),i.jsxs(jf,{value:e,onValueChange:t,className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"border-b border-gray-700 px-4",children:i.jsxs(Nf,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[i.jsxs(Ws,{value:"daily",className:"flex items-center gap-2",children:[i.jsx(Ca,{className:"w-4 h-4"}),"Daily"]}),i.jsxs(Ws,{value:"weekly",className:"flex items-center gap-2",children:[i.jsx(LC,{className:"w-4 h-4"}),"Weekly"]}),i.jsxs(Ws,{value:"monthly",className:"flex items-center gap-2",children:[i.jsx(rt,{className:"w-4 h-4"}),"Monthly"]})]})}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx(Hs,{value:"daily",className:"h-full",children:i.jsxs("div",{className:"p-4 space-y-4 h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium dropsource-text-primary",children:"Daily Challenges"}),i.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[i.jsx(rt,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:[o(Bu),"⭐ earned"]})]})]}),i.jsx(hn,{className:"flex-1",children:i.jsx("div",{className:"space-y-3",children:Bu.map(d=>i.jsx(l,{challenge:d},d.id))})})]})}),i.jsx(Hs,{value:"weekly",className:"h-full",children:i.jsxs("div",{className:"p-4 space-y-4 h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium dropsource-text-primary",children:"Weekly Challenges"}),i.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[i.jsx(rt,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:[o(Vu),"⭐ earned"]})]})]}),i.jsx(hn,{className:"flex-1",children:i.jsx("div",{className:"space-y-3",children:Vu.map(d=>i.jsx(l,{challenge:d},d.id))})})]})}),i.jsx(Hs,{value:"monthly",className:"h-full",children:i.jsxs("div",{className:"p-4 space-y-4 h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium dropsource-text-primary",children:"Monthly Challenges"}),i.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[i.jsx(rt,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:[o(Wu),"⭐ earned"]})]})]}),i.jsx(hn,{className:"flex-1",children:i.jsx("div",{className:"space-y-3",children:Wu.map(d=>i.jsx(l,{challenge:d},d.id))})})]})})]})]}),i.jsx("div",{className:"border-t border-gray-700 p-4 bg-gray-800/20",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm dropsource-text-secondary",children:"Track your progress and earn stars by completing challenges!"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm dropsource-text-secondary",children:"Total Stars Earned:"}),i.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 font-medium",children:[i.jsx(rt,{className:"w-4 h-4"}),i.jsxs("span",{children:[o([...Bu,...Vu,...Wu]),"⭐"]})]})]})]})})]})}function AW({onFound:r}){const[e,t]=b.useState(!1),[s,n]=b.useState(!1),o=()=>{e||(t(!0),n(!0),r(),setTimeout(()=>{n(!1),setTimeout(()=>{t(!1)},1e3)},3e3))},l=()=>{n(!1),console.log("Added puking cat sticker to backpack!"),setTimeout(()=>{t(!1)},1e3)};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`fixed bottom-4 left-4 transition-all duration-300 ${e?"opacity-50 cursor-not-allowed":"opacity-70 hover:opacity-100 cursor-pointer hover:scale-110"}`,onClick:o,style:{zIndex:1e3,transform:e?"scale(0.8)":"scale(1)"},children:i.jsxs("div",{className:`relative ${e?"":"hover:dropsource-glow-cyan animate-pulse"}`,children:[i.jsx(rt,{className:`w-6 h-6 ${e?"text-gray-500":"text-yellow-400"} transition-colors duration-300`,fill:e?"currentColor":"none"}),!e&&i.jsx("div",{className:"absolute -inset-1 bg-yellow-400/20 rounded-full animate-ping"})]})}),s&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1001]",children:i.jsxs("div",{className:"dropsource-floating-card rounded-lg p-6 w-80 text-center animate-in fade-in zoom-in duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mb-3",children:i.jsx(rt,{className:"w-8 h-8 text-white",fill:"currentColor"})}),i.jsx("h3",{className:"text-xl font-bold dropsource-text-primary mb-2",children:"⭐ You found a Secret Prize Star!"}),i.jsx("p",{className:"dropsource-text-secondary text-sm mb-4",children:"Congratulations! You discovered our hidden easter egg."}),i.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4",children:[i.jsx("div",{className:"text-2xl mb-1",children:"🤮"}),i.jsx("div",{className:"text-sm dropsource-text-primary font-medium",children:"Puking Cat Sticker"}),i.jsx("div",{className:"text-xs dropsource-text-secondary",children:"Added to your backpack"})]})]}),i.jsx(Se,{onClick:l,className:"w-full dropsource-gradient text-white",children:"Accept Reward"})]})})]})}function RW({onClose:r,position:e={x:0,y:0}}){const[t,s]=b.useState(25),[n,o]=b.useState("global"),[l,d]=b.useState(!1),[u,h]=b.useState(!1),[p,m]=b.useState({x:0,y:0}),[y,x]=b.useState(e),v=k=>{if(k.target.closest(".drag-handle")){h(!0);const _=k.currentTarget.getBoundingClientRect();m({x:k.clientX-_.left,y:k.clientY-_.top})}},w=k=>{u&&x({x:Math.max(0,Math.min(window.innerWidth-340,k.clientX-p.x)),y:Math.max(0,Math.min(window.innerHeight-600,k.clientY-p.y))})},j=()=>{h(!1)};je.useEffect(()=>{if(u)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",j)}},[u,p]);const C=()=>{d(!0),console.log("File upload triggered")},N=()=>{console.log("Drop created:",{price:t,visibility:n}),r()};return i.jsx("div",{className:`fixed z-50 ${u?"dragging":""}`,style:{left:y.x,top:y.y,transform:"none"},onMouseDown:v,children:i.jsxs(es,{className:"dropsource-card",style:{width:"320px",cursor:u?"grabbing":"default"},children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 drag-handle",style:{cursor:"grab"},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fh,{className:"w-4 h-4 dropsource-text-secondary"}),i.jsx("h3",{className:"font-semibold dropsource-text-primary",children:"Create Drop"})]}),i.jsx(Se,{size:"sm",variant:"ghost",onClick:r,className:"dropsource-toolbar-button p-1",children:i.jsx(kr,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dropsource-text-primary mb-2",children:"Upload Content"}),l?i.jsx("div",{className:"dropsource-surface p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded flex items-center justify-center",children:i.jsx(Cg,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium dropsource-text-primary",children:"summer_vibes_demo.mp3"}),i.jsx("p",{className:"text-xs dropsource-text-secondary",children:"2.4 MB • Ready to drop"})]})]})}):i.jsxs("button",{onClick:C,className:"w-full border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-teal-400 transition-colors",children:[i.jsx(Cg,{className:"w-8 h-8 mx-auto mb-2 dropsource-text-secondary"}),i.jsx("p",{className:"dropsource-text-secondary text-sm",children:"Click to upload audio, lyrics, or project file"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dropsource-text-primary mb-2",children:"Price"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("input",{type:"number",value:t,onChange:k=>s(Number(k.target.value)),className:"dropsource-input flex-1",min:"1",max:"1000"}),i.jsx("span",{className:"dropsource-text-secondary text-sm",children:"stars"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dropsource-text-primary mb-2",children:"Visibility"}),i.jsxs(x0,{value:n,onValueChange:k=>o(k),children:[i.jsx(b0,{className:"dropsource-input",children:i.jsx(v0,{})}),i.jsxs(w0,{className:"dropsource-panel",children:[i.jsx(Lh,{value:"global",className:"dropsource-text-primary hover:dropsource-surface",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_D,{className:"w-4 h-4"}),"Global - Everyone can see"]})}),i.jsx(Lh,{value:"profile",className:"dropsource-text-primary hover:dropsource-surface",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(UD,{className:"w-4 h-4"}),"Profile Only - Friends and followers"]})})]})]})]}),l&&i.jsxs("div",{className:"border border-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-xs dropsource-text-secondary",children:"Preview"}),i.jsx(ft,{className:"text-xs dropsource-text-primary",children:n==="global"?"Public":"Private"})]}),i.jsxs("div",{className:"dropsource-surface p-3 rounded",children:[i.jsx("h4",{className:"font-medium dropsource-text-primary",children:"Summer Vibes Demo"}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(rt,{className:"w-3 h-3 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-sm font-semibold",children:t})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ka,{className:"w-3 h-3 dropsource-text-secondary"}),i.jsx("span",{className:"text-xs dropsource-text-secondary",children:n==="global"?"Public":"Private"})]})]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsx(Se,{onClick:r,className:"flex-1 dropsource-btn-secondary",children:"Cancel"}),i.jsx(Se,{onClick:N,disabled:!l,className:"flex-1 dropsource-btn-primary",children:"Create Drop"})]})]})]})})}const OW=O7().map((r,e)=>({id:(e+1).toString(),name:r.name,sticker:r.name,rarity:r.rarity,type:r.type,serial:r.serial,totalSupply:r.totalSupply,currentBid:Math.floor(Math.random()*500)+100,timeLeft:Math.floor(Math.random()*3600)+300,bidCount:Math.floor(Math.random()*15)+3,thumbnail:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=120&h=120&fit=crop",highestBidder:["MegaCollector","StickerKing","RareHunter","EliteTrader"][Math.floor(Math.random()*4)]})),P2=["MegaCollector","StickerKing","RareHunter","EliteTrader","CardMaster","EpicSeeker","LegendHunter"],FW=({onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u})=>{const[h,p]=b.useState(Date.now()),[m,y]=b.useState([]),[x,v]=b.useState(OW);b.useEffect(()=>{const _=setInterval(()=>{p(Date.now()),v(P=>P.map(D=>{const M=D.timeLeft-1;if(Math.random()<.02&&M>10){const R=[5,10,15],O=R[Math.floor(Math.random()*R.length)],B=D.currentBid,L=B+O,$=P2[Math.floor(Math.random()*P2.length)];return y(J=>[`${$} raised bid on ${D.name} ⭐${B} → ⭐${L} (+⭐${O})`,...J.slice(0,4)]),{...D,timeLeft:M,currentBid:L,highestBidder:$,bidCount:D.bidCount+1}}return{...D,timeLeft:M}}))},1e3);return()=>clearInterval(_)},[]);const w=_=>{if(_<=0)return"ENDED";const P=Math.floor(_/60),D=_%60;return P>0?`${P}m ${D}s`:`${D}s`},j=_=>_<=30?"#EF4444":_<=120?"#F59E0B":"#22C55E",C=_=>_==="legendary"||_==="epic"?i.jsx(rt,{className:"w-4 h-4",fill:"currentColor"}):i.jsx(Jr,{className:"w-4 h-4"}),N=_=>_==="sticker"?"🎨":"♦️",k=_=>{v(P=>P.map(D=>{if(D.id===_){const E=D.currentBid,R=E+5;return y(O=>[`You raised bid on ${D.name} ⭐${E} → ⭐${R} (+⭐5)`,...O.slice(0,4)]),{...D,currentBid:R,highestBidder:"You",bidCount:D.bidCount+1}}return D}))};return i.jsx(tf,{title:"Live Auction House",onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u,children:i.jsxs("div",{className:"h-full flex flex-col auction-content","data-no-drag":!0,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(IC,{className:"w-5 h-5",style:{color:"#F59E0B"}}),i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs dropsource-btn-primary",children:[i.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]})]}),i.jsxs("div",{className:"min-h-0 flex-1 overflow-y-auto dropsource-custom-scrollbar",children:[i.jsxs("div",{className:"dropsource-panel mb-4 p-3 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),i.jsx("span",{className:"dropsource-text-primary text-sm font-semibold",children:"Live Activity"})]}),i.jsx("div",{className:"h-6 overflow-hidden",children:m.length>0?i.jsx("div",{className:"animate-slideUp",children:i.jsx("p",{className:"dropsource-text-secondary text-xs",children:m[0]})}):i.jsx("p",{className:"dropsource-text-tertiary text-xs opacity-60",children:"Waiting for bid activity..."})})]}),i.jsx("div",{className:"dropsource-panel mb-4 p-3 rounded",children:i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"dropsource-text-primary text-lg font-semibold",children:x.length}),i.jsx("div",{className:"dropsource-text-tertiary text-xs",children:"Active"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-yellow-400 text-lg font-semibold",children:["⭐",x.reduce((_,P)=>_+P.currentBid,0)]}),i.jsx("div",{className:"dropsource-text-tertiary text-xs",children:"Total Bids"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-orange-400 text-lg font-semibold",children:Math.max(...x.map(_=>_.bidCount))}),i.jsx("div",{className:"dropsource-text-tertiary text-xs",children:"Most Bids"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-red-400 text-lg font-semibold",children:x.filter(_=>_.timeLeft<=60).length}),i.jsx("div",{className:"dropsource-text-tertiary text-xs",children:"Ending Soon"})]})]})}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.map(_=>{const P=j(_.timeLeft),D=_.timeLeft<=60;return i.jsxs("div",{className:`dropsource-card p-3 transition-all duration-200 ${D?"animate-pulse":""} group cursor-pointer`,style:{borderColor:D?"#EF4444":ot(_.rarity),borderWidth:"2px",boxShadow:D?"0 0 20px rgba(239, 68, 68, 0.4), 0 2px 8px rgba(0,0,0,0.4)":`0 2px 8px rgba(0,0,0,0.4), 0 0 6px ${ot(_.rarity)}30`,minHeight:"180px",position:"relative"},onMouseEnter:M=>{D||(M.currentTarget.style.transform="translateY(-2px)",M.currentTarget.style.boxShadow=`0 8px 24px rgba(0,0,0,0.6), 0 0 16px ${ot(_.rarity)}80`)},onMouseLeave:M=>{D||(M.currentTarget.style.transform="translateY(0)",M.currentTarget.style.boxShadow=`0 2px 8px rgba(0,0,0,0.4), 0 0 6px ${ot(_.rarity)}30`)},children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 rounded-t-lg",style:{backgroundColor:ot(_.rarity)}}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx($C,{className:"w-3 h-3",style:{color:P}}),i.jsx("span",{style:{color:P,fontSize:"12px",fontWeight:"600"},children:w(_.timeLeft)})]}),i.jsx("div",{className:"flex items-center gap-1",style:{color:ot(_.rarity)},children:C(_.rarity)})]}),i.jsxs("div",{className:"w-full h-12 rounded-lg mb-2 flex items-center justify-center relative",style:{backgroundColor:ot(_.rarity),opacity:.9},children:[i.jsx("span",{className:"text-white font-bold text-lg",children:N(_.type)}),i.jsxs("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-70 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col items-center justify-center text-white text-xs",children:[i.jsxs("div",{children:["Serial ",_.serial]}),i.jsxs("div",{children:["/",_.totalSupply," minted"]})]}),D&&i.jsx("div",{className:"absolute inset-0 border-2 border-red-500 rounded-lg animate-pulse"})]}),i.jsxs("div",{className:"space-y-1 mb-3",children:[i.jsx("h4",{className:"dropsource-text-primary text-sm font-semibold",children:_.name}),i.jsxs("p",{style:{color:ot(_.rarity),fontSize:"10px",textShadow:`0 0 6px ${ot(_.rarity)}40`},children:[_.rarity.charAt(0).toUpperCase()+_.rarity.slice(1)," ",_.type]})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"dropsource-text-tertiary text-xs",children:"Current Bid"}),i.jsxs("span",{className:"text-yellow-400 text-sm font-bold",children:["⭐",_.currentBid]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"dropsource-text-tertiary text-xs",children:"Highest Bidder"}),i.jsx("span",{style:{color:_.highestBidder==="You"?"#22C55E":"var(--dropsource-primary)",fontSize:"10px",fontWeight:_.highestBidder==="You"?"600":"400"},children:_.highestBidder})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"dropsource-text-tertiary text-xs",children:"Bids"}),i.jsx("span",{className:"text-blue-400 text-xs font-medium",children:_.bidCount})]})]}),i.jsx("div",{className:"flex gap-2",children:_.timeLeft>0?i.jsxs("button",{onClick:()=>k(_.id),className:"dropsource-btn-primary w-full py-2 rounded text-xs font-bold transition-all duration-200 flex items-center justify-center gap-1",children:[i.jsx(wg,{className:"w-3 h-3"}),"Bid ⭐",_.currentBid+5]}):i.jsx("div",{className:"flex-1 px-4 py-2 rounded text-xs font-bold text-center bg-red-500 text-white",children:"AUCTION ENDED"})})]},_.id)})}),i.jsx("div",{className:"text-center mt-6 pt-4 border-t border-white/5",children:i.jsx("p",{className:"dropsource-text-tertiary text-xs",children:"🔴 Live bidding • Only Rare/Epic/Legendary items • All serials verified"})})]})]})})},LW=[{id:"1",type:"star",title:"Stars Earned!",message:'You earned 25 stars from "Summer Vibes" drop',timestamp:"2 hours ago",read:!1,actionable:!1},{id:"2",type:"social",title:"New Follower",message:"beat_master_99 started following you",timestamp:"4 hours ago",read:!1,actionable:!0},{id:"3",type:"message",title:"Collaboration Request",message:"melody_queen wants to collaborate on a track",timestamp:"1 day ago",read:!0,actionable:!0},{id:"4",type:"achievement",title:"Achievement Unlocked!",message:'You unlocked "First Collab" - 50 bonus stars!',timestamp:"1 day ago",read:!0,actionable:!1},{id:"5",type:"gift",title:"Gift Received",message:"synth_lord sent you a Premium badge gift",timestamp:"2 days ago",read:!0,actionable:!0}],zW=r=>{switch(r){case"star":return i.jsx(rt,{className:"w-4 h-4 text-yellow-400"});case"social":return i.jsx(ss,{className:"w-4 h-4 text-blue-400"});case"message":return i.jsx(Sr,{className:"w-4 h-4 text-green-400"});case"achievement":return i.jsx(Fa,{className:"w-4 h-4 text-purple-400"});case"gift":return i.jsx(ND,{className:"w-4 h-4 text-pink-400"});default:return i.jsx(ch,{className:"w-4 h-4 dropsource-text-secondary"})}};function IW({onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u}){const[h,p]=b.useState(LW),[m,y]=b.useState("all"),x=C=>{p(N=>N.map(k=>k.id===C?{...k,read:!0}:k))},v=()=>{p(C=>C.map(N=>({...N,read:!0})))},w=h.filter(C=>m==="all"||!C.read),j=h.filter(C=>!C.read).length;return i.jsx(tf,{title:"Notifications",onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u,children:i.jsxs("div",{className:"absolute inset-0 flex flex-col","data-no-drag":!0,children:[i.jsxs("div",{className:"flex items-center justify-between p-4 flex-shrink-0 border-b dropsource-divider",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ch,{className:"w-5 h-5 dropsource-text-primary"}),i.jsx("span",{className:"font-medium dropsource-text-primary",children:"Notifications"}),j>0&&i.jsx(ft,{className:"bg-red-500 text-white text-xs",children:j})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Se,{size:"sm",variant:"ghost",className:"dropsource-toolbar-button",children:i.jsx(na,{className:"w-4 h-4"})}),i.jsx(Se,{size:"sm",variant:"ghost",onClick:r,className:"dropsource-toolbar-button hover:bg-red-500/20 hover:text-red-400",children:i.jsx(kr,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex gap-2 p-4 flex-shrink-0 border-b dropsource-divider",children:[i.jsx(Se,{size:"sm",onClick:()=>y("all"),className:m==="all"?"dropsource-btn-primary":"dropsource-btn-secondary",children:"All"}),i.jsxs(Se,{size:"sm",onClick:()=>y("unread"),className:m==="unread"?"dropsource-btn-primary":"dropsource-btn-secondary",children:["Unread (",j,")"]}),j>0&&i.jsx(Se,{size:"sm",onClick:v,className:"dropsource-btn-ghost ml-auto",children:"Mark All Read"})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto dropsource-custom-scrollbar",children:i.jsx("div",{className:"p-4 space-y-3",children:w.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ch,{className:"w-8 h-8 mx-auto mb-2 dropsource-text-tertiary opacity-50"}),i.jsx("p",{className:"dropsource-text-tertiary",children:m==="unread"?"No unread notifications":"No notifications yet"})]}):w.map(C=>i.jsx("div",{className:`dropsource-surface p-3 rounded cursor-pointer transition-all ${C.read?"":"border-l-2 border-teal-400"}`,onClick:()=>!C.read&&x(C.id),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 flex-shrink-0",children:zW(C.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h4",{className:`font-medium text-sm ${C.read?"dropsource-text-secondary":"dropsource-text-primary"}`,children:C.title}),i.jsx("span",{className:"text-xs dropsource-text-tertiary ml-2 flex-shrink-0",children:C.timestamp})]}),i.jsx("p",{className:"text-sm dropsource-text-secondary mb-2",children:C.message}),C.actionable&&i.jsx(Se,{size:"sm",className:"dropsource-btn-pill text-xs",onClick:N=>{N.stopPropagation(),console.log("Action clicked for",C.id)},children:C.type==="social"?"View Profile":C.type==="message"?"Reply":C.type==="gift"?"Accept Gift":"Action"})]})]})},C.id))})}),i.jsx("div",{className:"border-t dropsource-divider p-4 flex-shrink-0",children:i.jsx("p",{className:"text-xs dropsource-text-tertiary text-center",children:"Stay connected with the Drop Source community! 🔔"})})]})})}const Wl=[{id:"common",name:"Common",cost:25,probability:60,color:"text-gray-300",bgColor:"rgba(156, 163, 175, 0.1)",icon:i.jsx(rt,{className:"w-6 h-6"}),type:"sticker",description:"Basic collectible sticker with simple design"},{id:"uncommon",name:"Uncommon",cost:50,probability:25,color:"text-green-400",bgColor:"rgba(34, 197, 94, 0.1)",icon:i.jsx(Jr,{className:"w-6 h-6"}),type:"sticker",description:"Enhanced sticker with special effects and animations"},{id:"rare",name:"Rare",cost:100,probability:10,color:"text-blue-400",bgColor:"rgba(59, 130, 246, 0.1)",icon:i.jsx(kD,{className:"w-6 h-6"}),type:"sticker",description:"Premium sticker with unique artwork and effects"},{id:"epic",name:"Epic",cost:200,probability:4,color:"text-purple-400",bgColor:"rgba(147, 51, 234, 0.1)",icon:i.jsx(hh,{className:"w-6 h-6"}),type:"card",description:"Collectible card with premium features and exclusive benefits"},{id:"legendary",name:"Legendary",cost:500,probability:1,color:"text-yellow-400",bgColor:"rgba(251, 191, 36, 0.1)",icon:i.jsx(hh,{className:"w-6 h-6"}),type:"card",description:"Ultra-rare card with exclusive benefits and special privileges"}];function BW({isOpen:r,onClose:e}){const[t,s]=b.useState(null),[n]=b.useState(2847),[o,l]=b.useState(!1),[d,u]=b.useState(""),[h,p]=b.useState(""),[m,y]=b.useState(null);b.useEffect(()=>{if(r){const v=document.querySelector(".lyrics-editor textarea, .lyrics-editor [contenteditable]");if(v){const j=v.textContent||v.value||"";p(j.slice(0,100)+(j.length>100?"...":""))}setTimeout(async()=>{try{const j=document.querySelector(".lyrics-editor")||document.querySelector("main");if(j&&window.html2canvas){const C=await window.html2canvas(j,{width:400,height:400,scale:.5,backgroundColor:"#0B0F14"});y(C.toDataURL())}}catch{console.log("Screenshot capture not available")}},100)}},[r]);const x=async v=>{const w=Wl.find(j=>j.id===v);w&&n>=w.cost&&d.trim()&&(l(!0),await new Promise(j=>setTimeout(j,2e3)),console.log(`Minting ${w.name} "${d}" for ${w.cost} stars`),console.log("Content captured:",h),l(!1),e())};return i.jsx(Ug,{children:r&&i.jsx(pi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(11, 15, 20, 0.95)",backdropFilter:"blur(20px)"},children:i.jsxs(pi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-6xl mx-4 h-full max-h-[90vh] overflow-hidden",style:{background:"var(--dropsource-panel)",border:"1px solid var(--dropsource-border)",borderRadius:"var(--radius-sharp)"},children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--dropsource-border)"},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-yellow-400 to-orange-500",children:i.jsx(uh,{className:"w-6 h-6 text-black"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-bold",style:{fontSize:"var(--text-2xl)",color:"var(--dropsource-primary)"},children:"Mint Collectible Sticker"}),i.jsx("p",{style:{color:"var(--dropsource-secondary)",fontSize:"var(--text-sm)"},children:"Transform your creation into a unique collectible"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-yellow-400/10 border border-yellow-400/20",children:[i.jsx(rt,{className:"w-5 h-5 text-yellow-400 fill-current"}),i.jsx("span",{className:"font-semibold",style:{color:"var(--dropsource-primary)",fontSize:"var(--text-lg)"},children:n.toLocaleString()}),i.jsx("span",{style:{color:"var(--dropsource-secondary)",fontSize:"var(--text-sm)"},children:"Stars"})]}),i.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-red-600/20 transition-colors border border-transparent hover:border-red-400/30",children:i.jsx(kr,{className:"w-6 h-6",style:{color:"var(--dropsource-secondary)"}})})]})]}),i.jsxs("div",{className:"flex h-full",children:[i.jsxs("div",{className:"flex-1 p-6 border-r",style:{borderColor:"var(--dropsource-border)"},children:[i.jsx("h2",{className:"font-semibold mb-4",style:{fontSize:"var(--text-xl)",color:"var(--dropsource-primary)"},children:"Preview"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--dropsource-primary)",fontSize:"var(--text-sm)"},children:"Collectible Name *"}),i.jsx(Cr,{value:d,onChange:v=>u(v.target.value),placeholder:"Enter a name for your collectible",className:"dropsource-input",maxLength:30}),i.jsxs("p",{style:{color:"var(--dropsource-tertiary)",fontSize:"var(--text-xs)"},className:"mt-1",children:[d.length,"/30 characters"]})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center h-2/3 space-y-6",children:[i.jsx("div",{className:"w-64 h-64 rounded-2xl overflow-hidden transition-all duration-300 relative",style:{background:"linear-gradient(135deg, #7C5CFF 0%, #2D81F7 50%, #25BFA6 100%)",boxShadow:"0 20px 40px rgba(0,0,0,0.3), inset 0 2px 8px rgba(255,255,255,0.1)"},children:window.stickerImageData?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:window.stickerImageData,alt:"Sticker Preview",className:"absolute inset-0 w-full h-full object-contain"}),i.jsx("div",{className:"relative z-10 p-6 h-full flex flex-col justify-end",children:i.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg p-4",children:[i.jsx("h3",{className:"font-bold text-white text-lg mb-1",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:d||"Untitled Sticker"}),i.jsx("p",{className:"text-white/90 text-xs leading-relaxed",style:{textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:h||"Your Original Creation"})]})})]}):i.jsxs("div",{className:"p-8 flex flex-col items-center justify-center h-full",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center mb-4",children:i.jsx(ys,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-bold text-white text-xl mb-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:d||"Untitled Creation"}),i.jsx("p",{className:"text-white/80 text-sm max-w-48 truncate",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:h||"Your Original Creation"})]})]})}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{style:{color:"var(--dropsource-primary)",fontSize:"var(--text-lg)"},children:"Ready to mint as collectible"}),i.jsx("p",{style:{color:"var(--dropsource-secondary)",fontSize:"var(--text-sm)"},children:"Each rarity level offers different features and drop rates"})]})]})]}),i.jsxs("div",{className:"flex-1 p-6",children:[i.jsx("h2",{className:"font-semibold mb-6",style:{fontSize:"var(--text-xl)",color:"var(--dropsource-primary)"},children:"Choose Rarity Level"}),i.jsxs("div",{className:"space-y-4 h-full overflow-y-auto dropsource-custom-scrollbar pr-2",children:[Wl.map(v=>i.jsxs(pi.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-6 rounded-xl cursor-pointer transition-all border-2 ${t===v.id?"border-teal-400 shadow-lg shadow-teal-400/20":"border-transparent hover:border-gray-500/30"} ${n<v.cost?"opacity-50 cursor-not-allowed":""}`,style:{background:v.bgColor,backdropFilter:"blur(8px)"},onClick:()=>n>=v.cost&&s(v.id),children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:v.color,children:v.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg ${v.color}`,children:v.name}),i.jsx(ft,{className:`text-xs mt-1 ${v.type==="card"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-black":"bg-gray-600 text-gray-200"}`,children:v.type.toUpperCase()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(rt,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:"font-bold text-lg",style:{color:"var(--dropsource-primary)"},children:v.cost})]}),i.jsxs("p",{className:"text-xs",style:{color:"var(--dropsource-tertiary)"},children:[v.probability,"% drop rate"]})]})]}),i.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--dropsource-secondary)"},children:v.description}),n<v.cost&&i.jsxs("div",{className:"mt-3 text-red-400 text-sm font-medium",children:["Insufficient Stars (Need ",(v.cost-n).toLocaleString()," more)"]})]},v.id)),i.jsxs("div",{className:"pt-6 space-y-4",children:[t&&i.jsxs(pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 rounded-lg",style:{background:"var(--dropsource-surface)",border:"1px solid var(--dropsource-border)"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{style:{color:"var(--dropsource-secondary)"},children:"Selected:"}),i.jsx("span",{className:`font-semibold ${Wl.find(v=>v.id===t)?.color}`,children:Wl.find(v=>v.id===t)?.name})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{style:{color:"var(--dropsource-secondary)"},children:"Cost:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(rt,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:"font-semibold",style:{color:"var(--dropsource-primary)"},children:Wl.find(v=>v.id===t)?.cost})]})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Se,{onClick:e,className:"flex-1 dropsource-btn-secondary",disabled:o,children:"Cancel"}),i.jsx(Se,{onClick:()=>t&&x(t),disabled:!t||o||!d.trim(),className:"flex-1 dropsource-btn-primary relative overflow-hidden",children:o?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Minting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(uh,{className:"w-4 h-4 mr-2"}),"Mint Collectible"]})})]})]})]})]})]})]})})})}const VW=[{id:"1",username:"CraftyCrow",handle:"@CraftyCrow",avatar:"🎨",lastMessage:"Thanks for the collab! 🔥",timestamp:new Date(Date.now()-3e5),unread:2,online:!0},{id:"2",username:"PixelSmith",handle:"@PixelSmith",avatar:"⚒️",lastMessage:"Got that sticker you wanted",timestamp:new Date(Date.now()-18e5),unread:0,online:!0},{id:"3",username:"MemeDealer",handle:"@MemeDealer",avatar:"😎",lastMessage:"lol that is cursed",timestamp:new Date(Date.now()-72e5),unread:1,online:!1},{id:"4",username:"ZineZebra",handle:"@ZineZebra",avatar:"🦓",lastMessage:"When are you free for that stream?",timestamp:new Date(Date.now()-864e5),unread:0,online:!1},{id:"5",username:"BeatBuddy",handle:"@BeatBuddy",avatar:"🎵",lastMessage:"Check out this beat I made",timestamp:new Date(Date.now()-1728e5),unread:0,online:!0}];function WW({onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u}){const[h,p]=b.useState(t),[m,y]=b.useState(!1),[x,v]=b.useState({x:0,y:0}),[w,j]=b.useState(""),[C,N]=b.useState(null),k=E=>{const R=E.target;R.tagName==="BUTTON"||R.closest("button")||R.closest(".dm-content")||R.closest("[data-no-drag]")||(E.preventDefault(),E.stopPropagation(),y(!0),v({x:E.clientX-h.x,y:E.clientY-h.y}),u())},_=E=>{if(!m)return;const R={x:E.clientX-x.x,y:E.clientY-x.y};p(R),l(R)},P=()=>{y(!1)};b.useEffect(()=>{if(m)return document.addEventListener("mousemove",_),document.addEventListener("mouseup",P),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",P)}},[m,x]);const D=VW.filter(E=>E.username.toLowerCase().includes(w.toLowerCase())||E.handle.toLowerCase().includes(w.toLowerCase())),M=E=>{const O=new Date().getTime()-E.getTime(),B=Math.floor(O/6e4),L=Math.floor(O/36e5),$=Math.floor(O/864e5);return B<60?`${B}m`:L<24?`${L}h`:`${$}d`};return i.jsxs("div",{className:`fixed rounded-2xl border border-white/8 bg-zinc-950/90 backdrop-blur-md shadow-[0_10px_40px_rgba(0,0,0,0.6)] max-h-[72vh] w-[720px] overflow-hidden flex flex-col ${m?"dragging":""}`,style:{left:h.x,top:h.y,zIndex:o,cursor:m?"grabbing":"default"},onClick:u,children:[i.jsxs("div",{className:"h-12 px-4 flex items-center justify-between gap-2 border-b border-white/5 text-zinc-200 bg-transparent cursor-move select-none",onMouseDown:k,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 opacity-70 hover:opacity-100"}),i.jsx("h3",{className:"text-sm font-semibold text-zinc-200",children:"Direct Messages"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{variant:"ghost",size:"sm",onClick:e,className:"text-zinc-400 hover:text-zinc-200 opacity-70 hover:opacity-100",children:i.jsx(Tc,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:r,className:"text-zinc-400 hover:text-red-400 opacity-70 hover:opacity-100",children:i.jsx(kr,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex dm-content p-4 overflow-y-auto",style:{height:"calc(100% - 48px)"},"data-no-drag":!0,children:[i.jsxs("div",{className:"border-r border-white/5 flex flex-col",style:{width:C?"280px":"100%",height:"100%"},children:[i.jsx("div",{className:"p-3 border-b border-white/5",children:i.jsxs("div",{className:"relative",children:[i.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-zinc-500 opacity-70"}),i.jsx(Cr,{value:w,onChange:E=>j(E.target.value),placeholder:"Search conversations...",className:"pl-9 bg-zinc-800 border-zinc-600 text-zinc-200 placeholder-zinc-500"})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"rgb(255 255 255 / 0.1) transparent"},children:[D.map(E=>i.jsx("div",{className:`rounded-lg border border-white/5 bg-zinc-900/40 hover:bg-zinc-800/50 transition p-3 mb-2 cursor-pointer ${C?.id===E.id?"bg-blue-600/20 border-blue-500/20":""}`,onClick:()=>N(E),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:E.online?"#22C55E":"#6B7280"},children:E.avatar}),E.online&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2",style:{backgroundColor:"#22C55E",borderColor:"#0F1520"}})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate text-zinc-200",children:E.username}),i.jsx("span",{className:"text-xs text-zinc-500",children:M(E.timestamp)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm truncate text-zinc-500",children:E.lastMessage}),E.unread>0&&i.jsx(ft,{className:"ml-2 px-2 py-1 text-xs bg-[#3BA7FF] text-black",children:E.unread})]})]})]})},E.id)),D.length===0&&i.jsxs("div",{className:"p-8 text-center text-zinc-500",children:[i.jsx(Sr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No conversations found"}),i.jsx("p",{className:"text-sm mt-1",children:"Start a new conversation with someone!"})]})]}),i.jsx("div",{className:"h-12 px-4 border-t border-white/5 bg-transparent flex items-center",children:i.jsxs(Se,{className:"w-full flex items-center gap-2 bg-[#3BA7FF] text-black hover:bg-[#2F96ED]",children:[i.jsx(wi,{className:"w-4 h-4"}),"New Message"]})})]}),C&&i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsxs("div",{className:"h-12 px-4 flex items-center justify-between gap-2 border-b border-white/5 text-zinc-200 bg-transparent",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:C.online?"#22C55E":"#6B7280"},children:C.avatar}),C.online&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 rounded-full",style:{backgroundColor:"#22C55E"}})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-zinc-200",children:C.username}),i.jsx("div",{className:"text-xs text-zinc-500",children:C.online?"Online":"Offline"})]})]}),i.jsx(Se,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-zinc-200 opacity-70 hover:opacity-100",children:i.jsx(ac,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex-1 p-4 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"rgb(255 255 255 / 0.1) transparent"},children:i.jsxs("div",{className:"text-center py-8 text-zinc-500",children:[i.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl mx-auto mb-3",style:{backgroundColor:C.online?"#22C55E":"#6B7280"},children:C.avatar}),i.jsx("h4",{className:"text-sm font-semibold text-zinc-200",children:C.username}),i.jsxs("p",{className:"text-sm mt-1",children:["This is the beginning of your conversation with ",C.username]})]})}),i.jsx("div",{className:"h-12 px-4 border-t border-white/5 bg-transparent flex items-center",children:i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsx(Cr,{placeholder:`Message ${C.username}...`,className:"flex-1 bg-zinc-800 border-zinc-600 text-zinc-200 placeholder-zinc-500"}),i.jsx(Se,{size:"sm",className:"bg-[#3BA7FF] text-black hover:bg-[#2F96ED]",children:i.jsx(Mc,{className:"w-4 h-4"})})]})})]})]})]})}const D2=[{id:"1",username:"CraftyCrow",handle:"@CraftyCrow",avatar:"🎨",online:!0,status:"online",activity:"Creating stickers",joinedDate:new Date(Date.now()-864e5*30),mutualFriends:12,trustScore:95},{id:"2",username:"PixelSmith",handle:"@PixelSmith",avatar:"⚒️",online:!0,status:"busy",activity:"In a collab session",joinedDate:new Date(Date.now()-864e5*45),mutualFriends:8,trustScore:92},{id:"3",username:"MemeDealer",handle:"@MemeDealer",avatar:"😎",online:!1,status:"offline",joinedDate:new Date(Date.now()-864e5*15),mutualFriends:23,trustScore:88},{id:"4",username:"ZineZebra",handle:"@ZineZebra",avatar:"🦓",online:!0,status:"away",activity:"Streaming",joinedDate:new Date(Date.now()-864e5*60),mutualFriends:15,trustScore:97},{id:"5",username:"BeatBuddy",handle:"@BeatBuddy",avatar:"🎵",online:!0,status:"online",activity:"Making beats",joinedDate:new Date(Date.now()-864e5*20),mutualFriends:6,trustScore:89}],Hu=[{id:"r1",username:"SynthMaster",handle:"@SynthMaster",avatar:"🎹",mutualFriends:3,requestDate:new Date(Date.now()-36e5*2)},{id:"r2",username:"VectorVoid",handle:"@VectorVoid",avatar:"🌌",mutualFriends:7,requestDate:new Date(Date.now()-36e5*6)}];function HW({onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u}){const[h,p]=b.useState(t),[m,y]=b.useState(!1),[x,v]=b.useState({x:0,y:0}),[w,j]=b.useState(""),[C,N]=b.useState("friends"),k=O=>{O.target.closest(".friends-content")||(y(!0),v({x:O.clientX-h.x,y:O.clientY-h.y}),u())},_=O=>{if(!m)return;const B={x:O.clientX-x.x,y:O.clientY-x.y};p(B),l(B)},P=()=>{y(!1)};b.useEffect(()=>{if(m)return document.addEventListener("mousemove",_),document.addEventListener("mouseup",P),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",P)}},[m,x]);const D=O=>{switch(O){case"online":return"#22C55E";case"away":return"#EAB308";case"busy":return"#EF4444";case"offline":return"#6B7280";default:return"#6B7280"}},M=D2.filter(O=>O.username.toLowerCase().includes(w.toLowerCase())||O.handle.toLowerCase().includes(w.toLowerCase())),E=M.filter(O=>O.online),R=M.filter(O=>!O.online);return i.jsxs("div",{className:`fixed rounded-2xl border border-white/8 bg-zinc-950/90 backdrop-blur-md shadow-[0_10px_40px_rgba(0,0,0,0.6)] max-h-[72vh] w-[720px] overflow-hidden flex flex-col ${m?"dragging":""}`,style:{left:h.x,top:h.y,zIndex:o,cursor:m?"grabbing":"default"},onClick:u,children:[i.jsxs("div",{className:"h-12 px-4 flex items-center justify-between gap-2 border-b border-white/5 text-zinc-200 bg-transparent cursor-move",onMouseDown:k,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ss,{className:"w-5 h-5 opacity-70 hover:opacity-100"}),i.jsx("h3",{className:"text-sm font-semibold text-zinc-200",children:"Friends"}),i.jsx(ft,{className:"bg-blue-600/20 text-blue-400 border-blue-600/30",children:D2.length})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{variant:"ghost",size:"sm",onClick:e,className:"text-zinc-400 hover:text-zinc-200 opacity-70 hover:opacity-100",children:i.jsx(Tc,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:r,className:"text-zinc-400 hover:text-red-400 opacity-70 hover:opacity-100",children:i.jsx(kr,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1 overflow-hidden friends-content p-4",children:i.jsxs(jf,{value:C,onValueChange:N,className:"h-full flex flex-col",children:[i.jsxs(Nf,{className:"grid w-full grid-cols-3 m-0 rounded-none border-b border-white/5 bg-transparent h-12",children:[i.jsx(Ws,{value:"friends",className:"data-[state=active]:text-zinc-200 data-[state=active]:bg-transparent text-zinc-500 bg-transparent border-none relative data-[state=active]:after:absolute data-[state=active]:after:left-2 data-[state=active]:after:right-2 data-[state=active]:after:-bottom-[6px] data-[state=active]:after:h-[2px] data-[state=active]:after:rounded-full data-[state=active]:after:bg-[#3BA7FF]",children:"Friends"}),i.jsxs(Ws,{value:"requests",className:"data-[state=active]:text-zinc-200 data-[state=active]:bg-transparent text-zinc-500 bg-transparent border-none relative data-[state=active]:after:absolute data-[state=active]:after:left-2 data-[state=active]:after:right-2 data-[state=active]:after:-bottom-[6px] data-[state=active]:after:h-[2px] data-[state=active]:after:rounded-full data-[state=active]:after:bg-[#3BA7FF]",children:["Requests",Hu.length>0&&i.jsx(ft,{className:"ml-2 px-1 py-0 text-xs bg-rose-600 text-white",children:Hu.length})]}),i.jsx(Ws,{value:"blocked",className:"data-[state=active]:text-zinc-200 data-[state=active]:bg-transparent text-zinc-500 bg-transparent border-none relative data-[state=active]:after:absolute data-[state=active]:after:left-2 data-[state=active]:after:right-2 data-[state=active]:after:-bottom-[6px] data-[state=active]:after:h-[2px] data-[state=active]:after:rounded-full data-[state=active]:after:bg-[#3BA7FF]",children:"Blocked"})]}),i.jsxs(Hs,{value:"friends",className:"flex-1 overflow-hidden m-0",children:[i.jsx("div",{className:"p-3 border-b border-white/5",children:i.jsxs("div",{className:"relative",children:[i.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-zinc-500 opacity-70"}),i.jsx(Cr,{value:w,onChange:O=>j(O.target.value),placeholder:"Search friends...",className:"pl-9 bg-zinc-800 border-zinc-600 text-zinc-200 placeholder-zinc-500"})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"rgb(255 255 255 / 0.1) transparent"},children:[E.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"px-4 py-2 text-xs font-semibold text-zinc-500 bg-green-600/10",children:["ONLINE — ",E.length]}),E.map(O=>i.jsx("div",{className:"rounded-lg border border-white/5 bg-zinc-900/40 hover:bg-zinc-800/50 transition p-3 mb-2 cursor-pointer",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:D(O.status)},children:O.avatar}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2",style:{backgroundColor:D(O.status),borderColor:"#0F1520"}})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate text-zinc-200",children:O.username}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(rt,{className:"w-3 h-3 text-yellow-500"}),i.jsxs("span",{className:"text-xs text-yellow-500",children:[O.trustScore,"%"]})]})]}),i.jsx("div",{className:"text-sm truncate text-zinc-500",children:O.activity||O.handle})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Se,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 text-gray-400 hover:text-white",children:i.jsx(Sr,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 text-gray-400 hover:text-white",children:i.jsx(ac,{className:"w-4 h-4"})})]})]})},O.id))]}),R.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"px-4 py-2 text-xs font-semibold",style:{color:"#A9B7C6",backgroundColor:"rgba(107, 114, 128, 0.1)"},children:["OFFLINE — ",R.length]}),R.map(O=>i.jsx("div",{className:"p-3 border-b hover:bg-gray-800/50 cursor-pointer transition-colors duration-150 opacity-60",style:{borderColor:"#1A2531"},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"relative",children:i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:"#6B7280"},children:O.avatar})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate",style:{color:"#E6ECF3"},children:O.username}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(rt,{className:"w-3 h-3",style:{color:"#FFB039"}}),i.jsxs("span",{className:"text-xs",style:{color:"#FFB039"},children:[O.trustScore,"%"]})]})]}),i.jsx("div",{className:"text-sm truncate",style:{color:"#A9B7C6"},children:O.handle})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Se,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 text-gray-400 hover:text-white",children:i.jsx(Sr,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 text-gray-400 hover:text-white",children:i.jsx(ac,{className:"w-4 h-4"})})]})]})},O.id))]}),M.length===0&&i.jsxs("div",{className:"p-8 text-center",style:{color:"#A9B7C6"},children:[i.jsx(ss,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No friends found"})]})]})]}),i.jsx(Hs,{value:"requests",className:"flex-1 overflow-hidden m-0",children:i.jsxs("div",{className:"flex-1 overflow-y-auto dropsource-custom-scrollbar",style:{maxHeight:"calc(100% - 50px)",overflowY:"auto"},children:[Hu.map(O=>i.jsxs("div",{className:"p-4 border-b",style:{borderColor:"#1A2531"},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:"#00AEEF"},children:O.avatar}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{style:{color:"#E6ECF3",fontWeight:"600"},children:O.username}),i.jsxs("div",{style:{color:"#A9B7C6",fontSize:"12px"},children:[O.mutualFriends," mutual friends"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Se,{size:"sm",className:"flex-1",style:{backgroundColor:"#22C55E",color:"#000"},children:"Accept"}),i.jsx(Se,{variant:"ghost",size:"sm",className:"flex-1 text-gray-400 hover:text-white border border-gray-600",children:"Decline"})]})]},O.id)),Hu.length===0&&i.jsxs("div",{className:"p-8 text-center",style:{color:"#A9B7C6"},children:[i.jsx(kg,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No pending requests"})]})]})}),i.jsx(Hs,{value:"blocked",className:"flex-1 overflow-hidden m-0",children:i.jsxs("div",{className:"p-8 text-center",style:{color:"#A9B7C6"},children:[i.jsx(ss,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No blocked users"})]})})]})}),i.jsx("div",{className:"p-3 border-t",style:{borderColor:"#1A2531"},children:i.jsxs(Se,{className:"w-full flex items-center gap-2",style:{backgroundColor:"#00AEEF",color:"#000"},children:[i.jsx(kg,{className:"w-4 h-4"}),"Add Friend"]})})]})}const A2=F7();function UW({onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u}){const[h,p]=b.useState(t),[m,y]=b.useState(!1),[x,v]=b.useState({x:0,y:0}),[w,j]=b.useState(""),[C,N]=b.useState("stickers"),[k,_]=b.useState("grid"),[P,D]=b.useState(null),M=L=>{const $=L.target;$.tagName==="BUTTON"||$.closest("button")||$.closest(".scrapbook-content")||$.closest("[data-no-drag]")||(L.preventDefault(),L.stopPropagation(),y(!0),v({x:L.clientX-h.x,y:L.clientY-h.y}),u())},E=L=>{if(!m)return;const $={x:L.clientX-x.x,y:L.clientY-x.y};p($),l($)},R=()=>{y(!1)};b.useEffect(()=>{if(m)return document.addEventListener("mousemove",E),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",R)}},[m,x]);const O=L=>L==="sticker"?"🎨":"♦️",B=A2.filter(L=>{const $=L.name.toLowerCase().includes(w.toLowerCase()),J=C==="stickers"&&L.type==="sticker"||C==="cards"&&L.type==="card";return $&&J});return i.jsxs("div",{className:`fixed rounded-2xl border border-white/8 bg-zinc-950/90 backdrop-blur-md shadow-[0_10px_40px_rgba(0,0,0,0.6)] max-h-[72vh] w-[720px] overflow-hidden flex flex-col ${m?"dragging":""}`,style:{left:h.x,top:h.y,zIndex:o,cursor:m?"grabbing":"default"},onClick:u,children:[i.jsxs("div",{className:"h-12 px-4 flex items-center justify-between border-b border-white/5 cursor-move select-none",onMouseDown:M,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Yl,{className:"w-5 h-5",style:{color:"#00AEEF"}}),i.jsx("h3",{style:{color:"#E6ECF3",fontSize:"16px",fontWeight:"600"},children:"Scrapbook"}),i.jsx(ft,{style:{backgroundColor:"rgba(0, 174, 239, 0.1)",color:"#00AEEF",border:"1px solid rgba(0, 174, 239, 0.2)"},children:A2.length})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>_(k==="grid"?"list":"grid"),className:"text-gray-400 hover:text-white",children:k==="grid"?i.jsx(WD,{className:"w-4 h-4"}):i.jsx(ED,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-white",children:i.jsx(Tc,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:r,className:"text-gray-400 hover:text-red-400",children:i.jsx(kr,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto scrapbook-content","data-no-drag":!0,children:i.jsxs(jf,{value:C,onValueChange:N,className:"h-full flex flex-col",children:[i.jsx("div",{className:"border-b border-white/5",children:i.jsxs(Nf,{className:"grid w-full grid-cols-2 m-0 rounded-none",style:{backgroundColor:"#0F1520",borderColor:"#1A2531",height:"48px"},children:[i.jsxs(Ws,{value:"stickers",className:"data-[state=active]:text-white data-[state=active]:bg-transparent",style:{backgroundColor:"transparent",border:"none",color:"#A9B7C6"},children:["🎨 Stickers (",e_().length,")"]}),i.jsxs(Ws,{value:"cards",className:"data-[state=active]:text-white data-[state=active]:bg-transparent",style:{backgroundColor:"transparent",border:"none",color:"#A9B7C6"},children:["♦️ Cards (",t_().length,")"]})]})}),i.jsxs(Hs,{value:"stickers",className:"flex-1 overflow-hidden m-0",children:[i.jsx("div",{className:"p-3 border-b border-white/5",children:i.jsxs("div",{className:"relative",children:[i.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(Cr,{value:w,onChange:L=>j(L.target.value),placeholder:"Search stickers...",className:"pl-9 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 dropsource-custom-scrollbar",children:i.jsxs("div",{className:k==="grid"?"grid grid-cols-2 gap-4":"space-y-3",children:[B.map(L=>i.jsxs("div",{className:"dropsource-collectible-card dropsource-clickable relative group",onMouseEnter:()=>D(L.id),onMouseLeave:()=>D(null),style:{borderColor:ot(L.rarity),borderWidth:"2px",transform:P===L.id?"translateY(-2px)":"translateY(0)",boxShadow:P===L.id?`0 8px 32px ${ot(L.rarity)}40`:void 0,transition:"all 200ms ease-out"},children:[P===L.id&&i.jsxs("div",{className:"dropsource-serial-overlay",style:{background:"rgba(0, 0, 0, 0.8)",color:ot(L.rarity),padding:"4px 8px",borderRadius:"var(--radius-sharp)",fontSize:"var(--text-xs)",fontWeight:"600",boxShadow:`0 0 12px ${ot(L.rarity)}`,backdropFilter:"blur(8px)",border:`1px solid ${ot(L.rarity)}`,animation:"fadeInSmooth 200ms ease-out"},children:["Serial ",L.serial]}),i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("span",{className:"text-2xl",children:O(L.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsx("h4",{className:"font-medium truncate",style:{color:"#E6ECF3"},children:L.name})}),i.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium border",style:{color:ot(L.rarity),borderColor:ot(L.rarity),backgroundColor:zh(L.rarity),display:"inline-block",marginBottom:"8px"},children:L.rarity.charAt(0).toUpperCase()+L.rarity.slice(1)})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"flex gap-1 flex-wrap",children:i.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(99, 179, 255, 0.1)",color:"#63B3FF"},children:L.type})}),i.jsxs("span",{className:"text-xs",style:{color:"#A9B7C6"},children:[L.totalSupply," minted"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-1",children:i.jsx("span",{className:"text-sm font-semibold",style:{color:"#00AEEF"},children:L.rarity==="common"?"$5":L.rarity==="rare"?"$10":L.rarity==="epic"?"$15":L.rarity==="legendary"?"$20":"Trade"})}),i.jsx("button",{className:"dropsource-btn-primary",style:{fontSize:"var(--text-xs)",padding:"calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 1)"},onClick:()=>console.log(`Buy/Trade ${L.name}`),children:"Buy"})]})]},L.id)),B.length===0&&i.jsxs("div",{className:"p-8 text-center col-span-2",style:{color:"#A9B7C6"},children:[i.jsx(Yl,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No stickers found"}),i.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search"})]})]})})]}),i.jsxs(Hs,{value:"cards",className:"flex-1 overflow-hidden m-0",children:[i.jsx("div",{className:"p-3 border-b border-white/5",children:i.jsxs("div",{className:"relative",children:[i.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(Cr,{value:w,onChange:L=>j(L.target.value),placeholder:"Search cards...",className:"pl-9 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 dropsource-custom-scrollbar",children:i.jsxs("div",{className:k==="grid"?"grid grid-cols-2 gap-4":"space-y-3",children:[B.map(L=>i.jsxs("div",{className:"dropsource-collectible-card dropsource-clickable relative group",onMouseEnter:()=>D(L.id),onMouseLeave:()=>D(null),style:{borderColor:ot(L.rarity),borderWidth:"2px",transform:P===L.id?"translateY(-2px)":"translateY(0)",boxShadow:P===L.id?`0 8px 32px ${ot(L.rarity)}40`:void 0,transition:"all 200ms ease-out"},children:[P===L.id&&i.jsxs("div",{className:"dropsource-serial-overlay",style:{background:"rgba(0, 0, 0, 0.8)",color:ot(L.rarity),padding:"4px 8px",borderRadius:"var(--radius-sharp)",fontSize:"var(--text-xs)",fontWeight:"600",boxShadow:`0 0 12px ${ot(L.rarity)}`,backdropFilter:"blur(8px)",border:`1px solid ${ot(L.rarity)}`,animation:"fadeInSmooth 200ms ease-out"},children:["Serial ",L.serial]}),i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("span",{className:"text-2xl",children:O(L.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsx("h4",{className:"font-medium truncate",style:{color:"#E6ECF3"},children:L.name})}),i.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium border",style:{color:ot(L.rarity),borderColor:ot(L.rarity),backgroundColor:zh(L.rarity),display:"inline-block",marginBottom:"8px"},children:L.rarity.charAt(0).toUpperCase()+L.rarity.slice(1)})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"flex gap-1 flex-wrap",children:i.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(99, 179, 255, 0.1)",color:"#63B3FF"},children:L.type})}),i.jsxs("span",{className:"text-xs",style:{color:"#A9B7C6"},children:[L.totalSupply," minted"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-1",children:i.jsx("span",{className:"text-sm font-semibold",style:{color:"#00AEEF"},children:L.rarity==="epic"?"$15":"$20"})}),i.jsx("button",{className:"dropsource-btn-primary",style:{fontSize:"var(--text-xs)",padding:"calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 1)"},onClick:()=>console.log(`Buy ${L.name}`),children:"Buy"})]})]},L.id)),B.length===0&&i.jsxs("div",{className:"p-8 text-center col-span-2",style:{color:"#A9B7C6"},children:[i.jsx(Yl,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No cards found"}),i.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search"})]})]})})]})]})})]})}function $W({onNavigate:r}){const[e,t]=b.useState("drop-source-admin"),[s,n]=b.useState(""),o=[{id:"drop-source-admin",name:"Drop Source (Admin)",avatar:"🚀",lastMessage:"So glad you love it! Have you checked out the Kickstarter?",time:"1h ago",unread:0,online:!0}],l=[{id:1,sender:"me",text:"Great Site! I've been looking for a spot to connect with a community and share/sell my works! I also love the sticker/card system! So creative!",time:"1h ago",isOwn:!0},{id:2,sender:"drop-source-admin",text:"So glad you love it! Have you checked out the Kickstarter?",time:"1h ago",isOwn:!1},{id:3,sender:"me",text:"Yep! I'm backing right now, I can't wait to see it when it's finished!",time:"1h ago",isOwn:!0}],d=o.find(h=>h.id===e),u=()=>{s.trim()&&(console.log("Sending message:",s),n(""))};return i.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",style:{background:"linear-gradient(180deg, #0A0F1C 0%, #111827 100%)",color:"var(--dropsource-primary)"},children:[i.jsxs("header",{className:"flex items-center justify-between",style:{background:"rgba(18, 23, 35, 0.95)",borderBottom:"1px solid rgba(0, 174, 239, 0.2)",padding:"calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 3)",backdropFilter:"blur(12px)",zIndex:20},children:[i.jsx("div",{className:"flex items-center dropsource-spacing-md",children:i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsxs("button",{onClick:()=>r("community"),className:"dropsource-nav-pill dropsource-focus-visible flex items-center gap-2",style:{padding:"calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2)"},children:[i.jsx(Nc,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Home"})]})}),i.jsx(St,{children:"Back to Community Hub"})]})}),i.jsxs("div",{className:"flex-1 text-center",children:[i.jsx("h1",{style:{color:"#00AEEF",fontSize:"var(--text-lg)",fontWeight:"600"},children:"Direct Contact Portal"}),i.jsx("p",{style:{color:"var(--dropsource-tertiary)",fontSize:"var(--text-sm)",marginTop:"2px"},children:"Connect with creators"})]}),i.jsx("div",{className:"flex items-center dropsource-spacing-sm",children:i.jsxs("div",{className:"relative",children:[i.jsx(Cr,{placeholder:"Search conversations...",className:"dropsource-input pr-10",style:{width:"200px",paddingLeft:"calc(var(--spacing-unit) * 2)"}}),i.jsx(yn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 dropsource-text-tertiary"})]})})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"w-80 flex flex-col",style:{background:"rgba(17, 24, 39, 0.8)",borderRight:"1px solid rgba(0, 174, 239, 0.2)"},children:[i.jsx("div",{className:"p-4",style:{borderBottom:"1px solid rgba(0, 174, 239, 0.2)"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{style:{fontSize:"var(--text-md)",fontWeight:"600",color:"var(--dropsource-primary)"},children:"Messages"}),i.jsx("button",{className:"dropsource-toolbar-button",children:i.jsx(ac,{className:"w-4 h-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto dropsource-custom-scrollbar",children:o.map(h=>i.jsx("div",{onClick:()=>t(h.id),className:"p-4 cursor-pointer transition-all duration-150",style:{borderBottom:"1px solid rgba(0, 174, 239, 0.1)",background:e===h.id?"rgba(0, 174, 239, 0.1)":"transparent",borderLeft:e===h.id?"2px solid #00AEEF":"2px solid transparent"},onMouseEnter:p=>{e!==h.id&&(p.currentTarget.style.background="rgba(0, 174, 239, 0.05)")},onMouseLeave:p=>{e!==h.id&&(p.currentTarget.style.background="transparent")},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-dropsource-surface flex items-center justify-center text-lg",children:h.avatar}),h.online&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-dropsource-panel"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{style:{fontSize:"var(--text-sm)",fontWeight:"500",color:"var(--dropsource-primary)"},children:h.name}),i.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--dropsource-tertiary)"},children:h.time})]}),i.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--dropsource-secondary)",marginTop:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.lastMessage})]}),h.unread>0&&i.jsx("div",{className:"w-5 h-5 bg-dropsource-brand rounded-full flex items-center justify-center text-xs font-semibold text-black",children:h.unread})]})},h.id))})]}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[d&&i.jsxs("div",{className:"p-4 flex items-center justify-between",style:{borderBottom:"1px solid rgba(0, 174, 239, 0.2)",background:"rgba(17, 24, 39, 0.6)"},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-dropsource-surface flex items-center justify-center",children:d.avatar}),d.online&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-2.5 h-2.5 bg-green-500 rounded-full border border-dropsource-surface"})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{fontSize:"var(--text-sm)",fontWeight:"500",color:"var(--dropsource-primary)"},children:d.name}),i.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--dropsource-tertiary)"},children:d.online?"Online":"Last seen 1h ago"})]})]}),i.jsx("div",{className:"flex items-center dropsource-spacing-sm"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 dropsource-custom-scrollbar",children:i.jsx("div",{className:"space-y-4",children:l.map(h=>i.jsxs("div",{className:`flex ${h.isOwn?"justify-end":"justify-start"} gap-3`,children:[!h.isOwn&&i.jsx("div",{className:"dcp-message-avatar",children:"🚀"}),i.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg",style:{background:h.isOwn?"#00AEEF":"rgba(17, 24, 39, 0.8)",color:h.isOwn?"#000":"var(--dropsource-primary)",borderRadius:"var(--radius-sharp)"},children:[i.jsx("p",{style:{fontSize:"var(--text-sm)"},children:h.text}),i.jsx("p",{style:{fontSize:"var(--text-xs)",marginTop:"4px",opacity:.7},children:h.time})]}),h.isOwn&&i.jsx("div",{className:"dcp-message-avatar",children:"🙂"})]},h.id))})}),i.jsx("div",{className:"p-4",style:{borderTop:"1px solid rgba(0, 174, 239, 0.2)",background:"rgba(17, 24, 39, 0.6)"},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx(Cr,{value:s,onChange:h=>n(h.target.value),placeholder:"Type a message...",className:"dropsource-input",onKeyPress:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),u())}})}),i.jsx(Se,{onClick:u,disabled:!s.trim(),className:"px-4",style:{background:"#00AEEF",color:"#000",border:"none",borderRadius:"var(--radius-sharp)"},children:i.jsx(Mc,{className:"w-4 h-4"})})]})})]})]})]})}function GW({onNavigate:r}){const[e,t]=b.useState("all"),s=[{id:1,title:"DropSource Kickstarter Campaign Goes Live!",excerpt:"Join us on Kickstarter to fund the community-owned creator hub. Backers get early access features and limited edition collectibles.",emoji:"🚀",author:"Drop Source Team",authorAvatar:"🏢",publishedAt:"2 hours ago",category:"Kickstarter",likes:1234,comments:234,featured:!0,tags:["kickstarter"]},{id:2,title:"Introducing DropSource Stickers & Card Creation System",excerpt:"Create unique stickers and collectible cards from your work, trade with friends, and showcase your journey. Here's how it works and what's coming next.",emoji:"🎨",author:"Drop Source Team",authorAvatar:"✨",publishedAt:"6 hours ago",category:"Features",likes:892,comments:156,featured:!1,tags:["features"]},{id:3,title:"How to Connect with the DropSource Community",excerpt:"Find collaborators, join creator groups, and take part in community challenges. A quick guide to meaningful connections on DropSource.",emoji:"🫂",author:"Drop Source Team",authorAvatar:"💙",publishedAt:"8 hours ago",category:"Community",likes:567,comments:89,featured:!1,tags:["community"]},{id:4,title:"Platform Update: AI Collaboration Tools",excerpt:"New AI assistance for brainstorming, versioning, and feedback so teams can move from idea to drop faster.",emoji:"🤖",author:"Drop Source Team",authorAvatar:"⚙️",publishedAt:"1 day ago",category:"Updates",likes:723,comments:134,featured:!1,tags:["updates"]},{id:5,title:"Getting Started Guide for New Users",excerpt:"Everything you need to know on day one—profiles, projects, stickers/cards, and posting to Creator News.",emoji:"📝",author:"Drop Source Team",authorAvatar:"🎓",publishedAt:"2 days ago",category:"Tutorials",likes:445,comments:78,featured:!1,tags:["tutorials"]}],n=[{id:1,author:"PixelSmith",avatar:"🎨",specialty:"Digital Artist",title:"Indie Artist Hits 1,000 Sticker Sales",excerpt:"A milestone for creator-led commerce: PixelSmith's neon sticker set crossed 1K sales with community promos and Spotlight boosts. Tips inside.",timeAgo:"3 hours ago",reactions:312,comments:45,isSpotlight:!0,category:"Achievement"},{id:2,author:"VerseWriter",avatar:"📝",specialty:"Poet / Storyteller",title:"How One Creator Built a Fanbase Overnight",excerpt:"A single heartfelt story, a clear call-to-action, and cross-posting to Creator News pushed VerseWriter to the top of the week's trends.",timeAgo:"5 hours ago",reactions:198,comments:32,isSpotlight:!1,category:"Success Story"},{id:3,author:"CodeCrafter",avatar:"💻",specialty:"Indie Developer",title:"Community Raises $2K for Local Studio",excerpt:"Creators pooled sales and tips to help CodeCrafter finish a small recording/streaming setup—showing how DropSource rallies behind its own.",timeAgo:"8 hours ago",reactions:456,comments:67,isSpotlight:!0,category:"Community Support"},{id:4,author:"SnackLord",avatar:"🍿",specialty:"Beat Creator",title:"This Beat Is Basically Just Microwave Sounds (and it slaps)",excerpt:"A playful experiment turned into a community earworm—proof that creativity > gear when the idea hits.",timeAgo:"2 hours ago",reactions:89,comments:23,isSpotlight:!1,category:"Experimental"},{id:5,author:"MemeDealer",avatar:"😂",specialty:"Content Creator",title:"Sticker War: Cat vs. Frog Edition",excerpt:"Two sticker sets entered, one meme emerged victorious. Voters crowned a champion and unlocked a limited badge.",timeAgo:"6 hours ago",reactions:156,comments:38,isSpotlight:!1,category:"Community Event"},{id:6,author:"BugHunter",avatar:"🐛",specialty:"QA Tester",title:"When You Upload the Wrong File and Still Trend",excerpt:"A mislabeled voice memo accidentally posted, the community laughed, then rallied—turning a mistake into a viral moment.",timeAgo:"1 day ago",reactions:234,comments:56,isSpotlight:!1,category:"Community Love"}],o=[{id:1,title:"DropSource Community Hits 50K Active Creators",excerpt:"A milestone celebration of our thriving creative community. From bedroom producers to chart-toppers, this is what collaborative creation looks like.",emoji:"🏆",author:"Drop Source Team",authorAvatar:"👑",publishedAt:"1 week ago",category:"Hall of Fame",likes:5670,comments:892,featured:!1,tags:["golden"],isGolden:!0},{id:2,title:"The Beat That Changed Everything: Community Success Story",excerpt:"How a simple loop shared on DropSource became a worldwide hit, featuring three different creators and five million streams.",emoji:"🎵",author:"Drop Source Team",authorAvatar:"🌟",publishedAt:"2 weeks ago",category:"Legend",likes:4320,comments:567,featured:!1,tags:["golden"],isGolden:!0},{id:3,title:"Creator of the Year: The PixelSmith Journey",excerpt:"From first upload to platform superstar—the inspiring story of how one artist built a creative empire through community collaboration.",emoji:"🎨",author:"Drop Source Team",authorAvatar:"🏅",publishedAt:"3 weeks ago",category:"Achievement",likes:3890,comments:445,featured:!1,tags:["golden"],isGolden:!0},{id:4,title:"Most Remixed Track Record Broken",excerpt:"A single DropSource upload spawned over 1,000 community remixes, creating the largest collaborative music project in platform history.",emoji:"🔥",author:"Drop Source Team",authorAvatar:"📈",publishedAt:"1 month ago",category:"Record",likes:7200,comments:1156,featured:!1,tags:["golden"],isGolden:!0}],l=()=>e==="all"?s:e==="golden"?o:s.filter(h=>h.tags.includes(e)),d=s.find(h=>h.featured),u=({item:h,isCreator:p=!1,isGolden:m=!1})=>i.jsxs("div",{className:"rounded transition-all duration-200",style:{backgroundColor:"var(--ds-card)",border:h.isSpotlight?"1px solid #FFD700":"1px solid var(--ds-border)",padding:"20px"},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-2px)",y.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.3)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="none"},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:`news-category-pill news-category-${h.category.toLowerCase()}`,title:h.category,children:h.category}),h.featured&&i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs",style:{background:"linear-gradient(220deg, #FFD700 0%, #FFB347 100%)",color:"var(--ds-bg)",fontWeight:"600"},children:[i.jsx(rt,{className:"w-3 h-3"}),"Featured"]}),h.isSpotlight&&i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs",style:{background:"linear-gradient(220deg, #FFD700 0%, #FFB347 100%)",color:"var(--ds-bg)",fontWeight:"600"},children:[i.jsx(rt,{className:"w-3 h-3"}),"Spotlight"]}),h.isGolden&&i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs",style:{background:"linear-gradient(220deg, #FFB039 0%, #FFD369 100%)",color:"var(--ds-bg)",fontWeight:"600"},children:[i.jsx(rt,{className:"w-3 h-3"}),"Hall of Fame"]})]}),i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[(h.emoji||h.avatar)&&i.jsx("div",{className:"text-2xl flex-shrink-0",children:h.emoji||h.avatar}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"600",color:"var(--ds-text)",lineHeight:"1.4",marginBottom:"8px"},children:p?`${h.author} — ${h.title}`:h.title}),p&&i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--ds-text-subtle)"},children:h.specialty}),i.jsxs("span",{style:{fontSize:"var(--text-xs)",color:"var(--ds-text-subtle)"},children:["• ",h.timeAgo]})]})]})]}),i.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--ds-text-subtle)",lineHeight:"1.5",marginBottom:"16px"},children:h.excerpt}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs",style:{backgroundColor:"rgba(15, 21, 32, 0.8)"},children:p?h.avatar:h.authorAvatar}),i.jsxs("div",{children:[i.jsx("p",{style:{fontSize:"var(--text-xs)",fontWeight:"500",color:"var(--ds-text)"},children:h.author}),i.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--ds-text-subtle)"},children:p?h.timeAgo:h.publishedAt})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{className:"flex items-center gap-1 p-1 rounded",children:[i.jsx(Eo,{className:"w-3 h-3",style:{color:h.isGolden?"#FFB039":h.isSpotlight?"#FFD700":"var(--ds-blue)"}}),i.jsx("span",{style:{fontSize:"var(--text-xs)",color:h.isGolden?"#FFB039":h.isSpotlight?"#FFD700":"var(--ds-blue)",fontWeight:"500"},children:p?h.reactions:h.likes})]}),i.jsxs("button",{className:"flex items-center gap-1 p-1 rounded",children:[i.jsx(Sr,{className:"w-3 h-3",style:{color:"var(--ds-text-subtle)"}}),i.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--ds-text-subtle)"},children:h.comments})]})]})]})]});return i.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",style:{background:"var(--ds-bg)",color:"var(--ds-text)"},children:[i.jsxs("header",{className:"flex items-center justify-between",style:{background:"rgba(15, 21, 32, 0.95)",borderBottom:"1px solid var(--ds-border)",padding:"calc(var(--spacing-unit) * 3) calc(var(--spacing-unit) * 6)",backdropFilter:"blur(12px)",zIndex:20},children:[i.jsx("div",{className:"flex items-center",children:i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsxs("button",{onClick:()=>r("community"),className:"flex items-center gap-2 px-4 py-2 rounded transition-all duration-150",style:{color:"var(--ds-text)",backgroundColor:"transparent"},onMouseEnter:h=>{h.currentTarget.style.backgroundColor="var(--ds-blue-soft)",h.currentTarget.style.color="var(--ds-blue)"},onMouseLeave:h=>{h.currentTarget.style.backgroundColor="transparent",h.currentTarget.style.color="var(--ds-text)"},children:[i.jsx(Nc,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Home"})]})}),i.jsx(St,{children:"Back to Community Hub"})]})}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"var(--ds-text-subtle)",zIndex:1}}),i.jsx(Cr,{placeholder:"Search articles...",className:"pl-10 pr-4 py-2",style:{width:"200px",color:"var(--ds-text)",backgroundColor:"var(--ds-card)",border:"1px solid var(--ds-border)",borderRadius:"4px",paddingLeft:"40px"}})]}),i.jsx("button",{className:"p-2 rounded transition-all duration-150",style:{color:"var(--ds-text-subtle)",backgroundColor:"transparent"},onMouseEnter:h=>{h.currentTarget.style.backgroundColor="var(--ds-blue-soft)",h.currentTarget.style.color="var(--ds-blue)"},onMouseLeave:h=>{h.currentTarget.style.backgroundColor="transparent",h.currentTarget.style.color="var(--ds-text-subtle)"},children:i.jsx(wD,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%"},children:i.jsxs("div",{style:{width:"1120px",paddingLeft:"24px",paddingRight:"24px",paddingTop:"24px",paddingBottom:"24px",position:"relative"},children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h1",{style:{color:"var(--ds-blue)",fontSize:"var(--text-xl)",fontWeight:"600"},children:"Drop NEWS"}),i.jsx("p",{style:{color:"var(--ds-text-subtle)",fontSize:"var(--text-sm)",marginTop:"4px"},children:"Learn about DropSource, Kickstarter progress & community updates"})]}),i.jsx("div",{className:"flex items-center gap-6 justify-center",style:{marginBottom:"24px"},children:[{id:"all",label:"All News"},{id:"creator",label:"Creator"},{id:"golden",label:"Golden"},{id:"kickstarter",label:"Kickstarter"},{id:"features",label:"Features"},{id:"community",label:"Community"},{id:"tutorials",label:"Tutorials"},{id:"updates",label:"Updates"}].map(h=>i.jsx("button",{onClick:()=>t(h.id),className:"px-4 py-2 rounded transition-all duration-150",style:{backgroundColor:e===h.id?h.id==="golden"?"rgba(255, 176, 57, 0.16)":(h.id==="creator","rgba(99,179,255,0.16)"):"transparent",color:e===h.id?h.id==="golden"?"#FFB039":(h.id==="creator","#63B3FF"):h.id==="creator"&&e==="all"?"#FFB039":"var(--ds-text-subtle)",border:e===h.id?"1px solid "+(h.id==="golden"?"#FFB039":(h.id==="creator","#63B3FF")):h.id==="creator"&&e==="all"?"2px solid #FFB039":"1px solid transparent",fontSize:"var(--text-sm)",fontWeight:h.id==="creator"&&e==="all"?"500":"400"},children:h.label},h.id))}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"24px",width:"1096px",margin:"0 auto",justifyItems:"center"},children:e==="creator"?n.map(h=>i.jsx("div",{style:{width:"100%",height:"fit-content"},children:i.jsx(u,{item:h,isCreator:!0})},h.id)):e==="golden"?o.map(h=>i.jsx("div",{style:{width:"100%",height:"fit-content"},children:i.jsx(u,{item:h,isCreator:!1,isGolden:!0})},h.id)):i.jsxs(i.Fragment,{children:[d&&e==="all"&&i.jsxs("div",{className:"overflow-hidden rounded relative",style:{backgroundColor:"var(--ds-card)",border:"1px solid var(--ds-border)",padding:"32px",width:"100%",height:"fit-content"},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded",style:{background:"linear-gradient(220deg, #FFD700 0%, #FFB347 100%)",color:"var(--ds-bg)",fontSize:"var(--text-xs)",fontWeight:"600"},children:[i.jsx(rt,{className:"w-3 h-3"}),"Featured"]}),i.jsx(ft,{variant:"outline",style:{color:"var(--ds-blue)",borderColor:"var(--ds-blue)",backgroundColor:"var(--ds-blue-soft)"},children:d.category})]}),i.jsxs("div",{className:"flex items-start gap-6",children:[i.jsx("div",{className:"text-6xl",children:d.emoji}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{style:{fontSize:"var(--text-xl)",fontWeight:"600",color:"var(--ds-text)",marginBottom:"12px"},children:d.title}),i.jsx("p",{style:{fontSize:"var(--text-base)",color:"var(--ds-text-subtle)",lineHeight:"1.6",marginBottom:"16px"},children:d.excerpt}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(15, 21, 32, 0.8)"},children:d.authorAvatar}),i.jsxs("div",{children:[i.jsx("p",{style:{fontSize:"var(--text-sm)",fontWeight:"500",color:"var(--ds-text)"},children:d.author}),i.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--ds-text-subtle)"},children:d.publishedAt})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{className:"flex items-center gap-1 p-2 rounded",children:[i.jsx(Eo,{className:"w-4 h-4",style:{color:"var(--ds-blue)"}}),i.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--ds-blue)",fontWeight:"500"},children:d.likes})]}),i.jsxs("button",{className:"flex items-center gap-1 p-2 rounded",children:[i.jsx(Sr,{className:"w-4 h-4",style:{color:"var(--ds-text-subtle)"}}),i.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--ds-text-subtle)"},children:d.comments})]})]})]})]})]})]}),l().filter(h=>!h.featured||e!=="all").map(h=>i.jsx("div",{style:{width:"100%",height:"fit-content"},children:i.jsx(u,{item:h,isCreator:!1})},h.id))]})})]})})]})}const YW=[{id:"general",name:"#general",active:!0,description:"General discussion"},{id:"show-and-tell",name:"#show-and-tell",active:!1,description:"Share your creations"},{id:"memes",name:"#memes",active:!1,description:"Memes and fun content"},{id:"trades",name:"#trades",active:!1,description:"Trading collectibles"},{id:"stickers",name:"#stickers",active:!1,description:"Sticker discussion"},{id:"auctions",name:"#auctions",active:!1,description:"Live auctions"},{id:"help",name:"#help",active:!1,description:"Get help and support"},{id:"offtopic",name:"#offtopic",active:!1,description:"Off-topic chat"}],XW=["CraftyCrow","CodeWizard","PixelSmith","MidnightCoder","ZineZebra","AuctionBot","MemeQueen","DevLife","PixelPal","CoffeeCreator","SnackAttack","ReactiveRaven","FireStarter","LinkSeeker","SerialHunter","BeatHarderThnMyMeat","tax_evasion_420","GothGF","SynthMaster"],KW=[{id:"1",username:"CraftyCrow",handle:"@CraftyCrow",avatar:"🎨",content:"just dropped 'Retro Sunflower' [Sticker] — Serial 88/250",timestamp:new Date(Date.now()-5e3),type:"sticker",channel:"general",attachments:[{type:"sticker",title:"Retro Sunflower",creator:"CraftyCrow",serial:"88/250",rarity:"rare"}]},{id:"2",username:"CodeWizard",handle:"@CodeWizard",avatar:"🧙‍♂️",content:"brb exporting a 'Mega Frog Pack'",timestamp:new Date(Date.now()-15e3),type:"text",channel:"general"},{id:"3",username:"PixelSmith",handle:"@PixelSmith",avatar:"⚒️",content:"anyone trading Cheese God 3000? #ISO @CraftyCrow might have one",timestamp:new Date(Date.now()-25e3),type:"text",channel:"trades",mentions:["CraftyCrow"]},{id:"4",username:"MidnightCoder",handle:"@MidnightCoder",avatar:"🌙",content:"mood: debugging at 2am 💀",timestamp:new Date(Date.now()-35e3),type:"text",channel:"general"},{id:"5",username:"ZineZebra",handle:"@ZineZebra",avatar:"🦓",content:"thanks @PixelSmith for the collab! preview👇",timestamp:new Date(Date.now()-45e3),type:"image",channel:"show-and-tell",mentions:["PixelSmith"],attachments:[{type:"image",title:"Collab Preview",url:"https://picsum.photos/200/120?random=1"}]},{id:"6",username:"AuctionBot",handle:"@AuctionBot",avatar:"🤖",content:"auction in 10: Bonk Horny Jail (Card) — current ⭐ 45",timestamp:new Date(Date.now()-55e3),type:"card",channel:"auctions",attachments:[{type:"card",title:"Bonk Horny Jail",serial:"12/100",rarity:"elite"}]},{id:"7",username:"MemeQueen",handle:"@MemeQueen",avatar:"👑",content:"ship it or skip it",timestamp:new Date(Date.now()-65e3),type:"text",channel:"memes"},{id:"8",username:"DevLife",handle:"@DevLife",avatar:"💻",content:"ctrl+s your feelings",timestamp:new Date(Date.now()-75e3),type:"text",channel:"general"},{id:"9",username:"PixelPal",handle:"@PixelPal",avatar:"🎮",content:"pixels > sleep",timestamp:new Date(Date.now()-85e3),type:"text",channel:"general"},{id:"10",username:"CoffeeCreator",handle:"@CoffeeCreator",avatar:"☕",content:"gm gm",timestamp:new Date(Date.now()-95e3),type:"text",channel:"general"}],R2=[{id:"11",username:"SnackAttack",handle:"@SnackAttack",avatar:"🍿",content:"back from snack run",timestamp:new Date(Date.now()-105e3),type:"text",channel:"general"},{id:"12",username:"ReactiveRaven",handle:"@ReactiveRaven",avatar:"🐦‍⬛",content:"W",timestamp:new Date(Date.now()-115e3),type:"text",channel:"general"},{id:"13",username:"FireStarter",handle:"@FireStarter",avatar:"🔥",content:"fire",timestamp:new Date(Date.now()-125e3),type:"text",channel:"general"},{id:"14",username:"LinkSeeker",handle:"@LinkSeeker",avatar:"🔗",content:"send link?",timestamp:new Date(Date.now()-135e3),type:"text",channel:"general"},{id:"15",username:"SerialHunter",handle:"@SerialHunter",avatar:"🔍",content:"serial pls",timestamp:new Date(Date.now()-145e3),type:"text",channel:"general"}];function qW({onClose:r,onMinimize:e,initialPosition:t,width:s,height:n,zIndex:o,onPositionChange:l,onSizeChange:d,onFocus:u}){const[h,p]=b.useState("general"),[m,y]=b.useState(KW),[x,v]=b.useState(""),[w,j]=b.useState(!1),[C,N]=b.useState({x:0,y:0}),[k,_]=b.useState(t),[P,D]=b.useState(!1),[M,E]=b.useState(""),[R,O]=b.useState(null),B=b.useRef(null),L=["Share a WIP…","Drop a sticker…","Shout out a creator with @…"],[$,J]=b.useState(0);b.useEffect(()=>{const q=setInterval(()=>{J(oe=>(oe+1)%L.length)},3e3);return()=>clearInterval(q)},[]),b.useEffect(()=>{const q=setInterval(()=>{if(Math.random()>.7){const oe=R2[Math.floor(Math.random()*R2.length)],he={...oe,id:`${Date.now()}-${Math.random()}`,timestamp:new Date,channel:Math.random()>.7?h:oe.channel||"general"};y(fe=>[...fe.slice(-20),he])}},3e3);return()=>clearInterval(q)},[h]),b.useEffect(()=>{B.current?.scrollIntoView({behavior:"smooth"})},[m]),b.useEffect(()=>{const q=x.lastIndexOf("@");if(q!==-1){const oe=x.slice(q+1);oe.length>0&&!oe.includes(" ")?(E(oe.toLowerCase()),D(!0)):oe.length===0?(E(""),D(!0)):D(!1)}else D(!1)},[x]);const ce=q=>{q.target.closest(".chat-content")||(j(!0),N({x:q.clientX-k.x,y:q.clientY-k.y}),u())},V=q=>{if(!w)return;const oe={x:q.clientX-C.x,y:q.clientY-C.y};_(oe),l(oe)},X=()=>{j(!1)};b.useEffect(()=>{if(w)return document.addEventListener("mousemove",V),document.addEventListener("mouseup",X),()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",X)}},[w,C]);const F=q=>({common:"#22C55E",rare:"#FF70A6",premium:"#60A5FA",elite:"#3D94FF",legendary:"#F59E0B"})[q]||"#22C55E",ee=m.filter(q=>q.channel===h||!q.channel),H=XW.filter(q=>q.toLowerCase().includes(M)),z=q=>{const oe=x.lastIndexOf("@"),he=x.slice(0,oe),fe=x.slice(oe).replace(/@\w*/,`@${q} `);v(he+fe),D(!1)},Z=q=>{const oe=q.type==="system",he=fe=>{const G=[],Q=/@(\w+)/g,de=/'([^']+)'/g;let me=0,_e;for(;(_e=Q.exec(fe))!==null;)_e.index>me&&G.push(fe.slice(me,_e.index)),G.push(i.jsx("span",{className:"text-blue-400 font-medium hover:text-blue-300 cursor-pointer",children:_e[0]},`mention-${_e.index}`)),me=_e.index+_e[0].length;if(me<fe.length){let Ve=fe.slice(me);const be=[];let pe=0;for(;(_e=de.exec(Ve))!==null;)_e.index>pe&&be.push(Ve.slice(pe,_e.index)),be.push(i.jsxs("span",{className:"text-purple-400 font-medium hover:text-purple-300 cursor-pointer",onMouseEnter:()=>O({name:_e[1],x:0,y:0}),onMouseLeave:()=>O(null),children:["'",_e[1],"'"]},`sticker-${_e.index}`)),pe=_e.index+_e[0].length;pe<Ve.length&&be.push(Ve.slice(pe)),G.push(...be)}return G.length>1?G:fe};return i.jsxs("div",{className:`flex gap-3 ${oe?"justify-center":""} group`,children:[!oe&&i.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-xs font-semibold text-white flex-shrink-0",children:q.avatar}),i.jsxs("div",{className:`flex-1 ${oe?"text-center":""}`,children:[!oe&&i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-semibold text-white",children:q.username}),i.jsx("span",{className:"text-xs text-gray-400",children:q.handle}),i.jsx("span",{className:"text-xs text-gray-500",children:q.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),i.jsx("div",{className:`text-sm ${oe?"text-gray-400 italic":"text-gray-200"}`,children:he(q.content)}),q.attachments&&i.jsx("div",{className:"mt-2 flex gap-2",children:q.attachments.map((fe,G)=>i.jsxs("div",{className:"relative group/attachment",children:[fe.type==="sticker"&&i.jsx("div",{className:"w-24 h-24 rounded border-2 bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold hover:scale-105 transition-transform cursor-pointer",style:{borderColor:F(fe.rarity||"common")},children:"🌻"}),fe.type==="card"&&i.jsx("div",{className:"w-32 h-20 rounded border-2 bg-gradient-to-br from-blue-600 to-cyan-500 flex items-center justify-center text-white font-bold hover:scale-105 transition-transform cursor-pointer",style:{borderColor:F(fe.rarity||"common")},children:"🃏"}),fe.type==="image"&&i.jsx("img",{src:fe.url,alt:fe.title,className:"max-w-xs rounded hover:scale-105 transition-transform cursor-pointer"}),i.jsxs("div",{className:"absolute -top-24 left-1/2 transform -translate-x-1/2 bg-black/95 text-white text-xs rounded-lg px-4 py-3 opacity-0 group-hover/attachment:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap border border-gray-600",children:[i.jsx("div",{className:"font-semibold text-center mb-2",children:fe.title}),fe.creator&&i.jsxs("div",{className:"text-gray-300",children:["Creator: ",fe.creator]}),fe.serial&&i.jsxs("div",{className:"text-gray-300",children:["Serial ",fe.serial]}),fe.rarity&&i.jsx("div",{className:"flex items-center justify-center gap-2 mt-2 mb-2",children:i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-black",style:{backgroundColor:F(fe.rarity)},children:fe.rarity.charAt(0).toUpperCase()+fe.rarity.slice(1)})}),i.jsxs("div",{className:"flex gap-1 mt-2 text-xs justify-center",children:[i.jsx("button",{className:"bg-blue-600 px-3 py-1 rounded hover:bg-blue-500 transition-colors",children:"View"}),i.jsx("button",{className:"bg-green-600 px-3 py-1 rounded hover:bg-green-500 transition-colors",children:"Gift"}),i.jsx("button",{className:"bg-yellow-600 px-3 py-1 rounded hover:bg-yellow-500 transition-colors",children:"Trade"}),i.jsx("button",{className:"bg-purple-600 px-3 py-1 rounded hover:bg-purple-500 transition-colors",children:"Auction"})]})]})]},G))})]})]},q.id)};return i.jsxs("div",{className:`fixed rounded-2xl border border-white/8 bg-zinc-950/90 backdrop-blur-md shadow-[0_10px_40px_rgba(0,0,0,0.6)] w-[820px] max-h-[72vh] overflow-hidden flex flex-col ${w?"dragging":""}`,style:{left:k.x,top:k.y,zIndex:o,cursor:w?"grabbing":"default"},onClick:u,children:[i.jsxs("div",{className:"h-12 px-4 flex items-center justify-between border-b border-white/5 cursor-move",onMouseDown:ce,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-blue-400"}),i.jsx("h3",{className:"font-semibold text-white",children:"Live Chats"}),i.jsxs(ft,{className:"bg-green-600/20 text-green-400 border-green-600/30",children:[ee.length," msgs"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(Se,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:i.jsx(yn,{className:"w-4 h-4"})})}),i.jsx(St,{children:"Search Messages"})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx(Se,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:i.jsx(wi,{className:"w-4 h-4"})})}),i.jsx(St,{children:"Create/Join Channel"})]}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-white",children:i.jsx(Tc,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:r,className:"text-gray-400 hover:text-red-400",children:i.jsx(kr,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"h-10 px-3 flex items-center gap-2 border-b border-white/5 bg-gray-900/50",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-thin",children:YW.map(q=>{const oe=m.filter(fe=>fe.channel===q.id||!fe.channel&&q.id==="general"),he=oe.some(fe=>fe.timestamp>new Date(Date.now()-3e4));return i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsxs("button",{onClick:()=>p(q.id),className:`px-4 py-2 rounded-lg text-xs font-medium whitespace-nowrap transition-all relative flex items-center gap-2 ${h===q.id?"bg-blue-600 text-white shadow-lg shadow-blue-600/30 border border-blue-500":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 border border-gray-600/50"}`,children:[i.jsx(X0,{className:"w-3 h-3"}),q.name.replace("#",""),he&&h!==q.id&&i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"})]})}),i.jsx(St,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:q.name}),i.jsx("div",{className:"text-xs text-gray-400",children:q.description}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[oe.length," messages"]})]})})]},q.id)})})}),i.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:i.jsxs("div",{className:"p-4 space-y-4 chat-content dropsource-custom-scrollbar",children:[ee.map(Z),i.jsx("div",{ref:B})]})}),i.jsxs("div",{className:"h-12 px-3 border-t border-white/5 flex items-center gap-2 relative",children:[P&&H.length>0&&i.jsx("div",{className:"absolute bottom-full left-3 right-3 mb-2 bg-gray-800 border border-gray-600 rounded-lg shadow-lg z-10 max-h-32 overflow-y-auto",children:H.slice(0,5).map(q=>i.jsxs("button",{onClick:()=>z(q),className:"w-full px-3 py-2 text-left text-gray-200 hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-xs font-semibold text-white",children:q.charAt(0)}),i.jsxs("span",{children:["@",q]})]},q))}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Cr,{value:x,onChange:q=>v(q.target.value),placeholder:L[$],className:"pr-16 bg-gray-800 border-gray-600 text-white placeholder-gray-400",onKeyPress:q=>{if(q.key==="Enter"&&x.trim()&&!P){const oe=(x.match(/@(\w+)/g)||[]).map(fe=>fe.slice(1)),he={id:Date.now().toString(),username:"You",handle:"@you",avatar:"👤",content:x,timestamp:new Date,type:"text",channel:h,mentions:oe};y(fe=>[...fe,he]),v("")}}}),i.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[i.jsx(Se,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-gray-400 hover:text-white",children:i.jsx(UC,{className:"w-4 h-4"})}),i.jsx(Se,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-gray-400 hover:text-white",children:i.jsx(VC,{className:"w-4 h-4"})})]})]}),i.jsx(Se,{size:"sm",className:"bg-blue-600 hover:bg-blue-500",disabled:!x.trim(),onClick:()=>{if(x.trim()){const q=(x.match(/@(\w+)/g)||[]).map(he=>he.slice(1)),oe={id:Date.now().toString(),username:"You",handle:"@you",avatar:"👤",content:x,timestamp:new Date,type:"text",channel:h,mentions:q};y(he=>[...he,oe]),v("")}},children:i.jsx(Mc,{className:"w-4 h-4"})})]})]})}const ZW=[{to:"community",label:"Home"},{to:"community-feed",label:"Community Hub"},{to:"pad",label:"Pad"},{to:"shop",label:"Shop"},{to:"profile",label:"Profile"},{to:"dms",label:"DMs"},{to:"friends",label:"Friends"},{to:"scrapbook",label:"Scrapbook"},{to:"book",label:"DropSource Book"},{to:"auction",label:"Auction"},{to:"live-chat",label:"Chat"}];function JW({currentPage:r,onNavigate:e,onOpenFeature:t}){const{open:s,focus:n,state:o}=K0(),l=d=>{["community","community-feed","pad","profile","book"].includes(d.to)?e(d.to):d.to==="live-chat"?o.isOpen?n():s():t(d.to)};return i.jsx("nav",{className:"sticky top-0 z-40 border-b backdrop-blur-md",style:{backgroundColor:"rgba(11, 15, 20, 0.9)",borderBottomColor:"#1A2531",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:i.jsxs("div",{className:"mx-auto h-12 flex items-center justify-between px-6",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-lg font-bold dropsource-logo-enhanced cursor-pointer",onClick:()=>e("community"),style:{background:"linear-gradient(90deg, #00AEEF 0%, #8F63FF 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"DropSource"})}),i.jsx("div",{className:"flex items-center gap-2",children:ZW.map(d=>{const u=r===d.to;return i.jsxs("button",{onClick:()=>l(d),className:"px-4 py-2 text-sm font-medium transition-all duration-200 relative",style:{color:u?"#E6ECF3":"#A9B7C6",backgroundColor:"transparent",border:"none",borderRadius:"4px",position:"relative"},onMouseEnter:h=>{u||(h.currentTarget.style.color="#E6ECF3")},onMouseLeave:h=>{u||(h.currentTarget.style.color="#A9B7C6")},children:[d.label,u&&i.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-0.5 rounded-full",style:{backgroundColor:"#3BA7FF"}})]},d.to)})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full",style:{backgroundColor:"rgba(255, 176, 57, 0.1)",border:"1px solid rgba(255, 176, 57, 0.3)"},children:[i.jsx(rt,{className:"w-4 h-4",style:{color:"#FFB039"}}),i.jsx("span",{className:"text-sm font-medium",style:{color:"#FFB039"},children:"2,847"})]}),i.jsxs("button",{onClick:()=>t("notifications"),className:"p-2 rounded-full transition-all duration-200 relative",style:{backgroundColor:"rgba(99, 179, 255, 0.1)",border:"1px solid rgba(99, 179, 255, 0.3)",color:"#63B3FF"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="rgba(99, 179, 255, 0.2)",d.currentTarget.style.transform="scale(1.05)"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="rgba(99, 179, 255, 0.1)",d.currentTarget.style.transform="scale(1)"},children:[i.jsx(ch,{className:"w-4 h-4"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full flex items-center justify-center",style:{backgroundColor:"#FF6B6B"},children:i.jsx("span",{className:"text-xs font-bold text-white",children:"3"})})]}),i.jsx("span",{className:"text-sm font-medium",style:{color:"#E6ECF3"},children:"Test User"})]})]})})}function QW(){const[r,e]=b.useState("community"),[t,s]=b.useState(120),[n,o]=b.useState(!1),[l,d]=b.useState([]),[u,h]=b.useState([]),[p,m]=b.useState(1e3),[y,x]=b.useState(!1),[v,w]=b.useState({x:0,y:0}),[j,C]=b.useState(!1),[N,k]=b.useState(!1),[_,P]=b.useState("#60A5FA"),[D,M]=b.useState(3),[E,R]=b.useState("brush"),[O,B]=b.useState(!1),[L,$]=b.useState(!1),J=b.useRef(null);b.useEffect(()=>{L&&J.current?XN.initStickerModeSafe(J.current):!L&&J.current},[L]),b.useEffect(()=>()=>{J.current},[]);const[ce,V]=b.useState(!1),[X,F]=b.useState(!0),[ee]=b.useState([{id:"1",title:"Summer Vibes",lastModified:new Date("2024-01-15"),bpm:110,key:"G",hasUnreadChanges:!0},{id:"2",title:"Midnight Dreams",lastModified:new Date("2024-01-14"),bpm:85,key:"Am"},{id:"3",title:"Electric Soul",lastModified:new Date("2024-01-13"),bpm:128,key:"Em",hasUnreadChanges:!0}]),H=le=>{if(le==="rhyme-highlight"){_e();return}if(le==="drawing"||le==="drawing-tools"){Ve();return}if(le==="minting"){V(!0);return}if(le==="projects"){B(!0);return}if(le==="ai"||le==="ai-assist"){if(l.some(we=>we.type==="ai")){z("ai");return}const hr=l.length*30,ue=he("ai"),Ne={type:"ai",position:{x:100+hr,y:100+hr},size:ue,zIndex:p+l.length+10};d(we=>[...we,Ne]);return}if(le==="collaboration"||le==="buddy"){if(l.some(we=>we.type==="buddy")){z("buddy");return}const hr=l.length*30,ue=he("buddy"),Ne={type:"buddy",position:{x:100+hr,y:100+hr},size:ue,zIndex:p+l.length+10};d(we=>[...we,Ne]);return}const Ge=l.some(Dt=>Dt.type===le),st=u.some(Dt=>Dt.type===le);if(Ge){z(le);return}if(st){q(le);return}const ct=l.length*30,vt=he(le);let jr={x:100+ct,y:100+ct};const Gs={type:le,position:jr,size:vt,zIndex:p+l.length+10};d(Dt=>[...Dt,Gs])},z=le=>{d(Ge=>Ge.filter(st=>st.type!==le)),h(Ge=>Ge.filter(st=>st.type!==le))},Z=le=>{const Ge=oe(le);d(st=>st.filter(ct=>ct.type!==le)),h(st=>[...st,{type:le,title:Ge}])},q=le=>{h(vt=>vt.filter(jr=>jr.type!==le));const Ge=l.length*30,st=he(le);let ct={x:100+Ge,y:100+Ge};d(vt=>[...vt,{type:le,position:ct,size:st,zIndex:p+vt.length+10}])},oe=le=>({"rhyme-highlight":"Highlight Rhymes",rhyme:"Rhyme Helper",chord:"Chord Helper",syllable:"Syllable Counter",metronome:"Metronome & Tap",audio:"Audio Notes",drawing:"Drawing",ai:"AI Assist",buddy:"Buddy",projects:"Projects",shop:"Star Shop",contact:"Direct Contact",challenges:"Challenges & Goals",auction:"Auction House",notifications:"Notifications",news:"News",minting:"Mint Collectible","live-chat":"Live Chat",dms:"Direct Messages",friends:"Friends List",scrapbook:"Scrapbook",book:"Drop Source Book"})[le]||"Unknown Feature",he=le=>({"rhyme-highlight":{width:400,height:500},rhyme:{width:400,height:500},chord:{width:450,height:550},syllable:{width:350,height:400},metronome:{width:300,height:350},audio:{width:500,height:600},drawing:{width:600,height:500},ai:{width:500,height:700},buddy:{width:400,height:600},projects:{width:500,height:650},shop:{width:800,height:700},contact:{width:500,height:600},challenges:{width:600,height:700},auction:{width:500,height:600},notifications:{width:400,height:500},news:{width:500,height:600},minting:{width:400,height:650},"live-chat":{width:450,height:Math.min(window.innerHeight*.8,650)},dms:{width:400,height:500},friends:{width:350,height:450},scrapbook:{width:500,height:600},book:{width:600,height:700}})[le]||{width:400,height:500},fe=le=>{const Ge=p+50;d(st=>st.map(ct=>ct.type===le?{...ct,zIndex:Ge}:ct)),m(Ge)},G=(le,Ge)=>{d(st=>st.map(ct=>ct.type===le?{...ct,position:Ge}:ct))},Q=(le,Ge)=>{d(st=>st.map(ct=>ct.type===le?{...ct,size:Ge}:ct))},de=le=>{const st={rhyme:()=>i.jsx(GB,{}),chord:()=>i.jsx(k9,{}),syllable:()=>i.jsx(j9,{}),metronome:()=>i.jsx(U9,{currentBpm:t,onBpmChange:ge}),audio:()=>i.jsx(UB,{}),ai:()=>i.jsx($9,{}),buddy:()=>i.jsx(v7,{}),shop:()=>i.jsx(EW,{onClose:()=>z("shop")}),challenges:()=>i.jsx(DW,{onClose:()=>z("challenges")})}[le];return st?st():null},me=new Set(l.map(le=>le.type)),_e=()=>{C(!j)},Ve=()=>{k(!N)},be=()=>{},pe=()=>{window.undoDrawing&&window.undoDrawing()},re=()=>{window.clearDrawing&&window.clearDrawing()},ge=le=>{s(le)};b.useEffect(()=>{window.updateProjectBpm=ge},[]);const ae=le=>{le==="home"?e("community"):le==="editor"||le==="pad"?e("pad"):le==="community-hub"?e("community-hub"):le==="community-feed"?e("community-feed"):le==="shop"?H("shop"):le==="book"?H("book"):e(le==="dcp"?"dcp":le==="news"?"news":le==="community"?"community":le)},ve=le=>{const Ge=le.currentTarget.getBoundingClientRect();w({x:Ge.left+Ge.width/2,y:Ge.top}),x(!0)},Re=()=>{},Pe=()=>{$(!0),k(!0)},Je=()=>{$(!1),k(!1)},He=()=>{switch(r){case"community":return i.jsx(n2,{onNavigate:ae,onOpenFeature:H});case"community-hub":return i.jsx(N7,{onNavigate:ae});case"community-feed":return i.jsx(Y7,{onNavigate:ae});case"profile":return i.jsx(JV,{onNavigate:ae});case"leaderboard":return i.jsx(wW,{onNavigate:ae});case"book":return i.jsx(jW,{onNavigate:ae});case"dcp":return i.jsx($W,{onNavigate:ae});case"news":return i.jsx(GW,{onNavigate:ae});case"pad":return i.jsx("div",{ref:J,className:"pad-container flex-1 relative transition-all duration-1000 h-full",children:i.jsx("main",{className:"h-full p-6 relative",children:i.jsx(pA,{isRhymeHighlightEnabled:j,isDrawingMode:N,onDrawingStart:be,showStats:!1,selectedColor:_,brushSize:D,selectedTool:E,onUndo:pe,onClearDrawing:re})})});default:return i.jsx(n2,{onNavigate:ae,onOpenFeature:H})}};return i.jsx(lA,{children:i.jsx(ws,{children:i.jsxs("div",{className:"h-screen dropsource-bg dropsource-text-primary flex flex-col overflow-hidden",children:[r!=="community"&&i.jsx(JW,{currentPage:r,onNavigate:ae,onOpenFeature:H}),i.jsx("div",{className:"flex-1 overflow-hidden transition-all duration-300 ease-out",style:{animation:"fadeInSmooth 300ms ease-out"},children:He()},r),i.jsx(EA,{isOpen:n,onClose:()=>o(!1),projects:ee,currentProjectId:"1",onSelectProject:le=>{console.log("Select project:",le),o(!1)},onCreateProject:()=>{console.log("Create new project"),o(!1)},onDuplicateProject:le=>console.log("Duplicate project:",le),onDeleteProject:le=>console.log("Delete project:",le)}),r==="pad"&&i.jsx(OA,{onOpenFeature:H,activeFeatures:me,onToggleRhymeHighlight:_e,onToggleDrawing:Ve,isRhymeHighlightActive:j,isDrawingActive:N,isStickerMode:L,onEnterStickerMode:Pe,onExitStickerMode:Je,isBarVisible:X,onToggleBarVisibility:()=>F(!X)}),i.jsx(y6,{isOpen:O,onClose:()=>B(!1),onSelectProject:le=>{console.log("Selected project:",le)}}),i.jsx(BW,{isOpen:ce,onClose:()=>V(!1)}),l.map(le=>{if(le.type==="live-chat")return i.jsx(je.Fragment,{children:i.jsx(qW,{onClose:()=>z(le.type),onMinimize:()=>Z(le.type),initialPosition:le.position,width:le.size.width,height:le.size.height,zIndex:le.zIndex,onPositionChange:Ge=>G(le.type,Ge),onSizeChange:Ge=>Q(le.type,Ge),onFocus:()=>fe(le.type)})},le.type);if(["auction","notifications","dms","friends","scrapbook","book"].includes(le.type)){const Ge={auction:FW,notifications:IW,dms:WW,friends:HW,scrapbook:UW,book:NW}[le.type];if(Ge)return i.jsx(Ge,{onClose:()=>z(le.type),onMinimize:()=>Z(le.type),initialPosition:le.position,width:le.size.width,height:le.size.height,zIndex:le.zIndex,onPositionChange:st=>G(le.type,st),onSizeChange:st=>Q(le.type,st),onFocus:()=>fe(le.type)},le.type)}return i.jsx(je.Fragment,{children:i.jsx(tf,{title:oe(le.type),onClose:()=>z(le.type),onMinimize:()=>Z(le.type),initialPosition:le.position,width:le.size.width,height:le.size.height,zIndex:le.zIndex,onPositionChange:Ge=>G(le.type,Ge),onSizeChange:Ge=>Q(le.type,Ge),onFocus:()=>fe(le.type),children:de(le.type)})},le.type)}),i.jsx(N6,{minimizedCards:u,onRestoreCard:q,onCloseCard:z}),i.jsx(AW,{onFound:Re}),r!=="pad"&&r!=="community"&&r!=="dcp"&&r!=="news"&&i.jsx(ws,{children:i.jsxs("div",{className:"fixed z-50 flex flex-col gap-3",style:{bottom:"calc(var(--spacing-unit) * 3)",right:"calc(var(--spacing-unit) * 3)"},children:[i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>H("challenges"),className:"dropsource-toolbar-button dropsource-focus-visible dropsource-clickable flex items-center justify-center",style:{width:"48px",height:"48px",padding:"0",backgroundColor:"var(--dropsource-panel)",border:"1px solid var(--dropsource-border)",borderRadius:"var(--radius-sharp)"},children:i.jsx(Fa,{className:"w-5 h-5 dropsource-icon-outlined"})})}),i.jsx(St,{side:"left",className:"dropsource-card",children:i.jsx("p",{style:{fontSize:"var(--text-sm)"},children:"Challenges"})})]}),i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:ve,className:"dropsource-focus-visible dropsource-clickable flex items-center justify-center relative drop-button",style:{width:"48px",height:"48px",padding:"0",background:"linear-gradient(135deg, #00AEEF 0%, #8F63FF 100%)",border:"none",borderRadius:"var(--radius-sharp)",color:"#fff",transition:"all 250ms ease-out",boxShadow:"0 0 20px rgba(0, 174, 239, 0.3)"},onMouseEnter:le=>{le.currentTarget.style.transform="translateY(-2px) scale(1.05)",le.currentTarget.style.boxShadow="0 0 30px rgba(143, 99, 255, 0.6)"},onMouseLeave:le=>{le.currentTarget.style.transform="translateY(0) scale(1)",le.currentTarget.style.boxShadow="0 0 20px rgba(0, 174, 239, 0.3)"},children:i.jsx(G0,{className:"w-6 h-6",style:{strokeWidth:"2.5px",strokeLinecap:"round",strokeLinejoin:"round"}})})}),i.jsx(St,{side:"left",className:"dropsource-card",children:i.jsx("p",{style:{fontSize:"var(--text-sm)"},children:"Drop"})})]})]})}),r!=="pad"&&r!=="community"&&i.jsx(ws,{children:i.jsx("div",{className:"fixed z-50",style:{bottom:"calc(var(--spacing-unit) * 3)",left:"calc(var(--spacing-unit) * 3)"},children:i.jsxs(Mt,{children:[i.jsx(wt,{asChild:!0,children:i.jsx("button",{onClick:()=>B(!0),className:"dropsource-toolbar-button dropsource-focus-visible dropsource-clickable flex items-center justify-center",style:{width:"48px",height:"48px",padding:"0",backgroundColor:"var(--dropsource-panel)",border:"1px solid var(--dropsource-border)",borderRadius:"var(--radius-sharp)"},children:i.jsx(Y0,{className:"w-5 h-5 dropsource-icon-outlined"})})}),i.jsx(St,{side:"right",className:"dropsource-card",children:i.jsx("p",{style:{fontSize:"var(--text-sm)"},children:"Projects"})})]})})}),y&&i.jsx(RW,{onClose:()=>x(!1),position:v}),i.jsx(dA,{})]})})})}L5.createRoot(document.getElementById("root")).render(i.jsx(QW,{}));
